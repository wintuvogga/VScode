ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"tasks.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.prvTaskIsTaskSuspended,"ax",%progbits
  18              		.align	1
  19              		.syntax unified
  20              		.thumb
  21              		.thumb_func
  22              		.fpu fpv4-sp-d16
  24              	prvTaskIsTaskSuspended:
  25              	.LFB16:
  26              		.file 1 "Src/RTOS/tasks.c"
   1:Src/RTOS/tasks.c **** /*
   2:Src/RTOS/tasks.c ****  * FreeRTOS Kernel V10.0.1
   3:Src/RTOS/tasks.c ****  * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Src/RTOS/tasks.c ****  *
   5:Src/RTOS/tasks.c ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Src/RTOS/tasks.c ****  * this software and associated documentation files (the "Software"), to deal in
   7:Src/RTOS/tasks.c ****  * the Software without restriction, including without limitation the rights to
   8:Src/RTOS/tasks.c ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Src/RTOS/tasks.c ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:Src/RTOS/tasks.c ****  * subject to the following conditions:
  11:Src/RTOS/tasks.c ****  *
  12:Src/RTOS/tasks.c ****  * The above copyright notice and this permission notice shall be included in all
  13:Src/RTOS/tasks.c ****  * copies or substantial portions of the Software.
  14:Src/RTOS/tasks.c ****  *
  15:Src/RTOS/tasks.c ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Src/RTOS/tasks.c ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Src/RTOS/tasks.c ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Src/RTOS/tasks.c ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Src/RTOS/tasks.c ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
  20:Src/RTOS/tasks.c ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Src/RTOS/tasks.c ****  *
  22:Src/RTOS/tasks.c ****  * http://www.FreeRTOS.org
  23:Src/RTOS/tasks.c ****  * http://aws.amazon.com/freertos
  24:Src/RTOS/tasks.c ****  *
  25:Src/RTOS/tasks.c ****  * 1 tab == 4 spaces!
  26:Src/RTOS/tasks.c ****  */
  27:Src/RTOS/tasks.c **** 
  28:Src/RTOS/tasks.c **** /* Standard includes. */
  29:Src/RTOS/tasks.c **** #include <stdlib.h>
  30:Src/RTOS/tasks.c **** #include <string.h>
  31:Src/RTOS/tasks.c **** 
  32:Src/RTOS/tasks.c **** /* Defining MPU_WRAPPERS_INCLUDED_FROM_API_FILE prevents task.h from redefining
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 2


  33:Src/RTOS/tasks.c **** all the API functions to use the MPU wrappers.  That should only be done when
  34:Src/RTOS/tasks.c **** task.h is included from an application file. */
  35:Src/RTOS/tasks.c **** #define MPU_WRAPPERS_INCLUDED_FROM_API_FILE
  36:Src/RTOS/tasks.c **** 
  37:Src/RTOS/tasks.c **** /* FreeRTOS includes. */
  38:Src/RTOS/tasks.c **** #include "FreeRTOS.h"
  39:Src/RTOS/tasks.c **** #include "task.h"
  40:Src/RTOS/tasks.c **** #include "timers.h"
  41:Src/RTOS/tasks.c **** #include "stack_macros.h"
  42:Src/RTOS/tasks.c **** 
  43:Src/RTOS/tasks.c **** /* Lint e961 and e750 are suppressed as a MISRA exception justified because the
  44:Src/RTOS/tasks.c **** MPU ports require MPU_WRAPPERS_INCLUDED_FROM_API_FILE to be defined for the
  45:Src/RTOS/tasks.c **** header files above, but not in this file, in order to generate the correct
  46:Src/RTOS/tasks.c **** privileged Vs unprivileged linkage and placement. */
  47:Src/RTOS/tasks.c **** #undef MPU_WRAPPERS_INCLUDED_FROM_API_FILE /*lint !e961 !e750. */
  48:Src/RTOS/tasks.c **** 
  49:Src/RTOS/tasks.c **** /* Set configUSE_STATS_FORMATTING_FUNCTIONS to 2 to include the stats formatting
  50:Src/RTOS/tasks.c **** functions but without including stdio.h here. */
  51:Src/RTOS/tasks.c **** #if ( configUSE_STATS_FORMATTING_FUNCTIONS == 1 )
  52:Src/RTOS/tasks.c **** 	/* At the bottom of this file are two optional functions that can be used
  53:Src/RTOS/tasks.c **** 	to generate human readable text from the raw data generated by the
  54:Src/RTOS/tasks.c **** 	uxTaskGetSystemState() function.  Note the formatting functions are provided
  55:Src/RTOS/tasks.c **** 	for convenience only, and are NOT considered part of the kernel. */
  56:Src/RTOS/tasks.c **** 	#include <stdio.h>
  57:Src/RTOS/tasks.c **** #endif /* configUSE_STATS_FORMATTING_FUNCTIONS == 1 ) */
  58:Src/RTOS/tasks.c **** 
  59:Src/RTOS/tasks.c **** #if( configUSE_PREEMPTION == 0 )
  60:Src/RTOS/tasks.c **** 	/* If the cooperative scheduler is being used then a yield should not be
  61:Src/RTOS/tasks.c **** 	performed just because a higher priority task has been woken. */
  62:Src/RTOS/tasks.c **** 	#define taskYIELD_IF_USING_PREEMPTION()
  63:Src/RTOS/tasks.c **** #else
  64:Src/RTOS/tasks.c **** 	#define taskYIELD_IF_USING_PREEMPTION() portYIELD_WITHIN_API()
  65:Src/RTOS/tasks.c **** #endif
  66:Src/RTOS/tasks.c **** 
  67:Src/RTOS/tasks.c **** /* Values that can be assigned to the ucNotifyState member of the TCB. */
  68:Src/RTOS/tasks.c **** #define taskNOT_WAITING_NOTIFICATION	( ( uint8_t ) 0 )
  69:Src/RTOS/tasks.c **** #define taskWAITING_NOTIFICATION		( ( uint8_t ) 1 )
  70:Src/RTOS/tasks.c **** #define taskNOTIFICATION_RECEIVED		( ( uint8_t ) 2 )
  71:Src/RTOS/tasks.c **** 
  72:Src/RTOS/tasks.c **** /*
  73:Src/RTOS/tasks.c ****  * The value used to fill the stack of a task when the task is created.  This
  74:Src/RTOS/tasks.c ****  * is used purely for checking the high water mark for tasks.
  75:Src/RTOS/tasks.c ****  */
  76:Src/RTOS/tasks.c **** #define tskSTACK_FILL_BYTE	( 0xa5U )
  77:Src/RTOS/tasks.c **** 
  78:Src/RTOS/tasks.c **** /* Sometimes the FreeRTOSConfig.h settings only allow a task to be created using
  79:Src/RTOS/tasks.c **** dynamically allocated RAM, in which case when any task is deleted it is known
  80:Src/RTOS/tasks.c **** that both the task's stack and TCB need to be freed.  Sometimes the
  81:Src/RTOS/tasks.c **** FreeRTOSConfig.h settings only allow a task to be created using statically
  82:Src/RTOS/tasks.c **** allocated RAM, in which case when any task is deleted it is known that neither
  83:Src/RTOS/tasks.c **** the task's stack or TCB should be freed.  Sometimes the FreeRTOSConfig.h
  84:Src/RTOS/tasks.c **** settings allow a task to be created using either statically or dynamically
  85:Src/RTOS/tasks.c **** allocated RAM, in which case a member of the TCB is used to record whether the
  86:Src/RTOS/tasks.c **** stack and/or TCB were allocated statically or dynamically, so when a task is
  87:Src/RTOS/tasks.c **** deleted the RAM that was allocated dynamically is freed again and no attempt is
  88:Src/RTOS/tasks.c **** made to free the RAM that was allocated statically.
  89:Src/RTOS/tasks.c **** tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE is only true if it is possible for a
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 3


  90:Src/RTOS/tasks.c **** task to be created using either statically or dynamically allocated RAM.  Note
  91:Src/RTOS/tasks.c **** that if portUSING_MPU_WRAPPERS is 1 then a protected task can be created with
  92:Src/RTOS/tasks.c **** a statically allocated stack and a dynamically allocated TCB.
  93:Src/RTOS/tasks.c **** !!!NOTE!!! If the definition of tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE is
  94:Src/RTOS/tasks.c **** changed then the definition of StaticTask_t must also be updated. */
  95:Src/RTOS/tasks.c **** #define tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE	( ( configSUPPORT_STATIC_ALLOCATION == 1 ) && ( c
  96:Src/RTOS/tasks.c **** #define tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB 		( ( uint8_t ) 0 )
  97:Src/RTOS/tasks.c **** #define tskSTATICALLY_ALLOCATED_STACK_ONLY 			( ( uint8_t ) 1 )
  98:Src/RTOS/tasks.c **** #define tskSTATICALLY_ALLOCATED_STACK_AND_TCB		( ( uint8_t ) 2 )
  99:Src/RTOS/tasks.c **** 
 100:Src/RTOS/tasks.c **** /* If any of the following are set then task stacks are filled with a known
 101:Src/RTOS/tasks.c **** value so the high water mark can be determined.  If none of the following are
 102:Src/RTOS/tasks.c **** set then don't fill the stack so there is no unnecessary dependency on memset. */
 103:Src/RTOS/tasks.c **** #if( ( configCHECK_FOR_STACK_OVERFLOW > 1 ) || ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTas
 104:Src/RTOS/tasks.c **** 	#define tskSET_NEW_STACKS_TO_KNOWN_VALUE	1
 105:Src/RTOS/tasks.c **** #else
 106:Src/RTOS/tasks.c **** 	#define tskSET_NEW_STACKS_TO_KNOWN_VALUE	0
 107:Src/RTOS/tasks.c **** #endif
 108:Src/RTOS/tasks.c **** 
 109:Src/RTOS/tasks.c **** /*
 110:Src/RTOS/tasks.c ****  * Macros used by vListTask to indicate which state a task is in.
 111:Src/RTOS/tasks.c ****  */
 112:Src/RTOS/tasks.c **** #define tskRUNNING_CHAR		( 'X' )
 113:Src/RTOS/tasks.c **** #define tskBLOCKED_CHAR		( 'B' )
 114:Src/RTOS/tasks.c **** #define tskREADY_CHAR		( 'R' )
 115:Src/RTOS/tasks.c **** #define tskDELETED_CHAR		( 'D' )
 116:Src/RTOS/tasks.c **** #define tskSUSPENDED_CHAR	( 'S' )
 117:Src/RTOS/tasks.c **** 
 118:Src/RTOS/tasks.c **** /*
 119:Src/RTOS/tasks.c ****  * Some kernel aware debuggers require the data the debugger needs access to be
 120:Src/RTOS/tasks.c ****  * global, rather than file scope.
 121:Src/RTOS/tasks.c ****  */
 122:Src/RTOS/tasks.c **** #ifdef portREMOVE_STATIC_QUALIFIER
 123:Src/RTOS/tasks.c **** 	#define static
 124:Src/RTOS/tasks.c **** #endif
 125:Src/RTOS/tasks.c **** 
 126:Src/RTOS/tasks.c **** /* The name allocated to the Idle task.  This can be overridden by defining
 127:Src/RTOS/tasks.c **** configIDLE_TASK_NAME in FreeRTOSConfig.h. */
 128:Src/RTOS/tasks.c **** #ifndef configIDLE_TASK_NAME
 129:Src/RTOS/tasks.c **** 	#define configIDLE_TASK_NAME "IDLE"
 130:Src/RTOS/tasks.c **** #endif
 131:Src/RTOS/tasks.c **** 
 132:Src/RTOS/tasks.c **** #if ( configUSE_PORT_OPTIMISED_TASK_SELECTION == 0 )
 133:Src/RTOS/tasks.c **** 
 134:Src/RTOS/tasks.c **** 	/* If configUSE_PORT_OPTIMISED_TASK_SELECTION is 0 then task selection is
 135:Src/RTOS/tasks.c **** 	performed in a generic way that is not optimised to any particular
 136:Src/RTOS/tasks.c **** 	microcontroller architecture. */
 137:Src/RTOS/tasks.c **** 
 138:Src/RTOS/tasks.c **** 	/* uxTopReadyPriority holds the priority of the highest priority ready
 139:Src/RTOS/tasks.c **** 	state task. */
 140:Src/RTOS/tasks.c **** 	#define taskRECORD_READY_PRIORITY( uxPriority )														\
 141:Src/RTOS/tasks.c **** 	{																									\
 142:Src/RTOS/tasks.c **** 		if( ( uxPriority ) > uxTopReadyPriority )														\
 143:Src/RTOS/tasks.c **** 		{																								\
 144:Src/RTOS/tasks.c **** 			uxTopReadyPriority = ( uxPriority );														\
 145:Src/RTOS/tasks.c **** 		}																								\
 146:Src/RTOS/tasks.c **** 	} /* taskRECORD_READY_PRIORITY */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 4


 147:Src/RTOS/tasks.c **** 
 148:Src/RTOS/tasks.c **** 	/*-----------------------------------------------------------*/
 149:Src/RTOS/tasks.c **** 
 150:Src/RTOS/tasks.c **** 	#define taskSELECT_HIGHEST_PRIORITY_TASK()															\
 151:Src/RTOS/tasks.c **** 	{																									\
 152:Src/RTOS/tasks.c **** 	UBaseType_t uxTopPriority = uxTopReadyPriority;														\
 153:Src/RTOS/tasks.c **** 																										\
 154:Src/RTOS/tasks.c **** 		/* Find the highest priority queue that contains ready tasks. */								\
 155:Src/RTOS/tasks.c **** 		while( listLIST_IS_EMPTY( &( pxReadyTasksLists[ uxTopPriority ] ) ) )							\
 156:Src/RTOS/tasks.c **** 		{																								\
 157:Src/RTOS/tasks.c **** 			configASSERT( uxTopPriority );																\
 158:Src/RTOS/tasks.c **** 			--uxTopPriority;																			\
 159:Src/RTOS/tasks.c **** 		}																								\
 160:Src/RTOS/tasks.c **** 																										\
 161:Src/RTOS/tasks.c **** 		/* listGET_OWNER_OF_NEXT_ENTRY indexes through the list, so the tasks of						\
 162:Src/RTOS/tasks.c **** 		the	same priority get an equal share of the processor time. */									\
 163:Src/RTOS/tasks.c **** 		listGET_OWNER_OF_NEXT_ENTRY( pxCurrentTCB, &( pxReadyTasksLists[ uxTopPriority ] ) );			\
 164:Src/RTOS/tasks.c **** 		uxTopReadyPriority = uxTopPriority;																\
 165:Src/RTOS/tasks.c **** 	} /* taskSELECT_HIGHEST_PRIORITY_TASK */
 166:Src/RTOS/tasks.c **** 
 167:Src/RTOS/tasks.c **** 	/*-----------------------------------------------------------*/
 168:Src/RTOS/tasks.c **** 
 169:Src/RTOS/tasks.c **** 	/* Define away taskRESET_READY_PRIORITY() and portRESET_READY_PRIORITY() as
 170:Src/RTOS/tasks.c **** 	they are only required when a port optimised method of task selection is
 171:Src/RTOS/tasks.c **** 	being used. */
 172:Src/RTOS/tasks.c **** 	#define taskRESET_READY_PRIORITY( uxPriority )
 173:Src/RTOS/tasks.c **** 	#define portRESET_READY_PRIORITY( uxPriority, uxTopReadyPriority )
 174:Src/RTOS/tasks.c **** 
 175:Src/RTOS/tasks.c **** #else /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 176:Src/RTOS/tasks.c **** 
 177:Src/RTOS/tasks.c **** 	/* If configUSE_PORT_OPTIMISED_TASK_SELECTION is 1 then task selection is
 178:Src/RTOS/tasks.c **** 	performed in a way that is tailored to the particular microcontroller
 179:Src/RTOS/tasks.c **** 	architecture being used. */
 180:Src/RTOS/tasks.c **** 
 181:Src/RTOS/tasks.c **** 	/* A port optimised version is provided.  Call the port defined macros. */
 182:Src/RTOS/tasks.c **** 	#define taskRECORD_READY_PRIORITY( uxPriority )	portRECORD_READY_PRIORITY( uxPriority, uxTopReadyP
 183:Src/RTOS/tasks.c **** 
 184:Src/RTOS/tasks.c **** 	/*-----------------------------------------------------------*/
 185:Src/RTOS/tasks.c **** 
 186:Src/RTOS/tasks.c **** 	#define taskSELECT_HIGHEST_PRIORITY_TASK()														\
 187:Src/RTOS/tasks.c **** 	{																								\
 188:Src/RTOS/tasks.c **** 	UBaseType_t uxTopPriority;																		\
 189:Src/RTOS/tasks.c **** 																									\
 190:Src/RTOS/tasks.c **** 		/* Find the highest priority list that contains ready tasks. */								\
 191:Src/RTOS/tasks.c **** 		portGET_HIGHEST_PRIORITY( uxTopPriority, uxTopReadyPriority );								\
 192:Src/RTOS/tasks.c **** 		configASSERT( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ uxTopPriority ] ) ) > 0 );		\
 193:Src/RTOS/tasks.c **** 		listGET_OWNER_OF_NEXT_ENTRY( pxCurrentTCB, &( pxReadyTasksLists[ uxTopPriority ] ) );		\
 194:Src/RTOS/tasks.c **** 	} /* taskSELECT_HIGHEST_PRIORITY_TASK() */
 195:Src/RTOS/tasks.c **** 
 196:Src/RTOS/tasks.c **** 	/*-----------------------------------------------------------*/
 197:Src/RTOS/tasks.c **** 
 198:Src/RTOS/tasks.c **** 	/* A port optimised version is provided, call it only if the TCB being reset
 199:Src/RTOS/tasks.c **** 	is being referenced from a ready list.  If it is referenced from a delayed
 200:Src/RTOS/tasks.c **** 	or suspended list then it won't be in a ready list. */
 201:Src/RTOS/tasks.c **** 	#define taskRESET_READY_PRIORITY( uxPriority )														\
 202:Src/RTOS/tasks.c **** 	{																									\
 203:Src/RTOS/tasks.c **** 		if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ ( uxPriority ) ] ) ) == ( UBaseType_t ) 0 )	\
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 5


 204:Src/RTOS/tasks.c **** 		{																								\
 205:Src/RTOS/tasks.c **** 			portRESET_READY_PRIORITY( ( uxPriority ), ( uxTopReadyPriority ) );							\
 206:Src/RTOS/tasks.c **** 		}																								\
 207:Src/RTOS/tasks.c **** 	}
 208:Src/RTOS/tasks.c **** 
 209:Src/RTOS/tasks.c **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 210:Src/RTOS/tasks.c **** 
 211:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 212:Src/RTOS/tasks.c **** 
 213:Src/RTOS/tasks.c **** /* pxDelayedTaskList and pxOverflowDelayedTaskList are switched when the tick
 214:Src/RTOS/tasks.c **** count overflows. */
 215:Src/RTOS/tasks.c **** #define taskSWITCH_DELAYED_LISTS()																	\
 216:Src/RTOS/tasks.c **** {																									\
 217:Src/RTOS/tasks.c **** 	List_t *pxTemp;																					\
 218:Src/RTOS/tasks.c **** 																									\
 219:Src/RTOS/tasks.c **** 	/* The delayed tasks list should be empty when the lists are switched. */						\
 220:Src/RTOS/tasks.c **** 	configASSERT( ( listLIST_IS_EMPTY( pxDelayedTaskList ) ) );										\
 221:Src/RTOS/tasks.c **** 																									\
 222:Src/RTOS/tasks.c **** 	pxTemp = pxDelayedTaskList;																		\
 223:Src/RTOS/tasks.c **** 	pxDelayedTaskList = pxOverflowDelayedTaskList;													\
 224:Src/RTOS/tasks.c **** 	pxOverflowDelayedTaskList = pxTemp;																\
 225:Src/RTOS/tasks.c **** 	xNumOfOverflows++;																				\
 226:Src/RTOS/tasks.c **** 	prvResetNextTaskUnblockTime();																	\
 227:Src/RTOS/tasks.c **** }
 228:Src/RTOS/tasks.c **** 
 229:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 230:Src/RTOS/tasks.c **** 
 231:Src/RTOS/tasks.c **** /*
 232:Src/RTOS/tasks.c ****  * Place the task represented by pxTCB into the appropriate ready list for
 233:Src/RTOS/tasks.c ****  * the task.  It is inserted at the end of the list.
 234:Src/RTOS/tasks.c ****  */
 235:Src/RTOS/tasks.c **** #define prvAddTaskToReadyList( pxTCB )																\
 236:Src/RTOS/tasks.c **** 	traceMOVED_TASK_TO_READY_STATE( pxTCB );														\
 237:Src/RTOS/tasks.c **** 	taskRECORD_READY_PRIORITY( ( pxTCB )->uxPriority );												\
 238:Src/RTOS/tasks.c **** 	vListInsertEnd( &( pxReadyTasksLists[ ( pxTCB )->uxPriority ] ), &( ( pxTCB )->xStateListItem ) );
 239:Src/RTOS/tasks.c **** 	tracePOST_MOVED_TASK_TO_READY_STATE( pxTCB )
 240:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 241:Src/RTOS/tasks.c **** 
 242:Src/RTOS/tasks.c **** /*
 243:Src/RTOS/tasks.c ****  * Several functions take an TaskHandle_t parameter that can optionally be NULL,
 244:Src/RTOS/tasks.c ****  * where NULL is used to indicate that the handle of the currently executing
 245:Src/RTOS/tasks.c ****  * task should be used in place of the parameter.  This macro simply checks to
 246:Src/RTOS/tasks.c ****  * see if the parameter is NULL and returns a pointer to the appropriate TCB.
 247:Src/RTOS/tasks.c ****  */
 248:Src/RTOS/tasks.c **** #define prvGetTCBFromHandle( pxHandle ) ( ( ( pxHandle ) == NULL ) ? ( TCB_t * ) pxCurrentTCB : ( T
 249:Src/RTOS/tasks.c **** 
 250:Src/RTOS/tasks.c **** /* The item value of the event list item is normally used to hold the priority
 251:Src/RTOS/tasks.c **** of the task to which it belongs (coded to allow it to be held in reverse
 252:Src/RTOS/tasks.c **** priority order).  However, it is occasionally borrowed for other purposes.  It
 253:Src/RTOS/tasks.c **** is important its value is not updated due to a task priority change while it is
 254:Src/RTOS/tasks.c **** being used for another purpose.  The following bit definition is used to inform
 255:Src/RTOS/tasks.c **** the scheduler that the value should not be changed - in which case it is the
 256:Src/RTOS/tasks.c **** responsibility of whichever module is using the value to ensure it gets set back
 257:Src/RTOS/tasks.c **** to its original value when it is released. */
 258:Src/RTOS/tasks.c **** #if( configUSE_16_BIT_TICKS == 1 )
 259:Src/RTOS/tasks.c **** 	#define taskEVENT_LIST_ITEM_VALUE_IN_USE	0x8000U
 260:Src/RTOS/tasks.c **** #else
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 6


 261:Src/RTOS/tasks.c **** 	#define taskEVENT_LIST_ITEM_VALUE_IN_USE	0x80000000UL
 262:Src/RTOS/tasks.c **** #endif
 263:Src/RTOS/tasks.c **** 
 264:Src/RTOS/tasks.c **** /*
 265:Src/RTOS/tasks.c ****  * Task control block.  A task control block (TCB) is allocated for each task,
 266:Src/RTOS/tasks.c ****  * and stores task state information, including a pointer to the task's context
 267:Src/RTOS/tasks.c ****  * (the task's run time environment, including register values)
 268:Src/RTOS/tasks.c ****  */
 269:Src/RTOS/tasks.c **** typedef struct tskTaskControlBlock
 270:Src/RTOS/tasks.c **** {
 271:Src/RTOS/tasks.c **** 	volatile StackType_t	*pxTopOfStack;	/*< Points to the location of the last item placed on the task
 272:Src/RTOS/tasks.c **** 
 273:Src/RTOS/tasks.c **** 	#if ( portUSING_MPU_WRAPPERS == 1 )
 274:Src/RTOS/tasks.c **** 		xMPU_SETTINGS	xMPUSettings;		/*< The MPU settings are defined as part of the port layer.  THIS MU
 275:Src/RTOS/tasks.c **** 	#endif
 276:Src/RTOS/tasks.c **** 
 277:Src/RTOS/tasks.c **** 	ListItem_t			xStateListItem;	/*< The list that the state list item of a task is reference from den
 278:Src/RTOS/tasks.c **** 	ListItem_t			xEventListItem;		/*< Used to reference a task from an event list. */
 279:Src/RTOS/tasks.c **** 	UBaseType_t			uxPriority;			/*< The priority of the task.  0 is the lowest priority. */
 280:Src/RTOS/tasks.c **** 	StackType_t			*pxStack;			/*< Points to the start of the stack. */
 281:Src/RTOS/tasks.c **** 	char				pcTaskName[ configMAX_TASK_NAME_LEN ];/*< Descriptive name given to the task when created.
 282:Src/RTOS/tasks.c **** 
 283:Src/RTOS/tasks.c **** 	#if ( ( portSTACK_GROWTH > 0 ) || ( configRECORD_STACK_HIGH_ADDRESS == 1 ) )
 284:Src/RTOS/tasks.c **** 		StackType_t		*pxEndOfStack;		/*< Points to the highest valid address for the stack. */
 285:Src/RTOS/tasks.c **** 	#endif
 286:Src/RTOS/tasks.c **** 
 287:Src/RTOS/tasks.c **** 	#if ( portCRITICAL_NESTING_IN_TCB == 1 )
 288:Src/RTOS/tasks.c **** 		UBaseType_t		uxCriticalNesting;	/*< Holds the critical section nesting depth for ports that do no
 289:Src/RTOS/tasks.c **** 	#endif
 290:Src/RTOS/tasks.c **** 
 291:Src/RTOS/tasks.c **** 	#if ( configUSE_TRACE_FACILITY == 1 )
 292:Src/RTOS/tasks.c **** 		UBaseType_t		uxTCBNumber;		/*< Stores a number that increments each time a TCB is created.  It al
 293:Src/RTOS/tasks.c **** 		UBaseType_t		uxTaskNumber;		/*< Stores a number specifically for use by third party trace code. *
 294:Src/RTOS/tasks.c **** 	#endif
 295:Src/RTOS/tasks.c **** 
 296:Src/RTOS/tasks.c **** 	#if ( configUSE_MUTEXES == 1 )
 297:Src/RTOS/tasks.c **** 		UBaseType_t		uxBasePriority;		/*< The priority last assigned to the task - used by the priority i
 298:Src/RTOS/tasks.c **** 		UBaseType_t		uxMutexesHeld;
 299:Src/RTOS/tasks.c **** 	#endif
 300:Src/RTOS/tasks.c **** 
 301:Src/RTOS/tasks.c **** 	#if ( configUSE_APPLICATION_TASK_TAG == 1 )
 302:Src/RTOS/tasks.c **** 		TaskHookFunction_t pxTaskTag;
 303:Src/RTOS/tasks.c **** 	#endif
 304:Src/RTOS/tasks.c **** 
 305:Src/RTOS/tasks.c **** 	#if( configNUM_THREAD_LOCAL_STORAGE_POINTERS > 0 )
 306:Src/RTOS/tasks.c **** 		void			*pvThreadLocalStoragePointers[ configNUM_THREAD_LOCAL_STORAGE_POINTERS ];
 307:Src/RTOS/tasks.c **** 	#endif
 308:Src/RTOS/tasks.c **** 
 309:Src/RTOS/tasks.c **** 	#if( configGENERATE_RUN_TIME_STATS == 1 )
 310:Src/RTOS/tasks.c **** 		uint32_t		ulRunTimeCounter;	/*< Stores the amount of time the task has spent in the Running state
 311:Src/RTOS/tasks.c **** 	#endif
 312:Src/RTOS/tasks.c **** 
 313:Src/RTOS/tasks.c **** 	#if ( configUSE_NEWLIB_REENTRANT == 1 )
 314:Src/RTOS/tasks.c **** 		/* Allocate a Newlib reent structure that is specific to this task.
 315:Src/RTOS/tasks.c **** 		Note Newlib support has been included by popular demand, but is not
 316:Src/RTOS/tasks.c **** 		used by the FreeRTOS maintainers themselves.  FreeRTOS is not
 317:Src/RTOS/tasks.c **** 		responsible for resulting newlib operation.  User must be familiar with
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 7


 318:Src/RTOS/tasks.c **** 		newlib and must provide system-wide implementations of the necessary
 319:Src/RTOS/tasks.c **** 		stubs. Be warned that (at the time of writing) the current newlib design
 320:Src/RTOS/tasks.c **** 		implements a system-wide malloc() that must be provided with locks. */
 321:Src/RTOS/tasks.c **** 		struct	_reent xNewLib_reent;
 322:Src/RTOS/tasks.c **** 	#endif
 323:Src/RTOS/tasks.c **** 
 324:Src/RTOS/tasks.c **** 	#if( configUSE_TASK_NOTIFICATIONS == 1 )
 325:Src/RTOS/tasks.c **** 		volatile uint32_t ulNotifiedValue;
 326:Src/RTOS/tasks.c **** 		volatile uint8_t ucNotifyState;
 327:Src/RTOS/tasks.c **** 	#endif
 328:Src/RTOS/tasks.c **** 
 329:Src/RTOS/tasks.c **** 	/* See the comments above the definition of
 330:Src/RTOS/tasks.c **** 	tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE. */
 331:Src/RTOS/tasks.c **** 	#if( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 ) /*lint !e731 Macro has been consolidated for
 332:Src/RTOS/tasks.c **** 		uint8_t	ucStaticallyAllocated; 		/*< Set to pdTRUE if the task is a statically allocated to ensur
 333:Src/RTOS/tasks.c **** 	#endif
 334:Src/RTOS/tasks.c **** 
 335:Src/RTOS/tasks.c **** 	#if( INCLUDE_xTaskAbortDelay == 1 )
 336:Src/RTOS/tasks.c **** 		uint8_t ucDelayAborted;
 337:Src/RTOS/tasks.c **** 	#endif
 338:Src/RTOS/tasks.c **** 
 339:Src/RTOS/tasks.c **** } tskTCB;
 340:Src/RTOS/tasks.c **** 
 341:Src/RTOS/tasks.c **** /* The old tskTCB name is maintained above then typedefed to the new TCB_t name
 342:Src/RTOS/tasks.c **** below to enable the use of older kernel aware debuggers. */
 343:Src/RTOS/tasks.c **** typedef tskTCB TCB_t;
 344:Src/RTOS/tasks.c **** 
 345:Src/RTOS/tasks.c **** /*lint -save -e956 A manual analysis and inspection has been used to determine
 346:Src/RTOS/tasks.c **** which static variables must be declared volatile. */
 347:Src/RTOS/tasks.c **** 
 348:Src/RTOS/tasks.c **** PRIVILEGED_DATA TCB_t * volatile pxCurrentTCB = NULL;
 349:Src/RTOS/tasks.c **** 
 350:Src/RTOS/tasks.c **** /* Lists for ready and blocked tasks. --------------------*/
 351:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t pxReadyTasksLists[ configMAX_PRIORITIES ];/*< Prioritised ready tasks
 352:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t xDelayedTaskList1;						/*< Delayed tasks. */
 353:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t xDelayedTaskList2;						/*< Delayed tasks (two lists are used - one f
 354:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t * volatile pxDelayedTaskList;				/*< Points to the delayed task list 
 355:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t * volatile pxOverflowDelayedTaskList;		/*< Points to the delayed task
 356:Src/RTOS/tasks.c **** PRIVILEGED_DATA static List_t xPendingReadyList;						/*< Tasks that have been readied while the sc
 357:Src/RTOS/tasks.c **** 
 358:Src/RTOS/tasks.c **** #if( INCLUDE_vTaskDelete == 1 )
 359:Src/RTOS/tasks.c **** 
 360:Src/RTOS/tasks.c **** 	PRIVILEGED_DATA static List_t xTasksWaitingTermination;				/*< Tasks that have been deleted - but 
 361:Src/RTOS/tasks.c **** 	PRIVILEGED_DATA static volatile UBaseType_t uxDeletedTasksWaitingCleanUp = ( UBaseType_t ) 0U;
 362:Src/RTOS/tasks.c **** 
 363:Src/RTOS/tasks.c **** #endif
 364:Src/RTOS/tasks.c **** 
 365:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
 366:Src/RTOS/tasks.c **** 
 367:Src/RTOS/tasks.c **** 	PRIVILEGED_DATA static List_t xSuspendedTaskList;					/*< Tasks that are currently suspended. */
 368:Src/RTOS/tasks.c **** 
 369:Src/RTOS/tasks.c **** #endif
 370:Src/RTOS/tasks.c **** 
 371:Src/RTOS/tasks.c **** /* Other file private variables. --------------------------------*/
 372:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxCurrentNumberOfTasks 	= ( UBaseType_t ) 0U;
 373:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile TickType_t xTickCount 				= ( TickType_t ) configINITIAL_TICK_COUNT
 374:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxTopReadyPriority 		= tskIDLE_PRIORITY;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 8


 375:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xSchedulerRunning 		= pdFALSE;
 376:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxPendedTicks 			= ( UBaseType_t ) 0U;
 377:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xYieldPending 			= pdFALSE;
 378:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile BaseType_t xNumOfOverflows 			= ( BaseType_t ) 0;
 379:Src/RTOS/tasks.c **** PRIVILEGED_DATA static UBaseType_t uxTaskNumber 					= ( UBaseType_t ) 0U;
 380:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile TickType_t xNextTaskUnblockTime		= ( TickType_t ) 0U; /* Initialise
 381:Src/RTOS/tasks.c **** PRIVILEGED_DATA static TaskHandle_t xIdleTaskHandle					= NULL;			/*< Holds the handle of the idle 
 382:Src/RTOS/tasks.c **** 
 383:Src/RTOS/tasks.c **** /* Context switches are held pending while the scheduler is suspended.  Also,
 384:Src/RTOS/tasks.c **** interrupts must not manipulate the xStateListItem of a TCB, or any of the
 385:Src/RTOS/tasks.c **** lists the xStateListItem can be referenced from, if the scheduler is suspended.
 386:Src/RTOS/tasks.c **** If an interrupt needs to unblock a task while the scheduler is suspended then it
 387:Src/RTOS/tasks.c **** moves the task's event list item into the xPendingReadyList, ready for the
 388:Src/RTOS/tasks.c **** kernel to move the task from the pending ready list into the real ready list
 389:Src/RTOS/tasks.c **** when the scheduler is unsuspended.  The pending ready list itself can only be
 390:Src/RTOS/tasks.c **** accessed from a critical section. */
 391:Src/RTOS/tasks.c **** PRIVILEGED_DATA static volatile UBaseType_t uxSchedulerSuspended	= ( UBaseType_t ) pdFALSE;
 392:Src/RTOS/tasks.c **** 
 393:Src/RTOS/tasks.c **** #if ( configGENERATE_RUN_TIME_STATS == 1 )
 394:Src/RTOS/tasks.c **** 
 395:Src/RTOS/tasks.c **** 	PRIVILEGED_DATA static uint32_t ulTaskSwitchedInTime = 0UL;	/*< Holds the value of a timer/counter
 396:Src/RTOS/tasks.c **** 	PRIVILEGED_DATA static uint32_t ulTotalRunTime = 0UL;		/*< Holds the total amount of execution tim
 397:Src/RTOS/tasks.c **** 
 398:Src/RTOS/tasks.c **** #endif
 399:Src/RTOS/tasks.c **** 
 400:Src/RTOS/tasks.c **** /*lint -restore */
 401:Src/RTOS/tasks.c **** 
 402:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 403:Src/RTOS/tasks.c **** 
 404:Src/RTOS/tasks.c **** /* Callback function prototypes. --------------------------*/
 405:Src/RTOS/tasks.c **** #if(  configCHECK_FOR_STACK_OVERFLOW > 0 )
 406:Src/RTOS/tasks.c **** 
 407:Src/RTOS/tasks.c **** 	extern void vApplicationStackOverflowHook( TaskHandle_t xTask, char *pcTaskName );
 408:Src/RTOS/tasks.c **** 
 409:Src/RTOS/tasks.c **** #endif
 410:Src/RTOS/tasks.c **** 
 411:Src/RTOS/tasks.c **** #if( configUSE_TICK_HOOK > 0 )
 412:Src/RTOS/tasks.c **** 
 413:Src/RTOS/tasks.c **** 	extern void vApplicationTickHook( void );
 414:Src/RTOS/tasks.c **** 
 415:Src/RTOS/tasks.c **** #endif
 416:Src/RTOS/tasks.c **** 
 417:Src/RTOS/tasks.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 )
 418:Src/RTOS/tasks.c **** 
 419:Src/RTOS/tasks.c **** 	extern void vApplicationGetIdleTaskMemory( StaticTask_t **ppxIdleTaskTCBBuffer, StackType_t **ppxI
 420:Src/RTOS/tasks.c **** 
 421:Src/RTOS/tasks.c **** #endif
 422:Src/RTOS/tasks.c **** 
 423:Src/RTOS/tasks.c **** /* File private functions. --------------------------------*/
 424:Src/RTOS/tasks.c **** 
 425:Src/RTOS/tasks.c **** /**
 426:Src/RTOS/tasks.c ****  * Utility task that simply returns pdTRUE if the task referenced by xTask is
 427:Src/RTOS/tasks.c ****  * currently in the Suspended state, or pdFALSE if the task referenced by xTask
 428:Src/RTOS/tasks.c ****  * is in any other state.
 429:Src/RTOS/tasks.c ****  */
 430:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
 431:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 9


 432:Src/RTOS/tasks.c **** 	static BaseType_t prvTaskIsTaskSuspended( const TaskHandle_t xTask ) PRIVILEGED_FUNCTION;
 433:Src/RTOS/tasks.c **** 
 434:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
 435:Src/RTOS/tasks.c **** 
 436:Src/RTOS/tasks.c **** /*
 437:Src/RTOS/tasks.c ****  * Utility to ready all the lists used by the scheduler.  This is called
 438:Src/RTOS/tasks.c ****  * automatically upon the creation of the first task.
 439:Src/RTOS/tasks.c ****  */
 440:Src/RTOS/tasks.c **** static void prvInitialiseTaskLists( void ) PRIVILEGED_FUNCTION;
 441:Src/RTOS/tasks.c **** 
 442:Src/RTOS/tasks.c **** /*
 443:Src/RTOS/tasks.c ****  * The idle task, which as all tasks is implemented as a never ending loop.
 444:Src/RTOS/tasks.c ****  * The idle task is automatically created and added to the ready lists upon
 445:Src/RTOS/tasks.c ****  * creation of the first user task.
 446:Src/RTOS/tasks.c ****  *
 447:Src/RTOS/tasks.c ****  * The portTASK_FUNCTION_PROTO() macro is used to allow port/compiler specific
 448:Src/RTOS/tasks.c ****  * language extensions.  The equivalent prototype for this function is:
 449:Src/RTOS/tasks.c ****  *
 450:Src/RTOS/tasks.c ****  * void prvIdleTask( void *pvParameters );
 451:Src/RTOS/tasks.c ****  *
 452:Src/RTOS/tasks.c ****  */
 453:Src/RTOS/tasks.c **** static portTASK_FUNCTION_PROTO( prvIdleTask, pvParameters );
 454:Src/RTOS/tasks.c **** 
 455:Src/RTOS/tasks.c **** /*
 456:Src/RTOS/tasks.c ****  * Utility to free all memory allocated by the scheduler to hold a TCB,
 457:Src/RTOS/tasks.c ****  * including the stack pointed to by the TCB.
 458:Src/RTOS/tasks.c ****  *
 459:Src/RTOS/tasks.c ****  * This does not free memory allocated by the task itself (i.e. memory
 460:Src/RTOS/tasks.c ****  * allocated by calls to pvPortMalloc from within the tasks application code).
 461:Src/RTOS/tasks.c ****  */
 462:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
 463:Src/RTOS/tasks.c **** 
 464:Src/RTOS/tasks.c **** 	static void prvDeleteTCB( TCB_t *pxTCB ) PRIVILEGED_FUNCTION;
 465:Src/RTOS/tasks.c **** 
 466:Src/RTOS/tasks.c **** #endif
 467:Src/RTOS/tasks.c **** 
 468:Src/RTOS/tasks.c **** /*
 469:Src/RTOS/tasks.c ****  * Used only by the idle task.  This checks to see if anything has been placed
 470:Src/RTOS/tasks.c ****  * in the list of tasks waiting to be deleted.  If so the task is cleaned up
 471:Src/RTOS/tasks.c ****  * and its TCB deleted.
 472:Src/RTOS/tasks.c ****  */
 473:Src/RTOS/tasks.c **** static void prvCheckTasksWaitingTermination( void ) PRIVILEGED_FUNCTION;
 474:Src/RTOS/tasks.c **** 
 475:Src/RTOS/tasks.c **** /*
 476:Src/RTOS/tasks.c ****  * The currently executing task is entering the Blocked state.  Add the task to
 477:Src/RTOS/tasks.c ****  * either the current or the overflow delayed task list.
 478:Src/RTOS/tasks.c ****  */
 479:Src/RTOS/tasks.c **** static void prvAddCurrentTaskToDelayedList( TickType_t xTicksToWait, const BaseType_t xCanBlockInde
 480:Src/RTOS/tasks.c **** 
 481:Src/RTOS/tasks.c **** /*
 482:Src/RTOS/tasks.c ****  * Fills an TaskStatus_t structure with information on each task that is
 483:Src/RTOS/tasks.c ****  * referenced from the pxList list (which may be a ready list, a delayed list,
 484:Src/RTOS/tasks.c ****  * a suspended list, etc.).
 485:Src/RTOS/tasks.c ****  *
 486:Src/RTOS/tasks.c ****  * THIS FUNCTION IS INTENDED FOR DEBUGGING ONLY, AND SHOULD NOT BE CALLED FROM
 487:Src/RTOS/tasks.c ****  * NORMAL APPLICATION CODE.
 488:Src/RTOS/tasks.c ****  */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 10


 489:Src/RTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
 490:Src/RTOS/tasks.c **** 
 491:Src/RTOS/tasks.c **** 	static UBaseType_t prvListTasksWithinSingleList( TaskStatus_t *pxTaskStatusArray, List_t *pxList, 
 492:Src/RTOS/tasks.c **** 
 493:Src/RTOS/tasks.c **** #endif
 494:Src/RTOS/tasks.c **** 
 495:Src/RTOS/tasks.c **** /*
 496:Src/RTOS/tasks.c ****  * Searches pxList for a task with name pcNameToQuery - returning a handle to
 497:Src/RTOS/tasks.c ****  * the task if it is found, or NULL if the task is not found.
 498:Src/RTOS/tasks.c ****  */
 499:Src/RTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
 500:Src/RTOS/tasks.c **** 
 501:Src/RTOS/tasks.c **** 	static TCB_t *prvSearchForNameWithinSingleList( List_t *pxList, const char pcNameToQuery[] ) PRIVI
 502:Src/RTOS/tasks.c **** 
 503:Src/RTOS/tasks.c **** #endif
 504:Src/RTOS/tasks.c **** 
 505:Src/RTOS/tasks.c **** /*
 506:Src/RTOS/tasks.c ****  * When a task is created, the stack of the task is filled with a known value.
 507:Src/RTOS/tasks.c ****  * This function determines the 'high water mark' of the task stack by
 508:Src/RTOS/tasks.c ****  * determining how much of the stack remains at the original preset value.
 509:Src/RTOS/tasks.c ****  */
 510:Src/RTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) )
 511:Src/RTOS/tasks.c **** 
 512:Src/RTOS/tasks.c **** 	static uint16_t prvTaskCheckFreeStackSpace( const uint8_t * pucStackByte ) PRIVILEGED_FUNCTION;
 513:Src/RTOS/tasks.c **** 
 514:Src/RTOS/tasks.c **** #endif
 515:Src/RTOS/tasks.c **** 
 516:Src/RTOS/tasks.c **** /*
 517:Src/RTOS/tasks.c ****  * Return the amount of time, in ticks, that will pass before the kernel will
 518:Src/RTOS/tasks.c ****  * next move a task from the Blocked state to the Running state.
 519:Src/RTOS/tasks.c ****  *
 520:Src/RTOS/tasks.c ****  * This conditional compilation should use inequality to 0, not equality to 1.
 521:Src/RTOS/tasks.c ****  * This is to ensure portSUPPRESS_TICKS_AND_SLEEP() can be called when user
 522:Src/RTOS/tasks.c ****  * defined low power mode implementations require configUSE_TICKLESS_IDLE to be
 523:Src/RTOS/tasks.c ****  * set to a value other than 1.
 524:Src/RTOS/tasks.c ****  */
 525:Src/RTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
 526:Src/RTOS/tasks.c **** 
 527:Src/RTOS/tasks.c **** 	static TickType_t prvGetExpectedIdleTime( void ) PRIVILEGED_FUNCTION;
 528:Src/RTOS/tasks.c **** 
 529:Src/RTOS/tasks.c **** #endif
 530:Src/RTOS/tasks.c **** 
 531:Src/RTOS/tasks.c **** /*
 532:Src/RTOS/tasks.c ****  * Set xNextTaskUnblockTime to the time at which the next Blocked state task
 533:Src/RTOS/tasks.c ****  * will exit the Blocked state.
 534:Src/RTOS/tasks.c ****  */
 535:Src/RTOS/tasks.c **** static void prvResetNextTaskUnblockTime( void );
 536:Src/RTOS/tasks.c **** 
 537:Src/RTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
 538:Src/RTOS/tasks.c **** 
 539:Src/RTOS/tasks.c **** 	/*
 540:Src/RTOS/tasks.c **** 	 * Helper function used to pad task names with spaces when printing out
 541:Src/RTOS/tasks.c **** 	 * human readable tables of task information.
 542:Src/RTOS/tasks.c **** 	 */
 543:Src/RTOS/tasks.c **** 	static char *prvWriteNameToBuffer( char *pcBuffer, const char *pcTaskName ) PRIVILEGED_FUNCTION;
 544:Src/RTOS/tasks.c **** 
 545:Src/RTOS/tasks.c **** #endif
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 11


 546:Src/RTOS/tasks.c **** 
 547:Src/RTOS/tasks.c **** /*
 548:Src/RTOS/tasks.c ****  * Called after a Task_t structure has been allocated either statically or
 549:Src/RTOS/tasks.c ****  * dynamically to fill in the structure's members.
 550:Src/RTOS/tasks.c ****  */
 551:Src/RTOS/tasks.c **** static void prvInitialiseNewTask( 	TaskFunction_t pxTaskCode,
 552:Src/RTOS/tasks.c **** 									const char * const pcName, 		/*lint !e971 Unqualified char types are allowed for strings a
 553:Src/RTOS/tasks.c **** 									const uint32_t ulStackDepth,
 554:Src/RTOS/tasks.c **** 									void * const pvParameters,
 555:Src/RTOS/tasks.c **** 									UBaseType_t uxPriority,
 556:Src/RTOS/tasks.c **** 									TaskHandle_t * const pxCreatedTask,
 557:Src/RTOS/tasks.c **** 									TCB_t *pxNewTCB,
 558:Src/RTOS/tasks.c **** 									const MemoryRegion_t * const xRegions ) PRIVILEGED_FUNCTION;
 559:Src/RTOS/tasks.c **** 
 560:Src/RTOS/tasks.c **** /*
 561:Src/RTOS/tasks.c ****  * Called after a new task has been created and initialised to place the task
 562:Src/RTOS/tasks.c ****  * under the control of the scheduler.
 563:Src/RTOS/tasks.c ****  */
 564:Src/RTOS/tasks.c **** static void prvAddNewTaskToReadyList( TCB_t *pxNewTCB ) PRIVILEGED_FUNCTION;
 565:Src/RTOS/tasks.c **** 
 566:Src/RTOS/tasks.c **** /*
 567:Src/RTOS/tasks.c ****  * freertos_tasks_c_additions_init() should only be called if the user definable
 568:Src/RTOS/tasks.c ****  * macro FREERTOS_TASKS_C_ADDITIONS_INIT() is defined, as that is the only macro
 569:Src/RTOS/tasks.c ****  * called by the function.
 570:Src/RTOS/tasks.c ****  */
 571:Src/RTOS/tasks.c **** #ifdef FREERTOS_TASKS_C_ADDITIONS_INIT
 572:Src/RTOS/tasks.c **** 
 573:Src/RTOS/tasks.c **** 	static void freertos_tasks_c_additions_init( void ) PRIVILEGED_FUNCTION;
 574:Src/RTOS/tasks.c **** 
 575:Src/RTOS/tasks.c **** #endif
 576:Src/RTOS/tasks.c **** 
 577:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 578:Src/RTOS/tasks.c **** 
 579:Src/RTOS/tasks.c **** #if( configSUPPORT_STATIC_ALLOCATION == 1 )
 580:Src/RTOS/tasks.c **** 
 581:Src/RTOS/tasks.c **** 	TaskHandle_t xTaskCreateStatic(	TaskFunction_t pxTaskCode,
 582:Src/RTOS/tasks.c **** 									const char * const pcName,		/*lint !e971 Unqualified char types are allowed for strings an
 583:Src/RTOS/tasks.c **** 									const uint32_t ulStackDepth,
 584:Src/RTOS/tasks.c **** 									void * const pvParameters,
 585:Src/RTOS/tasks.c **** 									UBaseType_t uxPriority,
 586:Src/RTOS/tasks.c **** 									StackType_t * const puxStackBuffer,
 587:Src/RTOS/tasks.c **** 									StaticTask_t * const pxTaskBuffer )
 588:Src/RTOS/tasks.c **** 	{
 589:Src/RTOS/tasks.c **** 	TCB_t *pxNewTCB;
 590:Src/RTOS/tasks.c **** 	TaskHandle_t xReturn;
 591:Src/RTOS/tasks.c **** 
 592:Src/RTOS/tasks.c **** 		configASSERT( puxStackBuffer != NULL );
 593:Src/RTOS/tasks.c **** 		configASSERT( pxTaskBuffer != NULL );
 594:Src/RTOS/tasks.c **** 
 595:Src/RTOS/tasks.c **** 		#if( configASSERT_DEFINED == 1 )
 596:Src/RTOS/tasks.c **** 		{
 597:Src/RTOS/tasks.c **** 			/* Sanity check that the size of the structure used to declare a
 598:Src/RTOS/tasks.c **** 			variable of type StaticTask_t equals the size of the real task
 599:Src/RTOS/tasks.c **** 			structure. */
 600:Src/RTOS/tasks.c **** 			volatile size_t xSize = sizeof( StaticTask_t );
 601:Src/RTOS/tasks.c **** 			configASSERT( xSize == sizeof( TCB_t ) );
 602:Src/RTOS/tasks.c **** 		}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 12


 603:Src/RTOS/tasks.c **** 		#endif /* configASSERT_DEFINED */
 604:Src/RTOS/tasks.c **** 
 605:Src/RTOS/tasks.c **** 
 606:Src/RTOS/tasks.c **** 		if( ( pxTaskBuffer != NULL ) && ( puxStackBuffer != NULL ) )
 607:Src/RTOS/tasks.c **** 		{
 608:Src/RTOS/tasks.c **** 			/* The memory used for the task's TCB and stack are passed into this
 609:Src/RTOS/tasks.c **** 			function - use them. */
 610:Src/RTOS/tasks.c **** 			pxNewTCB = ( TCB_t * ) pxTaskBuffer; /*lint !e740 Unusual cast is ok as the structures are desig
 611:Src/RTOS/tasks.c **** 			pxNewTCB->pxStack = ( StackType_t * ) puxStackBuffer;
 612:Src/RTOS/tasks.c **** 
 613:Src/RTOS/tasks.c **** 			#if( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 ) /*lint !e731 Macro has been consolidated f
 614:Src/RTOS/tasks.c **** 			{
 615:Src/RTOS/tasks.c **** 				/* Tasks can be created statically or dynamically, so note this
 616:Src/RTOS/tasks.c **** 				task was created statically in case the task is later deleted. */
 617:Src/RTOS/tasks.c **** 				pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_AND_TCB;
 618:Src/RTOS/tasks.c **** 			}
 619:Src/RTOS/tasks.c **** 			#endif /* configSUPPORT_DYNAMIC_ALLOCATION */
 620:Src/RTOS/tasks.c **** 
 621:Src/RTOS/tasks.c **** 			prvInitialiseNewTask( pxTaskCode, pcName, ulStackDepth, pvParameters, uxPriority, &xReturn, pxNe
 622:Src/RTOS/tasks.c **** 			prvAddNewTaskToReadyList( pxNewTCB );
 623:Src/RTOS/tasks.c **** 		}
 624:Src/RTOS/tasks.c **** 		else
 625:Src/RTOS/tasks.c **** 		{
 626:Src/RTOS/tasks.c **** 			xReturn = NULL;
 627:Src/RTOS/tasks.c **** 		}
 628:Src/RTOS/tasks.c **** 
 629:Src/RTOS/tasks.c **** 		return xReturn;
 630:Src/RTOS/tasks.c **** 	}
 631:Src/RTOS/tasks.c **** 
 632:Src/RTOS/tasks.c **** #endif /* SUPPORT_STATIC_ALLOCATION */
 633:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 634:Src/RTOS/tasks.c **** 
 635:Src/RTOS/tasks.c **** #if( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) )
 636:Src/RTOS/tasks.c **** 
 637:Src/RTOS/tasks.c **** 	BaseType_t xTaskCreateRestrictedStatic( const TaskParameters_t * const pxTaskDefinition, TaskHandl
 638:Src/RTOS/tasks.c **** 	{
 639:Src/RTOS/tasks.c **** 	TCB_t *pxNewTCB;
 640:Src/RTOS/tasks.c **** 	BaseType_t xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
 641:Src/RTOS/tasks.c **** 
 642:Src/RTOS/tasks.c **** 		configASSERT( pxTaskDefinition->puxStackBuffer != NULL );
 643:Src/RTOS/tasks.c **** 		configASSERT( pxTaskDefinition->pxTaskBuffer != NULL );
 644:Src/RTOS/tasks.c **** 
 645:Src/RTOS/tasks.c **** 		if( ( pxTaskDefinition->puxStackBuffer != NULL ) && ( pxTaskDefinition->pxTaskBuffer != NULL ) )
 646:Src/RTOS/tasks.c **** 		{
 647:Src/RTOS/tasks.c **** 			/* Allocate space for the TCB.  Where the memory comes from depends
 648:Src/RTOS/tasks.c **** 			on the implementation of the port malloc function and whether or
 649:Src/RTOS/tasks.c **** 			not static allocation is being used. */
 650:Src/RTOS/tasks.c **** 			pxNewTCB = ( TCB_t * ) pxTaskDefinition->pxTaskBuffer;
 651:Src/RTOS/tasks.c **** 
 652:Src/RTOS/tasks.c **** 			/* Store the stack location in the TCB. */
 653:Src/RTOS/tasks.c **** 			pxNewTCB->pxStack = pxTaskDefinition->puxStackBuffer;
 654:Src/RTOS/tasks.c **** 
 655:Src/RTOS/tasks.c **** 			#if( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 )
 656:Src/RTOS/tasks.c **** 			{
 657:Src/RTOS/tasks.c **** 				/* Tasks can be created statically or dynamically, so note this
 658:Src/RTOS/tasks.c **** 				task was created statically in case the task is later deleted. */
 659:Src/RTOS/tasks.c **** 				pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_AND_TCB;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 13


 660:Src/RTOS/tasks.c **** 			}
 661:Src/RTOS/tasks.c **** 			#endif /* configSUPPORT_DYNAMIC_ALLOCATION */
 662:Src/RTOS/tasks.c **** 
 663:Src/RTOS/tasks.c **** 			prvInitialiseNewTask(	pxTaskDefinition->pvTaskCode,
 664:Src/RTOS/tasks.c **** 									pxTaskDefinition->pcName,
 665:Src/RTOS/tasks.c **** 									( uint32_t ) pxTaskDefinition->usStackDepth,
 666:Src/RTOS/tasks.c **** 									pxTaskDefinition->pvParameters,
 667:Src/RTOS/tasks.c **** 									pxTaskDefinition->uxPriority,
 668:Src/RTOS/tasks.c **** 									pxCreatedTask, pxNewTCB,
 669:Src/RTOS/tasks.c **** 									pxTaskDefinition->xRegions );
 670:Src/RTOS/tasks.c **** 
 671:Src/RTOS/tasks.c **** 			prvAddNewTaskToReadyList( pxNewTCB );
 672:Src/RTOS/tasks.c **** 			xReturn = pdPASS;
 673:Src/RTOS/tasks.c **** 		}
 674:Src/RTOS/tasks.c **** 
 675:Src/RTOS/tasks.c **** 		return xReturn;
 676:Src/RTOS/tasks.c **** 	}
 677:Src/RTOS/tasks.c **** 
 678:Src/RTOS/tasks.c **** #endif /* ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 1 ) */
 679:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 680:Src/RTOS/tasks.c **** 
 681:Src/RTOS/tasks.c **** #if( ( portUSING_MPU_WRAPPERS == 1 ) && ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) )
 682:Src/RTOS/tasks.c **** 
 683:Src/RTOS/tasks.c **** 	BaseType_t xTaskCreateRestricted( const TaskParameters_t * const pxTaskDefinition, TaskHandle_t *p
 684:Src/RTOS/tasks.c **** 	{
 685:Src/RTOS/tasks.c **** 	TCB_t *pxNewTCB;
 686:Src/RTOS/tasks.c **** 	BaseType_t xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
 687:Src/RTOS/tasks.c **** 
 688:Src/RTOS/tasks.c **** 		configASSERT( pxTaskDefinition->puxStackBuffer );
 689:Src/RTOS/tasks.c **** 
 690:Src/RTOS/tasks.c **** 		if( pxTaskDefinition->puxStackBuffer != NULL )
 691:Src/RTOS/tasks.c **** 		{
 692:Src/RTOS/tasks.c **** 			/* Allocate space for the TCB.  Where the memory comes from depends
 693:Src/RTOS/tasks.c **** 			on the implementation of the port malloc function and whether or
 694:Src/RTOS/tasks.c **** 			not static allocation is being used. */
 695:Src/RTOS/tasks.c **** 			pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) );
 696:Src/RTOS/tasks.c **** 
 697:Src/RTOS/tasks.c **** 			if( pxNewTCB != NULL )
 698:Src/RTOS/tasks.c **** 			{
 699:Src/RTOS/tasks.c **** 				/* Store the stack location in the TCB. */
 700:Src/RTOS/tasks.c **** 				pxNewTCB->pxStack = pxTaskDefinition->puxStackBuffer;
 701:Src/RTOS/tasks.c **** 
 702:Src/RTOS/tasks.c **** 				#if( configSUPPORT_STATIC_ALLOCATION == 1 )
 703:Src/RTOS/tasks.c **** 				{
 704:Src/RTOS/tasks.c **** 					/* Tasks can be created statically or dynamically, so note
 705:Src/RTOS/tasks.c **** 					this task had a statically allocated stack in case it is
 706:Src/RTOS/tasks.c **** 					later deleted.  The TCB was allocated dynamically. */
 707:Src/RTOS/tasks.c **** 					pxNewTCB->ucStaticallyAllocated = tskSTATICALLY_ALLOCATED_STACK_ONLY;
 708:Src/RTOS/tasks.c **** 				}
 709:Src/RTOS/tasks.c **** 				#endif
 710:Src/RTOS/tasks.c **** 
 711:Src/RTOS/tasks.c **** 				prvInitialiseNewTask(	pxTaskDefinition->pvTaskCode,
 712:Src/RTOS/tasks.c **** 										pxTaskDefinition->pcName,
 713:Src/RTOS/tasks.c **** 										( uint32_t ) pxTaskDefinition->usStackDepth,
 714:Src/RTOS/tasks.c **** 										pxTaskDefinition->pvParameters,
 715:Src/RTOS/tasks.c **** 										pxTaskDefinition->uxPriority,
 716:Src/RTOS/tasks.c **** 										pxCreatedTask, pxNewTCB,
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 14


 717:Src/RTOS/tasks.c **** 										pxTaskDefinition->xRegions );
 718:Src/RTOS/tasks.c **** 
 719:Src/RTOS/tasks.c **** 				prvAddNewTaskToReadyList( pxNewTCB );
 720:Src/RTOS/tasks.c **** 				xReturn = pdPASS;
 721:Src/RTOS/tasks.c **** 			}
 722:Src/RTOS/tasks.c **** 		}
 723:Src/RTOS/tasks.c **** 
 724:Src/RTOS/tasks.c **** 		return xReturn;
 725:Src/RTOS/tasks.c **** 	}
 726:Src/RTOS/tasks.c **** 
 727:Src/RTOS/tasks.c **** #endif /* portUSING_MPU_WRAPPERS */
 728:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 729:Src/RTOS/tasks.c **** 
 730:Src/RTOS/tasks.c **** #if( configSUPPORT_DYNAMIC_ALLOCATION == 1 )
 731:Src/RTOS/tasks.c **** 
 732:Src/RTOS/tasks.c **** 	BaseType_t xTaskCreate(	TaskFunction_t pxTaskCode,
 733:Src/RTOS/tasks.c **** 							const char * const pcName,		/*lint !e971 Unqualified char types are allowed for strings and 
 734:Src/RTOS/tasks.c **** 							const configSTACK_DEPTH_TYPE usStackDepth,
 735:Src/RTOS/tasks.c **** 							void * const pvParameters,
 736:Src/RTOS/tasks.c **** 							UBaseType_t uxPriority,
 737:Src/RTOS/tasks.c **** 							TaskHandle_t * const pxCreatedTask )
 738:Src/RTOS/tasks.c **** 	{
 739:Src/RTOS/tasks.c **** 	TCB_t *pxNewTCB;
 740:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
 741:Src/RTOS/tasks.c **** 
 742:Src/RTOS/tasks.c **** 		/* If the stack grows down then allocate the stack then the TCB so the stack
 743:Src/RTOS/tasks.c **** 		does not grow into the TCB.  Likewise if the stack grows up then allocate
 744:Src/RTOS/tasks.c **** 		the TCB then the stack. */
 745:Src/RTOS/tasks.c **** 		#if( portSTACK_GROWTH > 0 )
 746:Src/RTOS/tasks.c **** 		{
 747:Src/RTOS/tasks.c **** 			/* Allocate space for the TCB.  Where the memory comes from depends on
 748:Src/RTOS/tasks.c **** 			the implementation of the port malloc function and whether or not static
 749:Src/RTOS/tasks.c **** 			allocation is being used. */
 750:Src/RTOS/tasks.c **** 			pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) );
 751:Src/RTOS/tasks.c **** 
 752:Src/RTOS/tasks.c **** 			if( pxNewTCB != NULL )
 753:Src/RTOS/tasks.c **** 			{
 754:Src/RTOS/tasks.c **** 				/* Allocate space for the stack used by the task being created.
 755:Src/RTOS/tasks.c **** 				The base of the stack memory stored in the TCB so the task can
 756:Src/RTOS/tasks.c **** 				be deleted later if required. */
 757:Src/RTOS/tasks.c **** 				pxNewTCB->pxStack = ( StackType_t * ) pvPortMalloc( ( ( ( size_t ) usStackDepth ) * sizeof( Sta
 758:Src/RTOS/tasks.c **** 
 759:Src/RTOS/tasks.c **** 				if( pxNewTCB->pxStack == NULL )
 760:Src/RTOS/tasks.c **** 				{
 761:Src/RTOS/tasks.c **** 					/* Could not allocate the stack.  Delete the allocated TCB. */
 762:Src/RTOS/tasks.c **** 					vPortFree( pxNewTCB );
 763:Src/RTOS/tasks.c **** 					pxNewTCB = NULL;
 764:Src/RTOS/tasks.c **** 				}
 765:Src/RTOS/tasks.c **** 			}
 766:Src/RTOS/tasks.c **** 		}
 767:Src/RTOS/tasks.c **** 		#else /* portSTACK_GROWTH */
 768:Src/RTOS/tasks.c **** 		{
 769:Src/RTOS/tasks.c **** 		StackType_t *pxStack;
 770:Src/RTOS/tasks.c **** 
 771:Src/RTOS/tasks.c **** 			/* Allocate space for the stack used by the task being created. */
 772:Src/RTOS/tasks.c **** 			pxStack = ( StackType_t * ) pvPortMalloc( ( ( ( size_t ) usStackDepth ) * sizeof( StackType_t ) 
 773:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 15


 774:Src/RTOS/tasks.c **** 			if( pxStack != NULL )
 775:Src/RTOS/tasks.c **** 			{
 776:Src/RTOS/tasks.c **** 				/* Allocate space for the TCB. */
 777:Src/RTOS/tasks.c **** 				pxNewTCB = ( TCB_t * ) pvPortMalloc( sizeof( TCB_t ) ); /*lint !e961 MISRA exception as the cas
 778:Src/RTOS/tasks.c **** 
 779:Src/RTOS/tasks.c **** 				if( pxNewTCB != NULL )
 780:Src/RTOS/tasks.c **** 				{
 781:Src/RTOS/tasks.c **** 					/* Store the stack location in the TCB. */
 782:Src/RTOS/tasks.c **** 					pxNewTCB->pxStack = pxStack;
 783:Src/RTOS/tasks.c **** 				}
 784:Src/RTOS/tasks.c **** 				else
 785:Src/RTOS/tasks.c **** 				{
 786:Src/RTOS/tasks.c **** 					/* The stack cannot be used as the TCB was not created.  Free
 787:Src/RTOS/tasks.c **** 					it again. */
 788:Src/RTOS/tasks.c **** 					vPortFree( pxStack );
 789:Src/RTOS/tasks.c **** 				}
 790:Src/RTOS/tasks.c **** 			}
 791:Src/RTOS/tasks.c **** 			else
 792:Src/RTOS/tasks.c **** 			{
 793:Src/RTOS/tasks.c **** 				pxNewTCB = NULL;
 794:Src/RTOS/tasks.c **** 			}
 795:Src/RTOS/tasks.c **** 		}
 796:Src/RTOS/tasks.c **** 		#endif /* portSTACK_GROWTH */
 797:Src/RTOS/tasks.c **** 
 798:Src/RTOS/tasks.c **** 		if( pxNewTCB != NULL )
 799:Src/RTOS/tasks.c **** 		{
 800:Src/RTOS/tasks.c **** 			#if( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 ) /*lint !e731 Macro has been consolidated f
 801:Src/RTOS/tasks.c **** 			{
 802:Src/RTOS/tasks.c **** 				/* Tasks can be created statically or dynamically, so note this
 803:Src/RTOS/tasks.c **** 				task was created dynamically in case it is later deleted. */
 804:Src/RTOS/tasks.c **** 				pxNewTCB->ucStaticallyAllocated = tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB;
 805:Src/RTOS/tasks.c **** 			}
 806:Src/RTOS/tasks.c **** 			#endif /* configSUPPORT_STATIC_ALLOCATION */
 807:Src/RTOS/tasks.c **** 
 808:Src/RTOS/tasks.c **** 			prvInitialiseNewTask( pxTaskCode, pcName, ( uint32_t ) usStackDepth, pvParameters, uxPriority, p
 809:Src/RTOS/tasks.c **** 			prvAddNewTaskToReadyList( pxNewTCB );
 810:Src/RTOS/tasks.c **** 			xReturn = pdPASS;
 811:Src/RTOS/tasks.c **** 		}
 812:Src/RTOS/tasks.c **** 		else
 813:Src/RTOS/tasks.c **** 		{
 814:Src/RTOS/tasks.c **** 			xReturn = errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY;
 815:Src/RTOS/tasks.c **** 		}
 816:Src/RTOS/tasks.c **** 
 817:Src/RTOS/tasks.c **** 		return xReturn;
 818:Src/RTOS/tasks.c **** 	}
 819:Src/RTOS/tasks.c **** 
 820:Src/RTOS/tasks.c **** #endif /* configSUPPORT_DYNAMIC_ALLOCATION */
 821:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 822:Src/RTOS/tasks.c **** 
 823:Src/RTOS/tasks.c **** static void prvInitialiseNewTask( 	TaskFunction_t pxTaskCode,
 824:Src/RTOS/tasks.c **** 									const char * const pcName,		/*lint !e971 Unqualified char types are allowed for strings an
 825:Src/RTOS/tasks.c **** 									const uint32_t ulStackDepth,
 826:Src/RTOS/tasks.c **** 									void * const pvParameters,
 827:Src/RTOS/tasks.c **** 									UBaseType_t uxPriority,
 828:Src/RTOS/tasks.c **** 									TaskHandle_t * const pxCreatedTask,
 829:Src/RTOS/tasks.c **** 									TCB_t *pxNewTCB,
 830:Src/RTOS/tasks.c **** 									const MemoryRegion_t * const xRegions )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 16


 831:Src/RTOS/tasks.c **** {
 832:Src/RTOS/tasks.c **** StackType_t *pxTopOfStack;
 833:Src/RTOS/tasks.c **** UBaseType_t x;
 834:Src/RTOS/tasks.c **** 
 835:Src/RTOS/tasks.c **** 	#if( portUSING_MPU_WRAPPERS == 1 )
 836:Src/RTOS/tasks.c **** 		/* Should the task be created in privileged mode? */
 837:Src/RTOS/tasks.c **** 		BaseType_t xRunPrivileged;
 838:Src/RTOS/tasks.c **** 		if( ( uxPriority & portPRIVILEGE_BIT ) != 0U )
 839:Src/RTOS/tasks.c **** 		{
 840:Src/RTOS/tasks.c **** 			xRunPrivileged = pdTRUE;
 841:Src/RTOS/tasks.c **** 		}
 842:Src/RTOS/tasks.c **** 		else
 843:Src/RTOS/tasks.c **** 		{
 844:Src/RTOS/tasks.c **** 			xRunPrivileged = pdFALSE;
 845:Src/RTOS/tasks.c **** 		}
 846:Src/RTOS/tasks.c **** 		uxPriority &= ~portPRIVILEGE_BIT;
 847:Src/RTOS/tasks.c **** 	#endif /* portUSING_MPU_WRAPPERS == 1 */
 848:Src/RTOS/tasks.c **** 
 849:Src/RTOS/tasks.c **** 	/* Avoid dependency on memset() if it is not required. */
 850:Src/RTOS/tasks.c **** 	#if( tskSET_NEW_STACKS_TO_KNOWN_VALUE == 1 )
 851:Src/RTOS/tasks.c **** 	{
 852:Src/RTOS/tasks.c **** 		/* Fill the stack with a known value to assist debugging. */
 853:Src/RTOS/tasks.c **** 		( void ) memset( pxNewTCB->pxStack, ( int ) tskSTACK_FILL_BYTE, ( size_t ) ulStackDepth * sizeof(
 854:Src/RTOS/tasks.c **** 	}
 855:Src/RTOS/tasks.c **** 	#endif /* tskSET_NEW_STACKS_TO_KNOWN_VALUE */
 856:Src/RTOS/tasks.c **** 
 857:Src/RTOS/tasks.c **** 	/* Calculate the top of stack address.  This depends on whether the stack
 858:Src/RTOS/tasks.c **** 	grows from high memory to low (as per the 80x86) or vice versa.
 859:Src/RTOS/tasks.c **** 	portSTACK_GROWTH is used to make the result positive or negative as required
 860:Src/RTOS/tasks.c **** 	by the port. */
 861:Src/RTOS/tasks.c **** 	#if( portSTACK_GROWTH < 0 )
 862:Src/RTOS/tasks.c **** 	{
 863:Src/RTOS/tasks.c **** 		pxTopOfStack = pxNewTCB->pxStack + ( ulStackDepth - ( uint32_t ) 1 );
 864:Src/RTOS/tasks.c **** 		pxTopOfStack = ( StackType_t * ) ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack ) & ( ~( ( portPOINTE
 865:Src/RTOS/tasks.c **** 
 866:Src/RTOS/tasks.c **** 		/* Check the alignment of the calculated top of stack is correct. */
 867:Src/RTOS/tasks.c **** 		configASSERT( ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack & ( portPOINTER_SIZE_TYPE ) portBYTE_ALI
 868:Src/RTOS/tasks.c **** 
 869:Src/RTOS/tasks.c **** 		#if( configRECORD_STACK_HIGH_ADDRESS == 1 )
 870:Src/RTOS/tasks.c **** 		{
 871:Src/RTOS/tasks.c **** 			/* Also record the stack's high address, which may assist
 872:Src/RTOS/tasks.c **** 			debugging. */
 873:Src/RTOS/tasks.c **** 			pxNewTCB->pxEndOfStack = pxTopOfStack;
 874:Src/RTOS/tasks.c **** 		}
 875:Src/RTOS/tasks.c **** 		#endif /* configRECORD_STACK_HIGH_ADDRESS */
 876:Src/RTOS/tasks.c **** 	}
 877:Src/RTOS/tasks.c **** 	#else /* portSTACK_GROWTH */
 878:Src/RTOS/tasks.c **** 	{
 879:Src/RTOS/tasks.c **** 		pxTopOfStack = pxNewTCB->pxStack;
 880:Src/RTOS/tasks.c **** 
 881:Src/RTOS/tasks.c **** 		/* Check the alignment of the stack buffer is correct. */
 882:Src/RTOS/tasks.c **** 		configASSERT( ( ( ( portPOINTER_SIZE_TYPE ) pxNewTCB->pxStack & ( portPOINTER_SIZE_TYPE ) portBYT
 883:Src/RTOS/tasks.c **** 
 884:Src/RTOS/tasks.c **** 		/* The other extreme of the stack space is required if stack checking is
 885:Src/RTOS/tasks.c **** 		performed. */
 886:Src/RTOS/tasks.c **** 		pxNewTCB->pxEndOfStack = pxNewTCB->pxStack + ( ulStackDepth - ( uint32_t ) 1 );
 887:Src/RTOS/tasks.c **** 	}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 17


 888:Src/RTOS/tasks.c **** 	#endif /* portSTACK_GROWTH */
 889:Src/RTOS/tasks.c **** 
 890:Src/RTOS/tasks.c **** 	/* Store the task name in the TCB. */
 891:Src/RTOS/tasks.c **** 	for( x = ( UBaseType_t ) 0; x < ( UBaseType_t ) configMAX_TASK_NAME_LEN; x++ )
 892:Src/RTOS/tasks.c **** 	{
 893:Src/RTOS/tasks.c **** 		pxNewTCB->pcTaskName[ x ] = pcName[ x ];
 894:Src/RTOS/tasks.c **** 
 895:Src/RTOS/tasks.c **** 		/* Don't copy all configMAX_TASK_NAME_LEN if the string is shorter than
 896:Src/RTOS/tasks.c **** 		configMAX_TASK_NAME_LEN characters just in case the memory after the
 897:Src/RTOS/tasks.c **** 		string is not accessible (extremely unlikely). */
 898:Src/RTOS/tasks.c **** 		if( pcName[ x ] == 0x00 )
 899:Src/RTOS/tasks.c **** 		{
 900:Src/RTOS/tasks.c **** 			break;
 901:Src/RTOS/tasks.c **** 		}
 902:Src/RTOS/tasks.c **** 		else
 903:Src/RTOS/tasks.c **** 		{
 904:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
 905:Src/RTOS/tasks.c **** 		}
 906:Src/RTOS/tasks.c **** 	}
 907:Src/RTOS/tasks.c **** 
 908:Src/RTOS/tasks.c **** 	/* Ensure the name string is terminated in the case that the string length
 909:Src/RTOS/tasks.c **** 	was greater or equal to configMAX_TASK_NAME_LEN. */
 910:Src/RTOS/tasks.c **** 	pxNewTCB->pcTaskName[ configMAX_TASK_NAME_LEN - 1 ] = '\0';
 911:Src/RTOS/tasks.c **** 
 912:Src/RTOS/tasks.c **** 	/* This is used as an array index so must ensure it's not too large.  First
 913:Src/RTOS/tasks.c **** 	remove the privilege bit if one is present. */
 914:Src/RTOS/tasks.c **** 	if( uxPriority >= ( UBaseType_t ) configMAX_PRIORITIES )
 915:Src/RTOS/tasks.c **** 	{
 916:Src/RTOS/tasks.c **** 		uxPriority = ( UBaseType_t ) configMAX_PRIORITIES - ( UBaseType_t ) 1U;
 917:Src/RTOS/tasks.c **** 	}
 918:Src/RTOS/tasks.c **** 	else
 919:Src/RTOS/tasks.c **** 	{
 920:Src/RTOS/tasks.c **** 		mtCOVERAGE_TEST_MARKER();
 921:Src/RTOS/tasks.c **** 	}
 922:Src/RTOS/tasks.c **** 
 923:Src/RTOS/tasks.c **** 	pxNewTCB->uxPriority = uxPriority;
 924:Src/RTOS/tasks.c **** 	#if ( configUSE_MUTEXES == 1 )
 925:Src/RTOS/tasks.c **** 	{
 926:Src/RTOS/tasks.c **** 		pxNewTCB->uxBasePriority = uxPriority;
 927:Src/RTOS/tasks.c **** 		pxNewTCB->uxMutexesHeld = 0;
 928:Src/RTOS/tasks.c **** 	}
 929:Src/RTOS/tasks.c **** 	#endif /* configUSE_MUTEXES */
 930:Src/RTOS/tasks.c **** 
 931:Src/RTOS/tasks.c **** 	vListInitialiseItem( &( pxNewTCB->xStateListItem ) );
 932:Src/RTOS/tasks.c **** 	vListInitialiseItem( &( pxNewTCB->xEventListItem ) );
 933:Src/RTOS/tasks.c **** 
 934:Src/RTOS/tasks.c **** 	/* Set the pxNewTCB as a link back from the ListItem_t.  This is so we can get
 935:Src/RTOS/tasks.c **** 	back to	the containing TCB from a generic item in a list. */
 936:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_OWNER( &( pxNewTCB->xStateListItem ), pxNewTCB );
 937:Src/RTOS/tasks.c **** 
 938:Src/RTOS/tasks.c **** 	/* Event lists are always in priority order. */
 939:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_VALUE( &( pxNewTCB->xEventListItem ), ( TickType_t ) configMAX_PRIORITIES - ( Ti
 940:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_OWNER( &( pxNewTCB->xEventListItem ), pxNewTCB );
 941:Src/RTOS/tasks.c **** 
 942:Src/RTOS/tasks.c **** 	#if ( portCRITICAL_NESTING_IN_TCB == 1 )
 943:Src/RTOS/tasks.c **** 	{
 944:Src/RTOS/tasks.c **** 		pxNewTCB->uxCriticalNesting = ( UBaseType_t ) 0U;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 18


 945:Src/RTOS/tasks.c **** 	}
 946:Src/RTOS/tasks.c **** 	#endif /* portCRITICAL_NESTING_IN_TCB */
 947:Src/RTOS/tasks.c **** 
 948:Src/RTOS/tasks.c **** 	#if ( configUSE_APPLICATION_TASK_TAG == 1 )
 949:Src/RTOS/tasks.c **** 	{
 950:Src/RTOS/tasks.c **** 		pxNewTCB->pxTaskTag = NULL;
 951:Src/RTOS/tasks.c **** 	}
 952:Src/RTOS/tasks.c **** 	#endif /* configUSE_APPLICATION_TASK_TAG */
 953:Src/RTOS/tasks.c **** 
 954:Src/RTOS/tasks.c **** 	#if ( configGENERATE_RUN_TIME_STATS == 1 )
 955:Src/RTOS/tasks.c **** 	{
 956:Src/RTOS/tasks.c **** 		pxNewTCB->ulRunTimeCounter = 0UL;
 957:Src/RTOS/tasks.c **** 	}
 958:Src/RTOS/tasks.c **** 	#endif /* configGENERATE_RUN_TIME_STATS */
 959:Src/RTOS/tasks.c **** 
 960:Src/RTOS/tasks.c **** 	#if ( portUSING_MPU_WRAPPERS == 1 )
 961:Src/RTOS/tasks.c **** 	{
 962:Src/RTOS/tasks.c **** 		vPortStoreTaskMPUSettings( &( pxNewTCB->xMPUSettings ), xRegions, pxNewTCB->pxStack, ulStackDepth
 963:Src/RTOS/tasks.c **** 	}
 964:Src/RTOS/tasks.c **** 	#else
 965:Src/RTOS/tasks.c **** 	{
 966:Src/RTOS/tasks.c **** 		/* Avoid compiler warning about unreferenced parameter. */
 967:Src/RTOS/tasks.c **** 		( void ) xRegions;
 968:Src/RTOS/tasks.c **** 	}
 969:Src/RTOS/tasks.c **** 	#endif
 970:Src/RTOS/tasks.c **** 
 971:Src/RTOS/tasks.c **** 	#if( configNUM_THREAD_LOCAL_STORAGE_POINTERS != 0 )
 972:Src/RTOS/tasks.c **** 	{
 973:Src/RTOS/tasks.c **** 		for( x = 0; x < ( UBaseType_t ) configNUM_THREAD_LOCAL_STORAGE_POINTERS; x++ )
 974:Src/RTOS/tasks.c **** 		{
 975:Src/RTOS/tasks.c **** 			pxNewTCB->pvThreadLocalStoragePointers[ x ] = NULL;
 976:Src/RTOS/tasks.c **** 		}
 977:Src/RTOS/tasks.c **** 	}
 978:Src/RTOS/tasks.c **** 	#endif
 979:Src/RTOS/tasks.c **** 
 980:Src/RTOS/tasks.c **** 	#if ( configUSE_TASK_NOTIFICATIONS == 1 )
 981:Src/RTOS/tasks.c **** 	{
 982:Src/RTOS/tasks.c **** 		pxNewTCB->ulNotifiedValue = 0;
 983:Src/RTOS/tasks.c **** 		pxNewTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
 984:Src/RTOS/tasks.c **** 	}
 985:Src/RTOS/tasks.c **** 	#endif
 986:Src/RTOS/tasks.c **** 
 987:Src/RTOS/tasks.c **** 	#if ( configUSE_NEWLIB_REENTRANT == 1 )
 988:Src/RTOS/tasks.c **** 	{
 989:Src/RTOS/tasks.c **** 		/* Initialise this task's Newlib reent structure. */
 990:Src/RTOS/tasks.c **** 		_REENT_INIT_PTR( ( &( pxNewTCB->xNewLib_reent ) ) );
 991:Src/RTOS/tasks.c **** 	}
 992:Src/RTOS/tasks.c **** 	#endif
 993:Src/RTOS/tasks.c **** 
 994:Src/RTOS/tasks.c **** 	#if( INCLUDE_xTaskAbortDelay == 1 )
 995:Src/RTOS/tasks.c **** 	{
 996:Src/RTOS/tasks.c **** 		pxNewTCB->ucDelayAborted = pdFALSE;
 997:Src/RTOS/tasks.c **** 	}
 998:Src/RTOS/tasks.c **** 	#endif
 999:Src/RTOS/tasks.c **** 
1000:Src/RTOS/tasks.c **** 	/* Initialize the TCB stack to look as if the task was already running,
1001:Src/RTOS/tasks.c **** 	but had been interrupted by the scheduler.  The return address is set
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 19


1002:Src/RTOS/tasks.c **** 	to the start of the task function. Once the stack has been initialised
1003:Src/RTOS/tasks.c **** 	the top of stack variable is updated. */
1004:Src/RTOS/tasks.c **** 	#if( portUSING_MPU_WRAPPERS == 1 )
1005:Src/RTOS/tasks.c **** 	{
1006:Src/RTOS/tasks.c **** 		pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxTaskCode, pvParameters, xRunPrivi
1007:Src/RTOS/tasks.c **** 	}
1008:Src/RTOS/tasks.c **** 	#else /* portUSING_MPU_WRAPPERS */
1009:Src/RTOS/tasks.c **** 	{
1010:Src/RTOS/tasks.c **** 		pxNewTCB->pxTopOfStack = pxPortInitialiseStack( pxTopOfStack, pxTaskCode, pvParameters );
1011:Src/RTOS/tasks.c **** 	}
1012:Src/RTOS/tasks.c **** 	#endif /* portUSING_MPU_WRAPPERS */
1013:Src/RTOS/tasks.c **** 
1014:Src/RTOS/tasks.c **** 	if( ( void * ) pxCreatedTask != NULL )
1015:Src/RTOS/tasks.c **** 	{
1016:Src/RTOS/tasks.c **** 		/* Pass the handle out in an anonymous way.  The handle can be used to
1017:Src/RTOS/tasks.c **** 		change the created task's priority, delete the created task, etc.*/
1018:Src/RTOS/tasks.c **** 		*pxCreatedTask = ( TaskHandle_t ) pxNewTCB;
1019:Src/RTOS/tasks.c **** 	}
1020:Src/RTOS/tasks.c **** 	else
1021:Src/RTOS/tasks.c **** 	{
1022:Src/RTOS/tasks.c **** 		mtCOVERAGE_TEST_MARKER();
1023:Src/RTOS/tasks.c **** 	}
1024:Src/RTOS/tasks.c **** }
1025:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1026:Src/RTOS/tasks.c **** 
1027:Src/RTOS/tasks.c **** static void prvAddNewTaskToReadyList( TCB_t *pxNewTCB )
1028:Src/RTOS/tasks.c **** {
1029:Src/RTOS/tasks.c **** 	/* Ensure interrupts don't access the task lists while the lists are being
1030:Src/RTOS/tasks.c **** 	updated. */
1031:Src/RTOS/tasks.c **** 	taskENTER_CRITICAL();
1032:Src/RTOS/tasks.c **** 	{
1033:Src/RTOS/tasks.c **** 		uxCurrentNumberOfTasks++;
1034:Src/RTOS/tasks.c **** 		if( pxCurrentTCB == NULL )
1035:Src/RTOS/tasks.c **** 		{
1036:Src/RTOS/tasks.c **** 			/* There are no other tasks, or all the other tasks are in
1037:Src/RTOS/tasks.c **** 			the suspended state - make this the current task. */
1038:Src/RTOS/tasks.c **** 			pxCurrentTCB = pxNewTCB;
1039:Src/RTOS/tasks.c **** 
1040:Src/RTOS/tasks.c **** 			if( uxCurrentNumberOfTasks == ( UBaseType_t ) 1 )
1041:Src/RTOS/tasks.c **** 			{
1042:Src/RTOS/tasks.c **** 				/* This is the first task to be created so do the preliminary
1043:Src/RTOS/tasks.c **** 				initialisation required.  We will not recover if this call
1044:Src/RTOS/tasks.c **** 				fails, but we will report the failure. */
1045:Src/RTOS/tasks.c **** 				prvInitialiseTaskLists();
1046:Src/RTOS/tasks.c **** 			}
1047:Src/RTOS/tasks.c **** 			else
1048:Src/RTOS/tasks.c **** 			{
1049:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1050:Src/RTOS/tasks.c **** 			}
1051:Src/RTOS/tasks.c **** 		}
1052:Src/RTOS/tasks.c **** 		else
1053:Src/RTOS/tasks.c **** 		{
1054:Src/RTOS/tasks.c **** 			/* If the scheduler is not already running, make this task the
1055:Src/RTOS/tasks.c **** 			current task if it is the highest priority task to be created
1056:Src/RTOS/tasks.c **** 			so far. */
1057:Src/RTOS/tasks.c **** 			if( xSchedulerRunning == pdFALSE )
1058:Src/RTOS/tasks.c **** 			{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 20


1059:Src/RTOS/tasks.c **** 				if( pxCurrentTCB->uxPriority <= pxNewTCB->uxPriority )
1060:Src/RTOS/tasks.c **** 				{
1061:Src/RTOS/tasks.c **** 					pxCurrentTCB = pxNewTCB;
1062:Src/RTOS/tasks.c **** 				}
1063:Src/RTOS/tasks.c **** 				else
1064:Src/RTOS/tasks.c **** 				{
1065:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1066:Src/RTOS/tasks.c **** 				}
1067:Src/RTOS/tasks.c **** 			}
1068:Src/RTOS/tasks.c **** 			else
1069:Src/RTOS/tasks.c **** 			{
1070:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1071:Src/RTOS/tasks.c **** 			}
1072:Src/RTOS/tasks.c **** 		}
1073:Src/RTOS/tasks.c **** 
1074:Src/RTOS/tasks.c **** 		uxTaskNumber++;
1075:Src/RTOS/tasks.c **** 
1076:Src/RTOS/tasks.c **** 		#if ( configUSE_TRACE_FACILITY == 1 )
1077:Src/RTOS/tasks.c **** 		{
1078:Src/RTOS/tasks.c **** 			/* Add a counter into the TCB for tracing only. */
1079:Src/RTOS/tasks.c **** 			pxNewTCB->uxTCBNumber = uxTaskNumber;
1080:Src/RTOS/tasks.c **** 		}
1081:Src/RTOS/tasks.c **** 		#endif /* configUSE_TRACE_FACILITY */
1082:Src/RTOS/tasks.c **** 		traceTASK_CREATE( pxNewTCB );
1083:Src/RTOS/tasks.c **** 
1084:Src/RTOS/tasks.c **** 		prvAddTaskToReadyList( pxNewTCB );
1085:Src/RTOS/tasks.c **** 
1086:Src/RTOS/tasks.c **** 		portSETUP_TCB( pxNewTCB );
1087:Src/RTOS/tasks.c **** 	}
1088:Src/RTOS/tasks.c **** 	taskEXIT_CRITICAL();
1089:Src/RTOS/tasks.c **** 
1090:Src/RTOS/tasks.c **** 	if( xSchedulerRunning != pdFALSE )
1091:Src/RTOS/tasks.c **** 	{
1092:Src/RTOS/tasks.c **** 		/* If the created task is of a higher priority than the current task
1093:Src/RTOS/tasks.c **** 		then it should run now. */
1094:Src/RTOS/tasks.c **** 		if( pxCurrentTCB->uxPriority < pxNewTCB->uxPriority )
1095:Src/RTOS/tasks.c **** 		{
1096:Src/RTOS/tasks.c **** 			taskYIELD_IF_USING_PREEMPTION();
1097:Src/RTOS/tasks.c **** 		}
1098:Src/RTOS/tasks.c **** 		else
1099:Src/RTOS/tasks.c **** 		{
1100:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1101:Src/RTOS/tasks.c **** 		}
1102:Src/RTOS/tasks.c **** 	}
1103:Src/RTOS/tasks.c **** 	else
1104:Src/RTOS/tasks.c **** 	{
1105:Src/RTOS/tasks.c **** 		mtCOVERAGE_TEST_MARKER();
1106:Src/RTOS/tasks.c **** 	}
1107:Src/RTOS/tasks.c **** }
1108:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1109:Src/RTOS/tasks.c **** 
1110:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
1111:Src/RTOS/tasks.c **** 
1112:Src/RTOS/tasks.c **** 	void vTaskDelete( TaskHandle_t xTaskToDelete )
1113:Src/RTOS/tasks.c **** 	{
1114:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
1115:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 21


1116:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
1117:Src/RTOS/tasks.c **** 		{
1118:Src/RTOS/tasks.c **** 			/* If null is passed in here then it is the calling task that is
1119:Src/RTOS/tasks.c **** 			being deleted. */
1120:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTaskToDelete );
1121:Src/RTOS/tasks.c **** 
1122:Src/RTOS/tasks.c **** 			/* Remove task from the ready list. */
1123:Src/RTOS/tasks.c **** 			if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
1124:Src/RTOS/tasks.c **** 			{
1125:Src/RTOS/tasks.c **** 				taskRESET_READY_PRIORITY( pxTCB->uxPriority );
1126:Src/RTOS/tasks.c **** 			}
1127:Src/RTOS/tasks.c **** 			else
1128:Src/RTOS/tasks.c **** 			{
1129:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1130:Src/RTOS/tasks.c **** 			}
1131:Src/RTOS/tasks.c **** 
1132:Src/RTOS/tasks.c **** 			/* Is the task waiting on an event also? */
1133:Src/RTOS/tasks.c **** 			if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
1134:Src/RTOS/tasks.c **** 			{
1135:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xEventListItem ) );
1136:Src/RTOS/tasks.c **** 			}
1137:Src/RTOS/tasks.c **** 			else
1138:Src/RTOS/tasks.c **** 			{
1139:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1140:Src/RTOS/tasks.c **** 			}
1141:Src/RTOS/tasks.c **** 
1142:Src/RTOS/tasks.c **** 			/* Increment the uxTaskNumber also so kernel aware debuggers can
1143:Src/RTOS/tasks.c **** 			detect that the task lists need re-generating.  This is done before
1144:Src/RTOS/tasks.c **** 			portPRE_TASK_DELETE_HOOK() as in the Windows port that macro will
1145:Src/RTOS/tasks.c **** 			not return. */
1146:Src/RTOS/tasks.c **** 			uxTaskNumber++;
1147:Src/RTOS/tasks.c **** 
1148:Src/RTOS/tasks.c **** 			if( pxTCB == pxCurrentTCB )
1149:Src/RTOS/tasks.c **** 			{
1150:Src/RTOS/tasks.c **** 				/* A task is deleting itself.  This cannot complete within the
1151:Src/RTOS/tasks.c **** 				task itself, as a context switch to another task is required.
1152:Src/RTOS/tasks.c **** 				Place the task in the termination list.  The idle task will
1153:Src/RTOS/tasks.c **** 				check the termination list and free up any memory allocated by
1154:Src/RTOS/tasks.c **** 				the scheduler for the TCB and stack of the deleted task. */
1155:Src/RTOS/tasks.c **** 				vListInsertEnd( &xTasksWaitingTermination, &( pxTCB->xStateListItem ) );
1156:Src/RTOS/tasks.c **** 
1157:Src/RTOS/tasks.c **** 				/* Increment the ucTasksDeleted variable so the idle task knows
1158:Src/RTOS/tasks.c **** 				there is a task that has been deleted and that it should therefore
1159:Src/RTOS/tasks.c **** 				check the xTasksWaitingTermination list. */
1160:Src/RTOS/tasks.c **** 				++uxDeletedTasksWaitingCleanUp;
1161:Src/RTOS/tasks.c **** 
1162:Src/RTOS/tasks.c **** 				/* The pre-delete hook is primarily for the Windows simulator,
1163:Src/RTOS/tasks.c **** 				in which Windows specific clean up operations are performed,
1164:Src/RTOS/tasks.c **** 				after which it is not possible to yield away from this task -
1165:Src/RTOS/tasks.c **** 				hence xYieldPending is used to latch that a context switch is
1166:Src/RTOS/tasks.c **** 				required. */
1167:Src/RTOS/tasks.c **** 				portPRE_TASK_DELETE_HOOK( pxTCB, &xYieldPending );
1168:Src/RTOS/tasks.c **** 			}
1169:Src/RTOS/tasks.c **** 			else
1170:Src/RTOS/tasks.c **** 			{
1171:Src/RTOS/tasks.c **** 				--uxCurrentNumberOfTasks;
1172:Src/RTOS/tasks.c **** 				prvDeleteTCB( pxTCB );
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 22


1173:Src/RTOS/tasks.c **** 
1174:Src/RTOS/tasks.c **** 				/* Reset the next expected unblock time in case it referred to
1175:Src/RTOS/tasks.c **** 				the task that has just been deleted. */
1176:Src/RTOS/tasks.c **** 				prvResetNextTaskUnblockTime();
1177:Src/RTOS/tasks.c **** 			}
1178:Src/RTOS/tasks.c **** 
1179:Src/RTOS/tasks.c **** 			traceTASK_DELETE( pxTCB );
1180:Src/RTOS/tasks.c **** 		}
1181:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
1182:Src/RTOS/tasks.c **** 
1183:Src/RTOS/tasks.c **** 		/* Force a reschedule if it is the currently running task that has just
1184:Src/RTOS/tasks.c **** 		been deleted. */
1185:Src/RTOS/tasks.c **** 		if( xSchedulerRunning != pdFALSE )
1186:Src/RTOS/tasks.c **** 		{
1187:Src/RTOS/tasks.c **** 			if( pxTCB == pxCurrentTCB )
1188:Src/RTOS/tasks.c **** 			{
1189:Src/RTOS/tasks.c **** 				configASSERT( uxSchedulerSuspended == 0 );
1190:Src/RTOS/tasks.c **** 				portYIELD_WITHIN_API();
1191:Src/RTOS/tasks.c **** 			}
1192:Src/RTOS/tasks.c **** 			else
1193:Src/RTOS/tasks.c **** 			{
1194:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1195:Src/RTOS/tasks.c **** 			}
1196:Src/RTOS/tasks.c **** 		}
1197:Src/RTOS/tasks.c **** 	}
1198:Src/RTOS/tasks.c **** 
1199:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskDelete */
1200:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1201:Src/RTOS/tasks.c **** 
1202:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskDelayUntil == 1 )
1203:Src/RTOS/tasks.c **** 
1204:Src/RTOS/tasks.c **** 	void vTaskDelayUntil( TickType_t * const pxPreviousWakeTime, const TickType_t xTimeIncrement )
1205:Src/RTOS/tasks.c **** 	{
1206:Src/RTOS/tasks.c **** 	TickType_t xTimeToWake;
1207:Src/RTOS/tasks.c **** 	BaseType_t xAlreadyYielded, xShouldDelay = pdFALSE;
1208:Src/RTOS/tasks.c **** 
1209:Src/RTOS/tasks.c **** 		configASSERT( pxPreviousWakeTime );
1210:Src/RTOS/tasks.c **** 		configASSERT( ( xTimeIncrement > 0U ) );
1211:Src/RTOS/tasks.c **** 		configASSERT( uxSchedulerSuspended == 0 );
1212:Src/RTOS/tasks.c **** 
1213:Src/RTOS/tasks.c **** 		vTaskSuspendAll();
1214:Src/RTOS/tasks.c **** 		{
1215:Src/RTOS/tasks.c **** 			/* Minor optimisation.  The tick count cannot change in this
1216:Src/RTOS/tasks.c **** 			block. */
1217:Src/RTOS/tasks.c **** 			const TickType_t xConstTickCount = xTickCount;
1218:Src/RTOS/tasks.c **** 
1219:Src/RTOS/tasks.c **** 			/* Generate the tick time at which the task wants to wake. */
1220:Src/RTOS/tasks.c **** 			xTimeToWake = *pxPreviousWakeTime + xTimeIncrement;
1221:Src/RTOS/tasks.c **** 
1222:Src/RTOS/tasks.c **** 			if( xConstTickCount < *pxPreviousWakeTime )
1223:Src/RTOS/tasks.c **** 			{
1224:Src/RTOS/tasks.c **** 				/* The tick count has overflowed since this function was
1225:Src/RTOS/tasks.c **** 				lasted called.  In this case the only time we should ever
1226:Src/RTOS/tasks.c **** 				actually delay is if the wake time has also	overflowed,
1227:Src/RTOS/tasks.c **** 				and the wake time is greater than the tick time.  When this
1228:Src/RTOS/tasks.c **** 				is the case it is as if neither time had overflowed. */
1229:Src/RTOS/tasks.c **** 				if( ( xTimeToWake < *pxPreviousWakeTime ) && ( xTimeToWake > xConstTickCount ) )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 23


1230:Src/RTOS/tasks.c **** 				{
1231:Src/RTOS/tasks.c **** 					xShouldDelay = pdTRUE;
1232:Src/RTOS/tasks.c **** 				}
1233:Src/RTOS/tasks.c **** 				else
1234:Src/RTOS/tasks.c **** 				{
1235:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1236:Src/RTOS/tasks.c **** 				}
1237:Src/RTOS/tasks.c **** 			}
1238:Src/RTOS/tasks.c **** 			else
1239:Src/RTOS/tasks.c **** 			{
1240:Src/RTOS/tasks.c **** 				/* The tick time has not overflowed.  In this case we will
1241:Src/RTOS/tasks.c **** 				delay if either the wake time has overflowed, and/or the
1242:Src/RTOS/tasks.c **** 				tick time is less than the wake time. */
1243:Src/RTOS/tasks.c **** 				if( ( xTimeToWake < *pxPreviousWakeTime ) || ( xTimeToWake > xConstTickCount ) )
1244:Src/RTOS/tasks.c **** 				{
1245:Src/RTOS/tasks.c **** 					xShouldDelay = pdTRUE;
1246:Src/RTOS/tasks.c **** 				}
1247:Src/RTOS/tasks.c **** 				else
1248:Src/RTOS/tasks.c **** 				{
1249:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1250:Src/RTOS/tasks.c **** 				}
1251:Src/RTOS/tasks.c **** 			}
1252:Src/RTOS/tasks.c **** 
1253:Src/RTOS/tasks.c **** 			/* Update the wake time ready for the next call. */
1254:Src/RTOS/tasks.c **** 			*pxPreviousWakeTime = xTimeToWake;
1255:Src/RTOS/tasks.c **** 
1256:Src/RTOS/tasks.c **** 			if( xShouldDelay != pdFALSE )
1257:Src/RTOS/tasks.c **** 			{
1258:Src/RTOS/tasks.c **** 				traceTASK_DELAY_UNTIL( xTimeToWake );
1259:Src/RTOS/tasks.c **** 
1260:Src/RTOS/tasks.c **** 				/* prvAddCurrentTaskToDelayedList() needs the block time, not
1261:Src/RTOS/tasks.c **** 				the time to wake, so subtract the current tick count. */
1262:Src/RTOS/tasks.c **** 				prvAddCurrentTaskToDelayedList( xTimeToWake - xConstTickCount, pdFALSE );
1263:Src/RTOS/tasks.c **** 			}
1264:Src/RTOS/tasks.c **** 			else
1265:Src/RTOS/tasks.c **** 			{
1266:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1267:Src/RTOS/tasks.c **** 			}
1268:Src/RTOS/tasks.c **** 		}
1269:Src/RTOS/tasks.c **** 		xAlreadyYielded = xTaskResumeAll();
1270:Src/RTOS/tasks.c **** 
1271:Src/RTOS/tasks.c **** 		/* Force a reschedule if xTaskResumeAll has not already done so, we may
1272:Src/RTOS/tasks.c **** 		have put ourselves to sleep. */
1273:Src/RTOS/tasks.c **** 		if( xAlreadyYielded == pdFALSE )
1274:Src/RTOS/tasks.c **** 		{
1275:Src/RTOS/tasks.c **** 			portYIELD_WITHIN_API();
1276:Src/RTOS/tasks.c **** 		}
1277:Src/RTOS/tasks.c **** 		else
1278:Src/RTOS/tasks.c **** 		{
1279:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1280:Src/RTOS/tasks.c **** 		}
1281:Src/RTOS/tasks.c **** 	}
1282:Src/RTOS/tasks.c **** 
1283:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskDelayUntil */
1284:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1285:Src/RTOS/tasks.c **** 
1286:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskDelay == 1 )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 24


1287:Src/RTOS/tasks.c **** 
1288:Src/RTOS/tasks.c **** 	void vTaskDelay( const TickType_t xTicksToDelay )
1289:Src/RTOS/tasks.c **** 	{
1290:Src/RTOS/tasks.c **** 	BaseType_t xAlreadyYielded = pdFALSE;
1291:Src/RTOS/tasks.c **** 
1292:Src/RTOS/tasks.c **** 		/* A delay time of zero just forces a reschedule. */
1293:Src/RTOS/tasks.c **** 		if( xTicksToDelay > ( TickType_t ) 0U )
1294:Src/RTOS/tasks.c **** 		{
1295:Src/RTOS/tasks.c **** 			configASSERT( uxSchedulerSuspended == 0 );
1296:Src/RTOS/tasks.c **** 			vTaskSuspendAll();
1297:Src/RTOS/tasks.c **** 			{
1298:Src/RTOS/tasks.c **** 				traceTASK_DELAY();
1299:Src/RTOS/tasks.c **** 
1300:Src/RTOS/tasks.c **** 				/* A task that is removed from the event list while the
1301:Src/RTOS/tasks.c **** 				scheduler is suspended will not get placed in the ready
1302:Src/RTOS/tasks.c **** 				list or removed from the blocked list until the scheduler
1303:Src/RTOS/tasks.c **** 				is resumed.
1304:Src/RTOS/tasks.c **** 
1305:Src/RTOS/tasks.c **** 				This task cannot be in an event list as it is the currently
1306:Src/RTOS/tasks.c **** 				executing task. */
1307:Src/RTOS/tasks.c **** 				prvAddCurrentTaskToDelayedList( xTicksToDelay, pdFALSE );
1308:Src/RTOS/tasks.c **** 			}
1309:Src/RTOS/tasks.c **** 			xAlreadyYielded = xTaskResumeAll();
1310:Src/RTOS/tasks.c **** 		}
1311:Src/RTOS/tasks.c **** 		else
1312:Src/RTOS/tasks.c **** 		{
1313:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1314:Src/RTOS/tasks.c **** 		}
1315:Src/RTOS/tasks.c **** 
1316:Src/RTOS/tasks.c **** 		/* Force a reschedule if xTaskResumeAll has not already done so, we may
1317:Src/RTOS/tasks.c **** 		have put ourselves to sleep. */
1318:Src/RTOS/tasks.c **** 		if( xAlreadyYielded == pdFALSE )
1319:Src/RTOS/tasks.c **** 		{
1320:Src/RTOS/tasks.c **** 			portYIELD_WITHIN_API();
1321:Src/RTOS/tasks.c **** 		}
1322:Src/RTOS/tasks.c **** 		else
1323:Src/RTOS/tasks.c **** 		{
1324:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1325:Src/RTOS/tasks.c **** 		}
1326:Src/RTOS/tasks.c **** 	}
1327:Src/RTOS/tasks.c **** 
1328:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskDelay */
1329:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1330:Src/RTOS/tasks.c **** 
1331:Src/RTOS/tasks.c **** #if( ( INCLUDE_eTaskGetState == 1 ) || ( configUSE_TRACE_FACILITY == 1 ) )
1332:Src/RTOS/tasks.c **** 
1333:Src/RTOS/tasks.c **** 	eTaskState eTaskGetState( TaskHandle_t xTask )
1334:Src/RTOS/tasks.c **** 	{
1335:Src/RTOS/tasks.c **** 	eTaskState eReturn;
1336:Src/RTOS/tasks.c **** 	List_t *pxStateList;
1337:Src/RTOS/tasks.c **** 	const TCB_t * const pxTCB = ( TCB_t * ) xTask;
1338:Src/RTOS/tasks.c **** 
1339:Src/RTOS/tasks.c **** 		configASSERT( pxTCB );
1340:Src/RTOS/tasks.c **** 
1341:Src/RTOS/tasks.c **** 		if( pxTCB == pxCurrentTCB )
1342:Src/RTOS/tasks.c **** 		{
1343:Src/RTOS/tasks.c **** 			/* The task calling this function is querying its own state. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 25


1344:Src/RTOS/tasks.c **** 			eReturn = eRunning;
1345:Src/RTOS/tasks.c **** 		}
1346:Src/RTOS/tasks.c **** 		else
1347:Src/RTOS/tasks.c **** 		{
1348:Src/RTOS/tasks.c **** 			taskENTER_CRITICAL();
1349:Src/RTOS/tasks.c **** 			{
1350:Src/RTOS/tasks.c **** 				pxStateList = ( List_t * ) listLIST_ITEM_CONTAINER( &( pxTCB->xStateListItem ) );
1351:Src/RTOS/tasks.c **** 			}
1352:Src/RTOS/tasks.c **** 			taskEXIT_CRITICAL();
1353:Src/RTOS/tasks.c **** 
1354:Src/RTOS/tasks.c **** 			if( ( pxStateList == pxDelayedTaskList ) || ( pxStateList == pxOverflowDelayedTaskList ) )
1355:Src/RTOS/tasks.c **** 			{
1356:Src/RTOS/tasks.c **** 				/* The task being queried is referenced from one of the Blocked
1357:Src/RTOS/tasks.c **** 				lists. */
1358:Src/RTOS/tasks.c **** 				eReturn = eBlocked;
1359:Src/RTOS/tasks.c **** 			}
1360:Src/RTOS/tasks.c **** 
1361:Src/RTOS/tasks.c **** 			#if ( INCLUDE_vTaskSuspend == 1 )
1362:Src/RTOS/tasks.c **** 				else if( pxStateList == &xSuspendedTaskList )
1363:Src/RTOS/tasks.c **** 				{
1364:Src/RTOS/tasks.c **** 					/* The task being queried is referenced from the suspended
1365:Src/RTOS/tasks.c **** 					list.  Is it genuinely suspended or is it block
1366:Src/RTOS/tasks.c **** 					indefinitely? */
1367:Src/RTOS/tasks.c **** 					if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL )
1368:Src/RTOS/tasks.c **** 					{
1369:Src/RTOS/tasks.c **** 						eReturn = eSuspended;
1370:Src/RTOS/tasks.c **** 					}
1371:Src/RTOS/tasks.c **** 					else
1372:Src/RTOS/tasks.c **** 					{
1373:Src/RTOS/tasks.c **** 						eReturn = eBlocked;
1374:Src/RTOS/tasks.c **** 					}
1375:Src/RTOS/tasks.c **** 				}
1376:Src/RTOS/tasks.c **** 			#endif
1377:Src/RTOS/tasks.c **** 
1378:Src/RTOS/tasks.c **** 			#if ( INCLUDE_vTaskDelete == 1 )
1379:Src/RTOS/tasks.c **** 				else if( ( pxStateList == &xTasksWaitingTermination ) || ( pxStateList == NULL ) )
1380:Src/RTOS/tasks.c **** 				{
1381:Src/RTOS/tasks.c **** 					/* The task being queried is referenced from the deleted
1382:Src/RTOS/tasks.c **** 					tasks list, or it is not referenced from any lists at
1383:Src/RTOS/tasks.c **** 					all. */
1384:Src/RTOS/tasks.c **** 					eReturn = eDeleted;
1385:Src/RTOS/tasks.c **** 				}
1386:Src/RTOS/tasks.c **** 			#endif
1387:Src/RTOS/tasks.c **** 
1388:Src/RTOS/tasks.c **** 			else /*lint !e525 Negative indentation is intended to make use of pre-processor clearer. */
1389:Src/RTOS/tasks.c **** 			{
1390:Src/RTOS/tasks.c **** 				/* If the task is not in any other state, it must be in the
1391:Src/RTOS/tasks.c **** 				Ready (including pending ready) state. */
1392:Src/RTOS/tasks.c **** 				eReturn = eReady;
1393:Src/RTOS/tasks.c **** 			}
1394:Src/RTOS/tasks.c **** 		}
1395:Src/RTOS/tasks.c **** 
1396:Src/RTOS/tasks.c **** 		return eReturn;
1397:Src/RTOS/tasks.c **** 	} /*lint !e818 xTask cannot be a pointer to const because it is a typedef. */
1398:Src/RTOS/tasks.c **** 
1399:Src/RTOS/tasks.c **** #endif /* INCLUDE_eTaskGetState */
1400:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 26


1401:Src/RTOS/tasks.c **** 
1402:Src/RTOS/tasks.c **** #if ( INCLUDE_uxTaskPriorityGet == 1 )
1403:Src/RTOS/tasks.c **** 
1404:Src/RTOS/tasks.c **** 	UBaseType_t uxTaskPriorityGet( TaskHandle_t xTask )
1405:Src/RTOS/tasks.c **** 	{
1406:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
1407:Src/RTOS/tasks.c **** 	UBaseType_t uxReturn;
1408:Src/RTOS/tasks.c **** 
1409:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
1410:Src/RTOS/tasks.c **** 		{
1411:Src/RTOS/tasks.c **** 			/* If null is passed in here then it is the priority of the that
1412:Src/RTOS/tasks.c **** 			called uxTaskPriorityGet() that is being queried. */
1413:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTask );
1414:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
1415:Src/RTOS/tasks.c **** 		}
1416:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
1417:Src/RTOS/tasks.c **** 
1418:Src/RTOS/tasks.c **** 		return uxReturn;
1419:Src/RTOS/tasks.c **** 	}
1420:Src/RTOS/tasks.c **** 
1421:Src/RTOS/tasks.c **** #endif /* INCLUDE_uxTaskPriorityGet */
1422:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1423:Src/RTOS/tasks.c **** 
1424:Src/RTOS/tasks.c **** #if ( INCLUDE_uxTaskPriorityGet == 1 )
1425:Src/RTOS/tasks.c **** 
1426:Src/RTOS/tasks.c **** 	UBaseType_t uxTaskPriorityGetFromISR( TaskHandle_t xTask )
1427:Src/RTOS/tasks.c **** 	{
1428:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
1429:Src/RTOS/tasks.c **** 	UBaseType_t uxReturn, uxSavedInterruptState;
1430:Src/RTOS/tasks.c **** 
1431:Src/RTOS/tasks.c **** 		/* RTOS ports that support interrupt nesting have the concept of a
1432:Src/RTOS/tasks.c **** 		maximum	system call (or maximum API call) interrupt priority.
1433:Src/RTOS/tasks.c **** 		Interrupts that are	above the maximum system call priority are keep
1434:Src/RTOS/tasks.c **** 		permanently enabled, even when the RTOS kernel is in a critical section,
1435:Src/RTOS/tasks.c **** 		but cannot make any calls to FreeRTOS API functions.  If configASSERT()
1436:Src/RTOS/tasks.c **** 		is defined in FreeRTOSConfig.h then
1437:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
1438:Src/RTOS/tasks.c **** 		failure if a FreeRTOS API function is called from an interrupt that has
1439:Src/RTOS/tasks.c **** 		been assigned a priority above the configured maximum system call
1440:Src/RTOS/tasks.c **** 		priority.  Only FreeRTOS functions that end in FromISR can be called
1441:Src/RTOS/tasks.c **** 		from interrupts	that have been assigned a priority at or (logically)
1442:Src/RTOS/tasks.c **** 		below the maximum system call interrupt priority.  FreeRTOS maintains a
1443:Src/RTOS/tasks.c **** 		separate interrupt safe API to ensure interrupt entry is as fast and as
1444:Src/RTOS/tasks.c **** 		simple as possible.  More information (albeit Cortex-M specific) is
1445:Src/RTOS/tasks.c **** 		provided on the following link:
1446:Src/RTOS/tasks.c **** 		http://www.freertos.org/RTOS-Cortex-M3-M4.html */
1447:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
1448:Src/RTOS/tasks.c **** 
1449:Src/RTOS/tasks.c **** 		uxSavedInterruptState = portSET_INTERRUPT_MASK_FROM_ISR();
1450:Src/RTOS/tasks.c **** 		{
1451:Src/RTOS/tasks.c **** 			/* If null is passed in here then it is the priority of the calling
1452:Src/RTOS/tasks.c **** 			task that is being queried. */
1453:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTask );
1454:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
1455:Src/RTOS/tasks.c **** 		}
1456:Src/RTOS/tasks.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptState );
1457:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 27


1458:Src/RTOS/tasks.c **** 		return uxReturn;
1459:Src/RTOS/tasks.c **** 	}
1460:Src/RTOS/tasks.c **** 
1461:Src/RTOS/tasks.c **** #endif /* INCLUDE_uxTaskPriorityGet */
1462:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1463:Src/RTOS/tasks.c **** 
1464:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskPrioritySet == 1 )
1465:Src/RTOS/tasks.c **** 
1466:Src/RTOS/tasks.c **** 	void vTaskPrioritySet( TaskHandle_t xTask, UBaseType_t uxNewPriority )
1467:Src/RTOS/tasks.c **** 	{
1468:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
1469:Src/RTOS/tasks.c **** 	UBaseType_t uxCurrentBasePriority, uxPriorityUsedOnEntry;
1470:Src/RTOS/tasks.c **** 	BaseType_t xYieldRequired = pdFALSE;
1471:Src/RTOS/tasks.c **** 
1472:Src/RTOS/tasks.c **** 		configASSERT( ( uxNewPriority < configMAX_PRIORITIES ) );
1473:Src/RTOS/tasks.c **** 
1474:Src/RTOS/tasks.c **** 		/* Ensure the new priority is valid. */
1475:Src/RTOS/tasks.c **** 		if( uxNewPriority >= ( UBaseType_t ) configMAX_PRIORITIES )
1476:Src/RTOS/tasks.c **** 		{
1477:Src/RTOS/tasks.c **** 			uxNewPriority = ( UBaseType_t ) configMAX_PRIORITIES - ( UBaseType_t ) 1U;
1478:Src/RTOS/tasks.c **** 		}
1479:Src/RTOS/tasks.c **** 		else
1480:Src/RTOS/tasks.c **** 		{
1481:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1482:Src/RTOS/tasks.c **** 		}
1483:Src/RTOS/tasks.c **** 
1484:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
1485:Src/RTOS/tasks.c **** 		{
1486:Src/RTOS/tasks.c **** 			/* If null is passed in here then it is the priority of the calling
1487:Src/RTOS/tasks.c **** 			task that is being changed. */
1488:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTask );
1489:Src/RTOS/tasks.c **** 
1490:Src/RTOS/tasks.c **** 			traceTASK_PRIORITY_SET( pxTCB, uxNewPriority );
1491:Src/RTOS/tasks.c **** 
1492:Src/RTOS/tasks.c **** 			#if ( configUSE_MUTEXES == 1 )
1493:Src/RTOS/tasks.c **** 			{
1494:Src/RTOS/tasks.c **** 				uxCurrentBasePriority = pxTCB->uxBasePriority;
1495:Src/RTOS/tasks.c **** 			}
1496:Src/RTOS/tasks.c **** 			#else
1497:Src/RTOS/tasks.c **** 			{
1498:Src/RTOS/tasks.c **** 				uxCurrentBasePriority = pxTCB->uxPriority;
1499:Src/RTOS/tasks.c **** 			}
1500:Src/RTOS/tasks.c **** 			#endif
1501:Src/RTOS/tasks.c **** 
1502:Src/RTOS/tasks.c **** 			if( uxCurrentBasePriority != uxNewPriority )
1503:Src/RTOS/tasks.c **** 			{
1504:Src/RTOS/tasks.c **** 				/* The priority change may have readied a task of higher
1505:Src/RTOS/tasks.c **** 				priority than the calling task. */
1506:Src/RTOS/tasks.c **** 				if( uxNewPriority > uxCurrentBasePriority )
1507:Src/RTOS/tasks.c **** 				{
1508:Src/RTOS/tasks.c **** 					if( pxTCB != pxCurrentTCB )
1509:Src/RTOS/tasks.c **** 					{
1510:Src/RTOS/tasks.c **** 						/* The priority of a task other than the currently
1511:Src/RTOS/tasks.c **** 						running task is being raised.  Is the priority being
1512:Src/RTOS/tasks.c **** 						raised above that of the running task? */
1513:Src/RTOS/tasks.c **** 						if( uxNewPriority >= pxCurrentTCB->uxPriority )
1514:Src/RTOS/tasks.c **** 						{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 28


1515:Src/RTOS/tasks.c **** 							xYieldRequired = pdTRUE;
1516:Src/RTOS/tasks.c **** 						}
1517:Src/RTOS/tasks.c **** 						else
1518:Src/RTOS/tasks.c **** 						{
1519:Src/RTOS/tasks.c **** 							mtCOVERAGE_TEST_MARKER();
1520:Src/RTOS/tasks.c **** 						}
1521:Src/RTOS/tasks.c **** 					}
1522:Src/RTOS/tasks.c **** 					else
1523:Src/RTOS/tasks.c **** 					{
1524:Src/RTOS/tasks.c **** 						/* The priority of the running task is being raised,
1525:Src/RTOS/tasks.c **** 						but the running task must already be the highest
1526:Src/RTOS/tasks.c **** 						priority task able to run so no yield is required. */
1527:Src/RTOS/tasks.c **** 					}
1528:Src/RTOS/tasks.c **** 				}
1529:Src/RTOS/tasks.c **** 				else if( pxTCB == pxCurrentTCB )
1530:Src/RTOS/tasks.c **** 				{
1531:Src/RTOS/tasks.c **** 					/* Setting the priority of the running task down means
1532:Src/RTOS/tasks.c **** 					there may now be another task of higher priority that
1533:Src/RTOS/tasks.c **** 					is ready to execute. */
1534:Src/RTOS/tasks.c **** 					xYieldRequired = pdTRUE;
1535:Src/RTOS/tasks.c **** 				}
1536:Src/RTOS/tasks.c **** 				else
1537:Src/RTOS/tasks.c **** 				{
1538:Src/RTOS/tasks.c **** 					/* Setting the priority of any other task down does not
1539:Src/RTOS/tasks.c **** 					require a yield as the running task must be above the
1540:Src/RTOS/tasks.c **** 					new priority of the task being modified. */
1541:Src/RTOS/tasks.c **** 				}
1542:Src/RTOS/tasks.c **** 
1543:Src/RTOS/tasks.c **** 				/* Remember the ready list the task might be referenced from
1544:Src/RTOS/tasks.c **** 				before its uxPriority member is changed so the
1545:Src/RTOS/tasks.c **** 				taskRESET_READY_PRIORITY() macro can function correctly. */
1546:Src/RTOS/tasks.c **** 				uxPriorityUsedOnEntry = pxTCB->uxPriority;
1547:Src/RTOS/tasks.c **** 
1548:Src/RTOS/tasks.c **** 				#if ( configUSE_MUTEXES == 1 )
1549:Src/RTOS/tasks.c **** 				{
1550:Src/RTOS/tasks.c **** 					/* Only change the priority being used if the task is not
1551:Src/RTOS/tasks.c **** 					currently using an inherited priority. */
1552:Src/RTOS/tasks.c **** 					if( pxTCB->uxBasePriority == pxTCB->uxPriority )
1553:Src/RTOS/tasks.c **** 					{
1554:Src/RTOS/tasks.c **** 						pxTCB->uxPriority = uxNewPriority;
1555:Src/RTOS/tasks.c **** 					}
1556:Src/RTOS/tasks.c **** 					else
1557:Src/RTOS/tasks.c **** 					{
1558:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
1559:Src/RTOS/tasks.c **** 					}
1560:Src/RTOS/tasks.c **** 
1561:Src/RTOS/tasks.c **** 					/* The base priority gets set whatever. */
1562:Src/RTOS/tasks.c **** 					pxTCB->uxBasePriority = uxNewPriority;
1563:Src/RTOS/tasks.c **** 				}
1564:Src/RTOS/tasks.c **** 				#else
1565:Src/RTOS/tasks.c **** 				{
1566:Src/RTOS/tasks.c **** 					pxTCB->uxPriority = uxNewPriority;
1567:Src/RTOS/tasks.c **** 				}
1568:Src/RTOS/tasks.c **** 				#endif
1569:Src/RTOS/tasks.c **** 
1570:Src/RTOS/tasks.c **** 				/* Only reset the event list item value if the value is not
1571:Src/RTOS/tasks.c **** 				being used for anything else. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 29


1572:Src/RTOS/tasks.c **** 				if( ( listGET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ) ) & taskEVENT_LIST_ITEM_VALUE_IN_USE 
1573:Src/RTOS/tasks.c **** 				{
1574:Src/RTOS/tasks.c **** 					listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( ( TickType_t ) configMAX_PRIORITIES - (
1575:Src/RTOS/tasks.c **** 				}
1576:Src/RTOS/tasks.c **** 				else
1577:Src/RTOS/tasks.c **** 				{
1578:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1579:Src/RTOS/tasks.c **** 				}
1580:Src/RTOS/tasks.c **** 
1581:Src/RTOS/tasks.c **** 				/* If the task is in the blocked or suspended list we need do
1582:Src/RTOS/tasks.c **** 				nothing more than change its priority variable. However, if
1583:Src/RTOS/tasks.c **** 				the task is in a ready list it needs to be removed and placed
1584:Src/RTOS/tasks.c **** 				in the list appropriate to its new priority. */
1585:Src/RTOS/tasks.c **** 				if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ uxPriorityUsedOnEntry ] ), &( pxTCB->xStateL
1586:Src/RTOS/tasks.c **** 				{
1587:Src/RTOS/tasks.c **** 					/* The task is currently in its ready list - remove before
1588:Src/RTOS/tasks.c **** 					adding it to it's new ready list.  As we are in a critical
1589:Src/RTOS/tasks.c **** 					section we can do this even if the scheduler is suspended. */
1590:Src/RTOS/tasks.c **** 					if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
1591:Src/RTOS/tasks.c **** 					{
1592:Src/RTOS/tasks.c **** 						/* It is known that the task is in its ready list so
1593:Src/RTOS/tasks.c **** 						there is no need to check again and the port level
1594:Src/RTOS/tasks.c **** 						reset macro can be called directly. */
1595:Src/RTOS/tasks.c **** 						portRESET_READY_PRIORITY( uxPriorityUsedOnEntry, uxTopReadyPriority );
1596:Src/RTOS/tasks.c **** 					}
1597:Src/RTOS/tasks.c **** 					else
1598:Src/RTOS/tasks.c **** 					{
1599:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
1600:Src/RTOS/tasks.c **** 					}
1601:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
1602:Src/RTOS/tasks.c **** 				}
1603:Src/RTOS/tasks.c **** 				else
1604:Src/RTOS/tasks.c **** 				{
1605:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1606:Src/RTOS/tasks.c **** 				}
1607:Src/RTOS/tasks.c **** 
1608:Src/RTOS/tasks.c **** 				if( xYieldRequired != pdFALSE )
1609:Src/RTOS/tasks.c **** 				{
1610:Src/RTOS/tasks.c **** 					taskYIELD_IF_USING_PREEMPTION();
1611:Src/RTOS/tasks.c **** 				}
1612:Src/RTOS/tasks.c **** 				else
1613:Src/RTOS/tasks.c **** 				{
1614:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1615:Src/RTOS/tasks.c **** 				}
1616:Src/RTOS/tasks.c **** 
1617:Src/RTOS/tasks.c **** 				/* Remove compiler warning about unused variables when the port
1618:Src/RTOS/tasks.c **** 				optimised task selection is not being used. */
1619:Src/RTOS/tasks.c **** 				( void ) uxPriorityUsedOnEntry;
1620:Src/RTOS/tasks.c **** 			}
1621:Src/RTOS/tasks.c **** 		}
1622:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
1623:Src/RTOS/tasks.c **** 	}
1624:Src/RTOS/tasks.c **** 
1625:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskPrioritySet */
1626:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1627:Src/RTOS/tasks.c **** 
1628:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 30


1629:Src/RTOS/tasks.c **** 
1630:Src/RTOS/tasks.c **** 	void vTaskSuspend( TaskHandle_t xTaskToSuspend )
1631:Src/RTOS/tasks.c **** 	{
1632:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
1633:Src/RTOS/tasks.c **** 
1634:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
1635:Src/RTOS/tasks.c **** 		{
1636:Src/RTOS/tasks.c **** 			/* If null is passed in here then it is the running task that is
1637:Src/RTOS/tasks.c **** 			being suspended. */
1638:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTaskToSuspend );
1639:Src/RTOS/tasks.c **** 
1640:Src/RTOS/tasks.c **** 			traceTASK_SUSPEND( pxTCB );
1641:Src/RTOS/tasks.c **** 
1642:Src/RTOS/tasks.c **** 			/* Remove task from the ready/delayed list and place in the
1643:Src/RTOS/tasks.c **** 			suspended list. */
1644:Src/RTOS/tasks.c **** 			if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
1645:Src/RTOS/tasks.c **** 			{
1646:Src/RTOS/tasks.c **** 				taskRESET_READY_PRIORITY( pxTCB->uxPriority );
1647:Src/RTOS/tasks.c **** 			}
1648:Src/RTOS/tasks.c **** 			else
1649:Src/RTOS/tasks.c **** 			{
1650:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1651:Src/RTOS/tasks.c **** 			}
1652:Src/RTOS/tasks.c **** 
1653:Src/RTOS/tasks.c **** 			/* Is the task waiting on an event also? */
1654:Src/RTOS/tasks.c **** 			if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
1655:Src/RTOS/tasks.c **** 			{
1656:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xEventListItem ) );
1657:Src/RTOS/tasks.c **** 			}
1658:Src/RTOS/tasks.c **** 			else
1659:Src/RTOS/tasks.c **** 			{
1660:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1661:Src/RTOS/tasks.c **** 			}
1662:Src/RTOS/tasks.c **** 
1663:Src/RTOS/tasks.c **** 			vListInsertEnd( &xSuspendedTaskList, &( pxTCB->xStateListItem ) );
1664:Src/RTOS/tasks.c **** 
1665:Src/RTOS/tasks.c **** 			#if( configUSE_TASK_NOTIFICATIONS == 1 )
1666:Src/RTOS/tasks.c **** 			{
1667:Src/RTOS/tasks.c **** 				if( pxTCB->ucNotifyState == taskWAITING_NOTIFICATION )
1668:Src/RTOS/tasks.c **** 				{
1669:Src/RTOS/tasks.c **** 					/* The task was blocked to wait for a notification, but is
1670:Src/RTOS/tasks.c **** 					now suspended, so no notification was received. */
1671:Src/RTOS/tasks.c **** 					pxTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
1672:Src/RTOS/tasks.c **** 				}
1673:Src/RTOS/tasks.c **** 			}
1674:Src/RTOS/tasks.c **** 			#endif
1675:Src/RTOS/tasks.c **** 		}
1676:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
1677:Src/RTOS/tasks.c **** 
1678:Src/RTOS/tasks.c **** 		if( xSchedulerRunning != pdFALSE )
1679:Src/RTOS/tasks.c **** 		{
1680:Src/RTOS/tasks.c **** 			/* Reset the next expected unblock time in case it referred to the
1681:Src/RTOS/tasks.c **** 			task that is now in the Suspended state. */
1682:Src/RTOS/tasks.c **** 			taskENTER_CRITICAL();
1683:Src/RTOS/tasks.c **** 			{
1684:Src/RTOS/tasks.c **** 				prvResetNextTaskUnblockTime();
1685:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 31


1686:Src/RTOS/tasks.c **** 			taskEXIT_CRITICAL();
1687:Src/RTOS/tasks.c **** 		}
1688:Src/RTOS/tasks.c **** 		else
1689:Src/RTOS/tasks.c **** 		{
1690:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1691:Src/RTOS/tasks.c **** 		}
1692:Src/RTOS/tasks.c **** 
1693:Src/RTOS/tasks.c **** 		if( pxTCB == pxCurrentTCB )
1694:Src/RTOS/tasks.c **** 		{
1695:Src/RTOS/tasks.c **** 			if( xSchedulerRunning != pdFALSE )
1696:Src/RTOS/tasks.c **** 			{
1697:Src/RTOS/tasks.c **** 				/* The current task has just been suspended. */
1698:Src/RTOS/tasks.c **** 				configASSERT( uxSchedulerSuspended == 0 );
1699:Src/RTOS/tasks.c **** 				portYIELD_WITHIN_API();
1700:Src/RTOS/tasks.c **** 			}
1701:Src/RTOS/tasks.c **** 			else
1702:Src/RTOS/tasks.c **** 			{
1703:Src/RTOS/tasks.c **** 				/* The scheduler is not running, but the task that was pointed
1704:Src/RTOS/tasks.c **** 				to by pxCurrentTCB has just been suspended and pxCurrentTCB
1705:Src/RTOS/tasks.c **** 				must be adjusted to point to a different task. */
1706:Src/RTOS/tasks.c **** 				if( listCURRENT_LIST_LENGTH( &xSuspendedTaskList ) == uxCurrentNumberOfTasks )
1707:Src/RTOS/tasks.c **** 				{
1708:Src/RTOS/tasks.c **** 					/* No other tasks are ready, so set pxCurrentTCB back to
1709:Src/RTOS/tasks.c **** 					NULL so when the next task is created pxCurrentTCB will
1710:Src/RTOS/tasks.c **** 					be set to point to it no matter what its relative priority
1711:Src/RTOS/tasks.c **** 					is. */
1712:Src/RTOS/tasks.c **** 					pxCurrentTCB = NULL;
1713:Src/RTOS/tasks.c **** 				}
1714:Src/RTOS/tasks.c **** 				else
1715:Src/RTOS/tasks.c **** 				{
1716:Src/RTOS/tasks.c **** 					vTaskSwitchContext();
1717:Src/RTOS/tasks.c **** 				}
1718:Src/RTOS/tasks.c **** 			}
1719:Src/RTOS/tasks.c **** 		}
1720:Src/RTOS/tasks.c **** 		else
1721:Src/RTOS/tasks.c **** 		{
1722:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1723:Src/RTOS/tasks.c **** 		}
1724:Src/RTOS/tasks.c **** 	}
1725:Src/RTOS/tasks.c **** 
1726:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
1727:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1728:Src/RTOS/tasks.c **** 
1729:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
1730:Src/RTOS/tasks.c **** 
1731:Src/RTOS/tasks.c **** 	static BaseType_t prvTaskIsTaskSuspended( const TaskHandle_t xTask )
1732:Src/RTOS/tasks.c **** 	{
  27              		.loc 1 1732 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  32              	.LVL0:
1733:Src/RTOS/tasks.c **** 	BaseType_t xReturn = pdFALSE;
1734:Src/RTOS/tasks.c **** 	const TCB_t * const pxTCB = ( TCB_t * ) xTask;
1735:Src/RTOS/tasks.c **** 
1736:Src/RTOS/tasks.c **** 		/* Accesses xPendingReadyList so must be called from a critical
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 32


1737:Src/RTOS/tasks.c **** 		section. */
1738:Src/RTOS/tasks.c **** 
1739:Src/RTOS/tasks.c **** 		/* It does not make sense to check if the calling task is suspended. */
1740:Src/RTOS/tasks.c **** 		configASSERT( xTask );
  33              		.loc 1 1740 0
  34 0000 50B1     		cbz	r0, .L8
1741:Src/RTOS/tasks.c **** 
1742:Src/RTOS/tasks.c **** 		/* Is the task being resumed actually in the suspended list? */
1743:Src/RTOS/tasks.c **** 		if( listIS_CONTAINED_WITHIN( &xSuspendedTaskList, &( pxTCB->xStateListItem ) ) != pdFALSE )
  35              		.loc 1 1743 0
  36 0002 4169     		ldr	r1, [r0, #20]
  37 0004 0C4A     		ldr	r2, .L9
  38 0006 9142     		cmp	r1, r2
  39 0008 0FD1     		bne	.L5
1744:Src/RTOS/tasks.c **** 		{
1745:Src/RTOS/tasks.c **** 			/* Has the task already been resumed from within an ISR? */
1746:Src/RTOS/tasks.c **** 			if( listIS_CONTAINED_WITHIN( &xPendingReadyList, &( pxTCB->xEventListItem ) ) == pdFALSE )
  40              		.loc 1 1746 0
  41 000a 836A     		ldr	r3, [r0, #40]
  42 000c 0B4A     		ldr	r2, .L9+4
  43 000e 9342     		cmp	r3, r2
  44 0010 0DD0     		beq	.L6
1747:Src/RTOS/tasks.c **** 			{
1748:Src/RTOS/tasks.c **** 				/* Is it in the suspended list because it is in the	Suspended
1749:Src/RTOS/tasks.c **** 				state, or because is is blocked with no timeout? */
1750:Src/RTOS/tasks.c **** 				if( listIS_CONTAINED_WITHIN( NULL, &( pxTCB->xEventListItem ) ) != pdFALSE ) /*lint !e961.  The
  45              		.loc 1 1750 0
  46 0012 73B1     		cbz	r3, .L7
1733:Src/RTOS/tasks.c **** 	const TCB_t * const pxTCB = ( TCB_t * ) xTask;
  47              		.loc 1 1733 0
  48 0014 0020     		movs	r0, #0
  49              	.LVL1:
  50 0016 7047     		bx	lr
  51              	.LVL2:
  52              	.L8:
  53              	.LBB105:
  54              	.LBB106:
  55              		.file 2 "Src/RTOS/Inc/portmacro.h"
   1:Src/RTOS/Inc/portmacro.h **** /*
   2:Src/RTOS/Inc/portmacro.h ****  * FreeRTOS Kernel V10.0.1
   3:Src/RTOS/Inc/portmacro.h ****  * Copyright (C) 2017 Amazon.com, Inc. or its affiliates.  All Rights Reserved.
   4:Src/RTOS/Inc/portmacro.h ****  *
   5:Src/RTOS/Inc/portmacro.h ****  * Permission is hereby granted, free of charge, to any person obtaining a copy of
   6:Src/RTOS/Inc/portmacro.h ****  * this software and associated documentation files (the "Software"), to deal in
   7:Src/RTOS/Inc/portmacro.h ****  * the Software without restriction, including without limitation the rights to
   8:Src/RTOS/Inc/portmacro.h ****  * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
   9:Src/RTOS/Inc/portmacro.h ****  * the Software, and to permit persons to whom the Software is furnished to do so,
  10:Src/RTOS/Inc/portmacro.h ****  * subject to the following conditions:
  11:Src/RTOS/Inc/portmacro.h ****  *
  12:Src/RTOS/Inc/portmacro.h ****  * The above copyright notice and this permission notice shall be included in all
  13:Src/RTOS/Inc/portmacro.h ****  * copies or substantial portions of the Software.
  14:Src/RTOS/Inc/portmacro.h ****  *
  15:Src/RTOS/Inc/portmacro.h ****  * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  16:Src/RTOS/Inc/portmacro.h ****  * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
  17:Src/RTOS/Inc/portmacro.h ****  * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
  18:Src/RTOS/Inc/portmacro.h ****  * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
  19:Src/RTOS/Inc/portmacro.h ****  * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 33


  20:Src/RTOS/Inc/portmacro.h ****  * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
  21:Src/RTOS/Inc/portmacro.h ****  *
  22:Src/RTOS/Inc/portmacro.h ****  * http://www.FreeRTOS.org
  23:Src/RTOS/Inc/portmacro.h ****  * http://aws.amazon.com/freertos
  24:Src/RTOS/Inc/portmacro.h ****  *
  25:Src/RTOS/Inc/portmacro.h ****  * 1 tab == 4 spaces!
  26:Src/RTOS/Inc/portmacro.h ****  */
  27:Src/RTOS/Inc/portmacro.h **** 
  28:Src/RTOS/Inc/portmacro.h **** 
  29:Src/RTOS/Inc/portmacro.h **** #ifndef PORTMACRO_H
  30:Src/RTOS/Inc/portmacro.h **** #define PORTMACRO_H
  31:Src/RTOS/Inc/portmacro.h **** 
  32:Src/RTOS/Inc/portmacro.h **** #ifdef __cplusplus
  33:Src/RTOS/Inc/portmacro.h **** extern "C" {
  34:Src/RTOS/Inc/portmacro.h **** #endif
  35:Src/RTOS/Inc/portmacro.h **** 
  36:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------
  37:Src/RTOS/Inc/portmacro.h ****  * Port specific definitions.
  38:Src/RTOS/Inc/portmacro.h ****  *
  39:Src/RTOS/Inc/portmacro.h ****  * The settings in this file configure FreeRTOS correctly for the
  40:Src/RTOS/Inc/portmacro.h ****  * given hardware and compiler.
  41:Src/RTOS/Inc/portmacro.h ****  *
  42:Src/RTOS/Inc/portmacro.h ****  * These settings should not be altered.
  43:Src/RTOS/Inc/portmacro.h ****  *-----------------------------------------------------------
  44:Src/RTOS/Inc/portmacro.h ****  */
  45:Src/RTOS/Inc/portmacro.h **** 
  46:Src/RTOS/Inc/portmacro.h **** /* Type definitions. */
  47:Src/RTOS/Inc/portmacro.h **** #define portCHAR		char
  48:Src/RTOS/Inc/portmacro.h **** #define portFLOAT		float
  49:Src/RTOS/Inc/portmacro.h **** #define portDOUBLE		double
  50:Src/RTOS/Inc/portmacro.h **** #define portLONG		long
  51:Src/RTOS/Inc/portmacro.h **** #define portSHORT		short
  52:Src/RTOS/Inc/portmacro.h **** #define portSTACK_TYPE	uint32_t
  53:Src/RTOS/Inc/portmacro.h **** #define portBASE_TYPE	long
  54:Src/RTOS/Inc/portmacro.h **** 
  55:Src/RTOS/Inc/portmacro.h **** typedef portSTACK_TYPE StackType_t;
  56:Src/RTOS/Inc/portmacro.h **** typedef long BaseType_t;
  57:Src/RTOS/Inc/portmacro.h **** typedef unsigned long UBaseType_t;
  58:Src/RTOS/Inc/portmacro.h **** 
  59:Src/RTOS/Inc/portmacro.h **** #if( configUSE_16_BIT_TICKS == 1 )
  60:Src/RTOS/Inc/portmacro.h **** 	typedef uint16_t TickType_t;
  61:Src/RTOS/Inc/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffff
  62:Src/RTOS/Inc/portmacro.h **** #else
  63:Src/RTOS/Inc/portmacro.h **** 	typedef uint32_t TickType_t;
  64:Src/RTOS/Inc/portmacro.h **** 	#define portMAX_DELAY ( TickType_t ) 0xffffffffUL
  65:Src/RTOS/Inc/portmacro.h **** 
  66:Src/RTOS/Inc/portmacro.h **** 	/* 32-bit tick type on a 32-bit architecture, so reads of the tick count do
  67:Src/RTOS/Inc/portmacro.h **** 	not need to be guarded with a critical section. */
  68:Src/RTOS/Inc/portmacro.h **** 	#define portTICK_TYPE_IS_ATOMIC 1
  69:Src/RTOS/Inc/portmacro.h **** #endif
  70:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
  71:Src/RTOS/Inc/portmacro.h **** 
  72:Src/RTOS/Inc/portmacro.h **** /* Architecture specifics. */
  73:Src/RTOS/Inc/portmacro.h **** #define portSTACK_GROWTH			( -1 )
  74:Src/RTOS/Inc/portmacro.h **** #define portTICK_PERIOD_MS			( ( TickType_t ) 1000 / configTICK_RATE_HZ )
  75:Src/RTOS/Inc/portmacro.h **** #define portBYTE_ALIGNMENT			8
  76:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 34


  77:Src/RTOS/Inc/portmacro.h **** 
  78:Src/RTOS/Inc/portmacro.h **** /* Scheduler utilities. */
  79:Src/RTOS/Inc/portmacro.h **** #define portYIELD() 															\
  80:Src/RTOS/Inc/portmacro.h **** {																				\
  81:Src/RTOS/Inc/portmacro.h **** 	/* Set a PendSV to request a context switch. */								\
  82:Src/RTOS/Inc/portmacro.h **** 	portNVIC_INT_CTRL_REG = portNVIC_PENDSVSET_BIT;								\
  83:Src/RTOS/Inc/portmacro.h **** 																				\
  84:Src/RTOS/Inc/portmacro.h **** 	/* Barriers are normally not required but do ensure the code is completely	\
  85:Src/RTOS/Inc/portmacro.h **** 	within the specified behaviour for the architecture. */						\
  86:Src/RTOS/Inc/portmacro.h **** 	__asm volatile( "dsb" ::: "memory" );										\
  87:Src/RTOS/Inc/portmacro.h **** 	__asm volatile( "isb" );													\
  88:Src/RTOS/Inc/portmacro.h **** }
  89:Src/RTOS/Inc/portmacro.h **** 
  90:Src/RTOS/Inc/portmacro.h **** #define portNVIC_INT_CTRL_REG		( * ( ( volatile uint32_t * ) 0xe000ed04 ) )
  91:Src/RTOS/Inc/portmacro.h **** #define portNVIC_PENDSVSET_BIT		( 1UL << 28UL )
  92:Src/RTOS/Inc/portmacro.h **** #define portEND_SWITCHING_ISR( xSwitchRequired ) if( xSwitchRequired != pdFALSE ) portYIELD()
  93:Src/RTOS/Inc/portmacro.h **** #define portYIELD_FROM_ISR( x ) portEND_SWITCHING_ISR( x )
  94:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
  95:Src/RTOS/Inc/portmacro.h **** 
  96:Src/RTOS/Inc/portmacro.h **** /* Critical section management. */
  97:Src/RTOS/Inc/portmacro.h **** extern void vPortEnterCritical( void );
  98:Src/RTOS/Inc/portmacro.h **** extern void vPortExitCritical( void );
  99:Src/RTOS/Inc/portmacro.h **** #define portSET_INTERRUPT_MASK_FROM_ISR()		ulPortRaiseBASEPRI()
 100:Src/RTOS/Inc/portmacro.h **** #define portCLEAR_INTERRUPT_MASK_FROM_ISR(x)	vPortSetBASEPRI(x)
 101:Src/RTOS/Inc/portmacro.h **** #define portDISABLE_INTERRUPTS()				vPortRaiseBASEPRI()
 102:Src/RTOS/Inc/portmacro.h **** #define portENABLE_INTERRUPTS()					vPortSetBASEPRI(0)
 103:Src/RTOS/Inc/portmacro.h **** #define portENTER_CRITICAL()					vPortEnterCritical()
 104:Src/RTOS/Inc/portmacro.h **** #define portEXIT_CRITICAL()						vPortExitCritical()
 105:Src/RTOS/Inc/portmacro.h **** 
 106:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 107:Src/RTOS/Inc/portmacro.h **** 
 108:Src/RTOS/Inc/portmacro.h **** /* Task function macros as described on the FreeRTOS.org WEB site.  These are
 109:Src/RTOS/Inc/portmacro.h **** not necessary for to use this port.  They are defined so the common demo files
 110:Src/RTOS/Inc/portmacro.h **** (which build with all the ports) will build. */
 111:Src/RTOS/Inc/portmacro.h **** #define portTASK_FUNCTION_PROTO( vFunction, pvParameters ) void vFunction( void *pvParameters )
 112:Src/RTOS/Inc/portmacro.h **** #define portTASK_FUNCTION( vFunction, pvParameters ) void vFunction( void *pvParameters )
 113:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 114:Src/RTOS/Inc/portmacro.h **** 
 115:Src/RTOS/Inc/portmacro.h **** /* Tickless idle/low power functionality. */
 116:Src/RTOS/Inc/portmacro.h **** #ifndef portSUPPRESS_TICKS_AND_SLEEP
 117:Src/RTOS/Inc/portmacro.h **** 	extern void vPortSuppressTicksAndSleep( TickType_t xExpectedIdleTime );
 118:Src/RTOS/Inc/portmacro.h **** 	#define portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime ) vPortSuppressTicksAndSleep( xExpectedIdl
 119:Src/RTOS/Inc/portmacro.h **** #endif
 120:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 121:Src/RTOS/Inc/portmacro.h **** 
 122:Src/RTOS/Inc/portmacro.h **** /* Architecture specific optimisations. */
 123:Src/RTOS/Inc/portmacro.h **** #ifndef configUSE_PORT_OPTIMISED_TASK_SELECTION
 124:Src/RTOS/Inc/portmacro.h **** 	#define configUSE_PORT_OPTIMISED_TASK_SELECTION 1
 125:Src/RTOS/Inc/portmacro.h **** #endif
 126:Src/RTOS/Inc/portmacro.h **** 
 127:Src/RTOS/Inc/portmacro.h **** #if configUSE_PORT_OPTIMISED_TASK_SELECTION == 1
 128:Src/RTOS/Inc/portmacro.h **** 
 129:Src/RTOS/Inc/portmacro.h **** 	/* Generic helper function. */
 130:Src/RTOS/Inc/portmacro.h **** 	__attribute__( ( always_inline ) ) static inline uint8_t ucPortCountLeadingZeros( uint32_t ulBitma
 131:Src/RTOS/Inc/portmacro.h **** 	{
 132:Src/RTOS/Inc/portmacro.h **** 	uint8_t ucReturn;
 133:Src/RTOS/Inc/portmacro.h **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 35


 134:Src/RTOS/Inc/portmacro.h **** 		__asm volatile ( "clz %0, %1" : "=r" ( ucReturn ) : "r" ( ulBitmap ) : "memory" );
 135:Src/RTOS/Inc/portmacro.h **** 		return ucReturn;
 136:Src/RTOS/Inc/portmacro.h **** 	}
 137:Src/RTOS/Inc/portmacro.h **** 
 138:Src/RTOS/Inc/portmacro.h **** 	/* Check the configuration. */
 139:Src/RTOS/Inc/portmacro.h **** 	#if( configMAX_PRIORITIES > 32 )
 140:Src/RTOS/Inc/portmacro.h **** 		#error configUSE_PORT_OPTIMISED_TASK_SELECTION can only be set to 1 when configMAX_PRIORITIES is 
 141:Src/RTOS/Inc/portmacro.h **** 	#endif
 142:Src/RTOS/Inc/portmacro.h **** 
 143:Src/RTOS/Inc/portmacro.h **** 	/* Store/clear the ready priorities in a bit map. */
 144:Src/RTOS/Inc/portmacro.h **** 	#define portRECORD_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) |= ( 1UL 
 145:Src/RTOS/Inc/portmacro.h **** 	#define portRESET_READY_PRIORITY( uxPriority, uxReadyPriorities ) ( uxReadyPriorities ) &= ~( 1UL 
 146:Src/RTOS/Inc/portmacro.h **** 
 147:Src/RTOS/Inc/portmacro.h **** 	/*-----------------------------------------------------------*/
 148:Src/RTOS/Inc/portmacro.h **** 
 149:Src/RTOS/Inc/portmacro.h **** 	#define portGET_HIGHEST_PRIORITY( uxTopPriority, uxReadyPriorities ) uxTopPriority = ( 31UL - ( ui
 150:Src/RTOS/Inc/portmacro.h **** 
 151:Src/RTOS/Inc/portmacro.h **** #endif /* configUSE_PORT_OPTIMISED_TASK_SELECTION */
 152:Src/RTOS/Inc/portmacro.h **** 
 153:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 154:Src/RTOS/Inc/portmacro.h **** 
 155:Src/RTOS/Inc/portmacro.h **** #ifdef configASSERT
 156:Src/RTOS/Inc/portmacro.h **** 	void vPortValidateInterruptPriority( void );
 157:Src/RTOS/Inc/portmacro.h **** 	#define portASSERT_IF_INTERRUPT_PRIORITY_INVALID() 	vPortValidateInterruptPriority()
 158:Src/RTOS/Inc/portmacro.h **** #endif
 159:Src/RTOS/Inc/portmacro.h **** 
 160:Src/RTOS/Inc/portmacro.h **** /* portNOP() is not required by this port. */
 161:Src/RTOS/Inc/portmacro.h **** #define portNOP()
 162:Src/RTOS/Inc/portmacro.h **** 
 163:Src/RTOS/Inc/portmacro.h **** #define portINLINE	__inline
 164:Src/RTOS/Inc/portmacro.h **** 
 165:Src/RTOS/Inc/portmacro.h **** #ifndef portFORCE_INLINE
 166:Src/RTOS/Inc/portmacro.h **** 	#define portFORCE_INLINE inline __attribute__(( always_inline))
 167:Src/RTOS/Inc/portmacro.h **** #endif
 168:Src/RTOS/Inc/portmacro.h **** 
 169:Src/RTOS/Inc/portmacro.h **** portFORCE_INLINE static BaseType_t xPortIsInsideInterrupt( void )
 170:Src/RTOS/Inc/portmacro.h **** {
 171:Src/RTOS/Inc/portmacro.h **** uint32_t ulCurrentInterrupt;
 172:Src/RTOS/Inc/portmacro.h **** BaseType_t xReturn;
 173:Src/RTOS/Inc/portmacro.h **** 
 174:Src/RTOS/Inc/portmacro.h **** 	/* Obtain the number of the currently executing interrupt. */
 175:Src/RTOS/Inc/portmacro.h **** 	__asm volatile( "mrs %0, ipsr" : "=r"( ulCurrentInterrupt ) :: "memory" );
 176:Src/RTOS/Inc/portmacro.h **** 
 177:Src/RTOS/Inc/portmacro.h **** 	if( ulCurrentInterrupt == 0 )
 178:Src/RTOS/Inc/portmacro.h **** 	{
 179:Src/RTOS/Inc/portmacro.h **** 		xReturn = pdFALSE;
 180:Src/RTOS/Inc/portmacro.h **** 	}
 181:Src/RTOS/Inc/portmacro.h **** 	else
 182:Src/RTOS/Inc/portmacro.h **** 	{
 183:Src/RTOS/Inc/portmacro.h **** 		xReturn = pdTRUE;
 184:Src/RTOS/Inc/portmacro.h **** 	}
 185:Src/RTOS/Inc/portmacro.h **** 
 186:Src/RTOS/Inc/portmacro.h **** 	return xReturn;
 187:Src/RTOS/Inc/portmacro.h **** }
 188:Src/RTOS/Inc/portmacro.h **** 
 189:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 190:Src/RTOS/Inc/portmacro.h **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 36


 191:Src/RTOS/Inc/portmacro.h **** portFORCE_INLINE static void vPortRaiseBASEPRI( void )
 192:Src/RTOS/Inc/portmacro.h **** {
 193:Src/RTOS/Inc/portmacro.h **** uint32_t ulNewBASEPRI;
 194:Src/RTOS/Inc/portmacro.h **** 
 195:Src/RTOS/Inc/portmacro.h **** 	__asm volatile
  56              		.loc 2 195 0
  57              		.syntax unified
  58              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
  59 0018 4FF05003 			mov r3, #80												
  60 001c 83F31188 		msr basepri, r3											
  61 0020 BFF36F8F 		isb														
  62 0024 BFF34F8F 		dsb														
  63              	
  64              	@ 0 "" 2
  65              	.LVL3:
  66              		.thumb
  67              		.syntax unified
  68              	.L3:
  69 0028 FEE7     		b	.L3
  70              	.L5:
  71              	.LBE106:
  72              	.LBE105:
1733:Src/RTOS/tasks.c **** 	const TCB_t * const pxTCB = ( TCB_t * ) xTask;
  73              		.loc 1 1733 0
  74 002a 0020     		movs	r0, #0
  75              	.LVL4:
  76 002c 7047     		bx	lr
  77              	.LVL5:
  78              	.L6:
  79 002e 0020     		movs	r0, #0
  80              	.LVL6:
  81 0030 7047     		bx	lr
  82              	.LVL7:
  83              	.L7:
1751:Src/RTOS/tasks.c **** 				{
1752:Src/RTOS/tasks.c **** 					xReturn = pdTRUE;
  84              		.loc 1 1752 0
  85 0032 0120     		movs	r0, #1
  86              	.LVL8:
1753:Src/RTOS/tasks.c **** 				}
1754:Src/RTOS/tasks.c **** 				else
1755:Src/RTOS/tasks.c **** 				{
1756:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1757:Src/RTOS/tasks.c **** 				}
1758:Src/RTOS/tasks.c **** 			}
1759:Src/RTOS/tasks.c **** 			else
1760:Src/RTOS/tasks.c **** 			{
1761:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1762:Src/RTOS/tasks.c **** 			}
1763:Src/RTOS/tasks.c **** 		}
1764:Src/RTOS/tasks.c **** 		else
1765:Src/RTOS/tasks.c **** 		{
1766:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1767:Src/RTOS/tasks.c **** 		}
1768:Src/RTOS/tasks.c **** 
1769:Src/RTOS/tasks.c **** 		return xReturn;
1770:Src/RTOS/tasks.c **** 	} /*lint !e818 xTask cannot be a pointer to const because it is a typedef. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 37


  87              		.loc 1 1770 0
  88 0034 7047     		bx	lr
  89              	.L10:
  90 0036 00BF     		.align	2
  91              	.L9:
  92 0038 00000000 		.word	.LANCHOR0
  93 003c 00000000 		.word	.LANCHOR1
  94              		.cfi_endproc
  95              	.LFE16:
  97              		.section	.text.prvTaskCheckFreeStackSpace,"ax",%progbits
  98              		.align	1
  99              		.syntax unified
 100              		.thumb
 101              		.thumb_func
 102              		.fpu fpv4-sp-d16
 104              	prvTaskCheckFreeStackSpace:
 105              	.LFB46:
1771:Src/RTOS/tasks.c **** 
1772:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
1773:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1774:Src/RTOS/tasks.c **** 
1775:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskSuspend == 1 )
1776:Src/RTOS/tasks.c **** 
1777:Src/RTOS/tasks.c **** 	void vTaskResume( TaskHandle_t xTaskToResume )
1778:Src/RTOS/tasks.c **** 	{
1779:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) xTaskToResume;
1780:Src/RTOS/tasks.c **** 
1781:Src/RTOS/tasks.c **** 		/* It does not make sense to resume the calling task. */
1782:Src/RTOS/tasks.c **** 		configASSERT( xTaskToResume );
1783:Src/RTOS/tasks.c **** 
1784:Src/RTOS/tasks.c **** 		/* The parameter cannot be NULL as it is impossible to resume the
1785:Src/RTOS/tasks.c **** 		currently executing task. */
1786:Src/RTOS/tasks.c **** 		if( ( pxTCB != NULL ) && ( pxTCB != pxCurrentTCB ) )
1787:Src/RTOS/tasks.c **** 		{
1788:Src/RTOS/tasks.c **** 			taskENTER_CRITICAL();
1789:Src/RTOS/tasks.c **** 			{
1790:Src/RTOS/tasks.c **** 				if( prvTaskIsTaskSuspended( pxTCB ) != pdFALSE )
1791:Src/RTOS/tasks.c **** 				{
1792:Src/RTOS/tasks.c **** 					traceTASK_RESUME( pxTCB );
1793:Src/RTOS/tasks.c **** 
1794:Src/RTOS/tasks.c **** 					/* The ready list can be accessed even if the scheduler is
1795:Src/RTOS/tasks.c **** 					suspended because this is inside a critical section. */
1796:Src/RTOS/tasks.c **** 					( void ) uxListRemove(  &( pxTCB->xStateListItem ) );
1797:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
1798:Src/RTOS/tasks.c **** 
1799:Src/RTOS/tasks.c **** 					/* A higher priority task may have just been resumed. */
1800:Src/RTOS/tasks.c **** 					if( pxTCB->uxPriority >= pxCurrentTCB->uxPriority )
1801:Src/RTOS/tasks.c **** 					{
1802:Src/RTOS/tasks.c **** 						/* This yield may not cause the task just resumed to run,
1803:Src/RTOS/tasks.c **** 						but will leave the lists in the correct state for the
1804:Src/RTOS/tasks.c **** 						next yield. */
1805:Src/RTOS/tasks.c **** 						taskYIELD_IF_USING_PREEMPTION();
1806:Src/RTOS/tasks.c **** 					}
1807:Src/RTOS/tasks.c **** 					else
1808:Src/RTOS/tasks.c **** 					{
1809:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
1810:Src/RTOS/tasks.c **** 					}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 38


1811:Src/RTOS/tasks.c **** 				}
1812:Src/RTOS/tasks.c **** 				else
1813:Src/RTOS/tasks.c **** 				{
1814:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
1815:Src/RTOS/tasks.c **** 				}
1816:Src/RTOS/tasks.c **** 			}
1817:Src/RTOS/tasks.c **** 			taskEXIT_CRITICAL();
1818:Src/RTOS/tasks.c **** 		}
1819:Src/RTOS/tasks.c **** 		else
1820:Src/RTOS/tasks.c **** 		{
1821:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1822:Src/RTOS/tasks.c **** 		}
1823:Src/RTOS/tasks.c **** 	}
1824:Src/RTOS/tasks.c **** 
1825:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskSuspend */
1826:Src/RTOS/tasks.c **** 
1827:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1828:Src/RTOS/tasks.c **** 
1829:Src/RTOS/tasks.c **** #if ( ( INCLUDE_xTaskResumeFromISR == 1 ) && ( INCLUDE_vTaskSuspend == 1 ) )
1830:Src/RTOS/tasks.c **** 
1831:Src/RTOS/tasks.c **** 	BaseType_t xTaskResumeFromISR( TaskHandle_t xTaskToResume )
1832:Src/RTOS/tasks.c **** 	{
1833:Src/RTOS/tasks.c **** 	BaseType_t xYieldRequired = pdFALSE;
1834:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) xTaskToResume;
1835:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
1836:Src/RTOS/tasks.c **** 
1837:Src/RTOS/tasks.c **** 		configASSERT( xTaskToResume );
1838:Src/RTOS/tasks.c **** 
1839:Src/RTOS/tasks.c **** 		/* RTOS ports that support interrupt nesting have the concept of a
1840:Src/RTOS/tasks.c **** 		maximum	system call (or maximum API call) interrupt priority.
1841:Src/RTOS/tasks.c **** 		Interrupts that are	above the maximum system call priority are keep
1842:Src/RTOS/tasks.c **** 		permanently enabled, even when the RTOS kernel is in a critical section,
1843:Src/RTOS/tasks.c **** 		but cannot make any calls to FreeRTOS API functions.  If configASSERT()
1844:Src/RTOS/tasks.c **** 		is defined in FreeRTOSConfig.h then
1845:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
1846:Src/RTOS/tasks.c **** 		failure if a FreeRTOS API function is called from an interrupt that has
1847:Src/RTOS/tasks.c **** 		been assigned a priority above the configured maximum system call
1848:Src/RTOS/tasks.c **** 		priority.  Only FreeRTOS functions that end in FromISR can be called
1849:Src/RTOS/tasks.c **** 		from interrupts	that have been assigned a priority at or (logically)
1850:Src/RTOS/tasks.c **** 		below the maximum system call interrupt priority.  FreeRTOS maintains a
1851:Src/RTOS/tasks.c **** 		separate interrupt safe API to ensure interrupt entry is as fast and as
1852:Src/RTOS/tasks.c **** 		simple as possible.  More information (albeit Cortex-M specific) is
1853:Src/RTOS/tasks.c **** 		provided on the following link:
1854:Src/RTOS/tasks.c **** 		http://www.freertos.org/RTOS-Cortex-M3-M4.html */
1855:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
1856:Src/RTOS/tasks.c **** 
1857:Src/RTOS/tasks.c **** 		uxSavedInterruptStatus = portSET_INTERRUPT_MASK_FROM_ISR();
1858:Src/RTOS/tasks.c **** 		{
1859:Src/RTOS/tasks.c **** 			if( prvTaskIsTaskSuspended( pxTCB ) != pdFALSE )
1860:Src/RTOS/tasks.c **** 			{
1861:Src/RTOS/tasks.c **** 				traceTASK_RESUME_FROM_ISR( pxTCB );
1862:Src/RTOS/tasks.c **** 
1863:Src/RTOS/tasks.c **** 				/* Check the ready lists can be accessed. */
1864:Src/RTOS/tasks.c **** 				if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
1865:Src/RTOS/tasks.c **** 				{
1866:Src/RTOS/tasks.c **** 					/* Ready lists can be accessed so move the task from the
1867:Src/RTOS/tasks.c **** 					suspended list to the ready list directly. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 39


1868:Src/RTOS/tasks.c **** 					if( pxTCB->uxPriority >= pxCurrentTCB->uxPriority )
1869:Src/RTOS/tasks.c **** 					{
1870:Src/RTOS/tasks.c **** 						xYieldRequired = pdTRUE;
1871:Src/RTOS/tasks.c **** 					}
1872:Src/RTOS/tasks.c **** 					else
1873:Src/RTOS/tasks.c **** 					{
1874:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
1875:Src/RTOS/tasks.c **** 					}
1876:Src/RTOS/tasks.c **** 
1877:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
1878:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
1879:Src/RTOS/tasks.c **** 				}
1880:Src/RTOS/tasks.c **** 				else
1881:Src/RTOS/tasks.c **** 				{
1882:Src/RTOS/tasks.c **** 					/* The delayed or ready lists cannot be accessed so the task
1883:Src/RTOS/tasks.c **** 					is held in the pending ready list until the scheduler is
1884:Src/RTOS/tasks.c **** 					unsuspended. */
1885:Src/RTOS/tasks.c **** 					vListInsertEnd( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
1886:Src/RTOS/tasks.c **** 				}
1887:Src/RTOS/tasks.c **** 			}
1888:Src/RTOS/tasks.c **** 			else
1889:Src/RTOS/tasks.c **** 			{
1890:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
1891:Src/RTOS/tasks.c **** 			}
1892:Src/RTOS/tasks.c **** 		}
1893:Src/RTOS/tasks.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
1894:Src/RTOS/tasks.c **** 
1895:Src/RTOS/tasks.c **** 		return xYieldRequired;
1896:Src/RTOS/tasks.c **** 	}
1897:Src/RTOS/tasks.c **** 
1898:Src/RTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskResumeFromISR == 1 ) && ( INCLUDE_vTaskSuspend == 1 ) ) */
1899:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
1900:Src/RTOS/tasks.c **** 
1901:Src/RTOS/tasks.c **** void vTaskStartScheduler( void )
1902:Src/RTOS/tasks.c **** {
1903:Src/RTOS/tasks.c **** BaseType_t xReturn;
1904:Src/RTOS/tasks.c **** 
1905:Src/RTOS/tasks.c **** 	/* Add the idle task at the lowest priority. */
1906:Src/RTOS/tasks.c **** 	#if( configSUPPORT_STATIC_ALLOCATION == 1 )
1907:Src/RTOS/tasks.c **** 	{
1908:Src/RTOS/tasks.c **** 		StaticTask_t *pxIdleTaskTCBBuffer = NULL;
1909:Src/RTOS/tasks.c **** 		StackType_t *pxIdleTaskStackBuffer = NULL;
1910:Src/RTOS/tasks.c **** 		uint32_t ulIdleTaskStackSize;
1911:Src/RTOS/tasks.c **** 
1912:Src/RTOS/tasks.c **** 		/* The Idle task is created using user provided RAM - obtain the
1913:Src/RTOS/tasks.c **** 		address of the RAM then create the idle task. */
1914:Src/RTOS/tasks.c **** 		vApplicationGetIdleTaskMemory( &pxIdleTaskTCBBuffer, &pxIdleTaskStackBuffer, &ulIdleTaskStackSize
1915:Src/RTOS/tasks.c **** 		xIdleTaskHandle = xTaskCreateStatic(	prvIdleTask,
1916:Src/RTOS/tasks.c **** 												configIDLE_TASK_NAME,
1917:Src/RTOS/tasks.c **** 												ulIdleTaskStackSize,
1918:Src/RTOS/tasks.c **** 												( void * ) NULL, /*lint !e961.  The cast is not redundant for all compilers. */
1919:Src/RTOS/tasks.c **** 												( tskIDLE_PRIORITY | portPRIVILEGE_BIT ),
1920:Src/RTOS/tasks.c **** 												pxIdleTaskStackBuffer,
1921:Src/RTOS/tasks.c **** 												pxIdleTaskTCBBuffer ); /*lint !e961 MISRA exception, justified as it is not a redundant
1922:Src/RTOS/tasks.c **** 
1923:Src/RTOS/tasks.c **** 		if( xIdleTaskHandle != NULL )
1924:Src/RTOS/tasks.c **** 		{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 40


1925:Src/RTOS/tasks.c **** 			xReturn = pdPASS;
1926:Src/RTOS/tasks.c **** 		}
1927:Src/RTOS/tasks.c **** 		else
1928:Src/RTOS/tasks.c **** 		{
1929:Src/RTOS/tasks.c **** 			xReturn = pdFAIL;
1930:Src/RTOS/tasks.c **** 		}
1931:Src/RTOS/tasks.c **** 	}
1932:Src/RTOS/tasks.c **** 	#else
1933:Src/RTOS/tasks.c **** 	{
1934:Src/RTOS/tasks.c **** 		/* The Idle task is being created using dynamically allocated RAM. */
1935:Src/RTOS/tasks.c **** 		xReturn = xTaskCreate(	prvIdleTask,
1936:Src/RTOS/tasks.c **** 								configIDLE_TASK_NAME,
1937:Src/RTOS/tasks.c **** 								configMINIMAL_STACK_SIZE,
1938:Src/RTOS/tasks.c **** 								( void * ) NULL,
1939:Src/RTOS/tasks.c **** 								( tskIDLE_PRIORITY | portPRIVILEGE_BIT ),
1940:Src/RTOS/tasks.c **** 								&xIdleTaskHandle ); /*lint !e961 MISRA exception, justified as it is not a redundant explic
1941:Src/RTOS/tasks.c **** 	}
1942:Src/RTOS/tasks.c **** 	#endif /* configSUPPORT_STATIC_ALLOCATION */
1943:Src/RTOS/tasks.c **** 
1944:Src/RTOS/tasks.c **** 	#if ( configUSE_TIMERS == 1 )
1945:Src/RTOS/tasks.c **** 	{
1946:Src/RTOS/tasks.c **** 		if( xReturn == pdPASS )
1947:Src/RTOS/tasks.c **** 		{
1948:Src/RTOS/tasks.c **** 			xReturn = xTimerCreateTimerTask();
1949:Src/RTOS/tasks.c **** 		}
1950:Src/RTOS/tasks.c **** 		else
1951:Src/RTOS/tasks.c **** 		{
1952:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
1953:Src/RTOS/tasks.c **** 		}
1954:Src/RTOS/tasks.c **** 	}
1955:Src/RTOS/tasks.c **** 	#endif /* configUSE_TIMERS */
1956:Src/RTOS/tasks.c **** 
1957:Src/RTOS/tasks.c **** 	if( xReturn == pdPASS )
1958:Src/RTOS/tasks.c **** 	{
1959:Src/RTOS/tasks.c **** 		/* freertos_tasks_c_additions_init() should only be called if the user
1960:Src/RTOS/tasks.c **** 		definable macro FREERTOS_TASKS_C_ADDITIONS_INIT() is defined, as that is
1961:Src/RTOS/tasks.c **** 		the only macro called by the function. */
1962:Src/RTOS/tasks.c **** 		#ifdef FREERTOS_TASKS_C_ADDITIONS_INIT
1963:Src/RTOS/tasks.c **** 		{
1964:Src/RTOS/tasks.c **** 			freertos_tasks_c_additions_init();
1965:Src/RTOS/tasks.c **** 		}
1966:Src/RTOS/tasks.c **** 		#endif
1967:Src/RTOS/tasks.c **** 
1968:Src/RTOS/tasks.c **** 		/* Interrupts are turned off here, to ensure a tick does not occur
1969:Src/RTOS/tasks.c **** 		before or during the call to xPortStartScheduler().  The stacks of
1970:Src/RTOS/tasks.c **** 		the created tasks contain a status word with interrupts switched on
1971:Src/RTOS/tasks.c **** 		so interrupts will automatically get re-enabled when the first task
1972:Src/RTOS/tasks.c **** 		starts to run. */
1973:Src/RTOS/tasks.c **** 		portDISABLE_INTERRUPTS();
1974:Src/RTOS/tasks.c **** 
1975:Src/RTOS/tasks.c **** 		#if ( configUSE_NEWLIB_REENTRANT == 1 )
1976:Src/RTOS/tasks.c **** 		{
1977:Src/RTOS/tasks.c **** 			/* Switch Newlib's _impure_ptr variable to point to the _reent
1978:Src/RTOS/tasks.c **** 			structure specific to the task that will run first. */
1979:Src/RTOS/tasks.c **** 			_impure_ptr = &( pxCurrentTCB->xNewLib_reent );
1980:Src/RTOS/tasks.c **** 		}
1981:Src/RTOS/tasks.c **** 		#endif /* configUSE_NEWLIB_REENTRANT */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 41


1982:Src/RTOS/tasks.c **** 
1983:Src/RTOS/tasks.c **** 		xNextTaskUnblockTime = portMAX_DELAY;
1984:Src/RTOS/tasks.c **** 		xSchedulerRunning = pdTRUE;
1985:Src/RTOS/tasks.c **** 		xTickCount = ( TickType_t ) 0U;
1986:Src/RTOS/tasks.c **** 
1987:Src/RTOS/tasks.c **** 		/* If configGENERATE_RUN_TIME_STATS is defined then the following
1988:Src/RTOS/tasks.c **** 		macro must be defined to configure the timer/counter used to generate
1989:Src/RTOS/tasks.c **** 		the run time counter time base.   NOTE:  If configGENERATE_RUN_TIME_STATS
1990:Src/RTOS/tasks.c **** 		is set to 0 and the following line fails to build then ensure you do not
1991:Src/RTOS/tasks.c **** 		have portCONFIGURE_TIMER_FOR_RUN_TIME_STATS() defined in your
1992:Src/RTOS/tasks.c **** 		FreeRTOSConfig.h file. */
1993:Src/RTOS/tasks.c **** 		portCONFIGURE_TIMER_FOR_RUN_TIME_STATS();
1994:Src/RTOS/tasks.c **** 
1995:Src/RTOS/tasks.c **** 		/* Setting up the timer tick is hardware specific and thus in the
1996:Src/RTOS/tasks.c **** 		portable interface. */
1997:Src/RTOS/tasks.c **** 		if( xPortStartScheduler() != pdFALSE )
1998:Src/RTOS/tasks.c **** 		{
1999:Src/RTOS/tasks.c **** 			/* Should not reach here as if the scheduler is running the
2000:Src/RTOS/tasks.c **** 			function will not return. */
2001:Src/RTOS/tasks.c **** 		}
2002:Src/RTOS/tasks.c **** 		else
2003:Src/RTOS/tasks.c **** 		{
2004:Src/RTOS/tasks.c **** 			/* Should only reach here if a task calls xTaskEndScheduler(). */
2005:Src/RTOS/tasks.c **** 		}
2006:Src/RTOS/tasks.c **** 	}
2007:Src/RTOS/tasks.c **** 	else
2008:Src/RTOS/tasks.c **** 	{
2009:Src/RTOS/tasks.c **** 		/* This line will only be reached if the kernel could not be started,
2010:Src/RTOS/tasks.c **** 		because there was not enough FreeRTOS heap to create the idle task
2011:Src/RTOS/tasks.c **** 		or the timer task. */
2012:Src/RTOS/tasks.c **** 		configASSERT( xReturn != errCOULD_NOT_ALLOCATE_REQUIRED_MEMORY );
2013:Src/RTOS/tasks.c **** 	}
2014:Src/RTOS/tasks.c **** 
2015:Src/RTOS/tasks.c **** 	/* Prevent compiler warnings if INCLUDE_xTaskGetIdleTaskHandle is set to 0,
2016:Src/RTOS/tasks.c **** 	meaning xIdleTaskHandle is not used anywhere else. */
2017:Src/RTOS/tasks.c **** 	( void ) xIdleTaskHandle;
2018:Src/RTOS/tasks.c **** }
2019:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2020:Src/RTOS/tasks.c **** 
2021:Src/RTOS/tasks.c **** void vTaskEndScheduler( void )
2022:Src/RTOS/tasks.c **** {
2023:Src/RTOS/tasks.c **** 	/* Stop the scheduler interrupts and call the portable scheduler end
2024:Src/RTOS/tasks.c **** 	routine so the original ISRs can be restored if necessary.  The port
2025:Src/RTOS/tasks.c **** 	layer must ensure interrupts enable	bit is left in the correct state. */
2026:Src/RTOS/tasks.c **** 	portDISABLE_INTERRUPTS();
2027:Src/RTOS/tasks.c **** 	xSchedulerRunning = pdFALSE;
2028:Src/RTOS/tasks.c **** 	vPortEndScheduler();
2029:Src/RTOS/tasks.c **** }
2030:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2031:Src/RTOS/tasks.c **** 
2032:Src/RTOS/tasks.c **** void vTaskSuspendAll( void )
2033:Src/RTOS/tasks.c **** {
2034:Src/RTOS/tasks.c **** 	/* A critical section is not required as the variable is of type
2035:Src/RTOS/tasks.c **** 	BaseType_t.  Please read Richard Barry's reply in the following link to a
2036:Src/RTOS/tasks.c **** 	post in the FreeRTOS support forum before reporting this as a bug! -
2037:Src/RTOS/tasks.c **** 	http://goo.gl/wu4acr */
2038:Src/RTOS/tasks.c **** 	++uxSchedulerSuspended;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 42


2039:Src/RTOS/tasks.c **** }
2040:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2041:Src/RTOS/tasks.c **** 
2042:Src/RTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
2043:Src/RTOS/tasks.c **** 
2044:Src/RTOS/tasks.c **** 	static TickType_t prvGetExpectedIdleTime( void )
2045:Src/RTOS/tasks.c **** 	{
2046:Src/RTOS/tasks.c **** 	TickType_t xReturn;
2047:Src/RTOS/tasks.c **** 	UBaseType_t uxHigherPriorityReadyTasks = pdFALSE;
2048:Src/RTOS/tasks.c **** 
2049:Src/RTOS/tasks.c **** 		/* uxHigherPriorityReadyTasks takes care of the case where
2050:Src/RTOS/tasks.c **** 		configUSE_PREEMPTION is 0, so there may be tasks above the idle priority
2051:Src/RTOS/tasks.c **** 		task that are in the Ready state, even though the idle task is
2052:Src/RTOS/tasks.c **** 		running. */
2053:Src/RTOS/tasks.c **** 		#if( configUSE_PORT_OPTIMISED_TASK_SELECTION == 0 )
2054:Src/RTOS/tasks.c **** 		{
2055:Src/RTOS/tasks.c **** 			if( uxTopReadyPriority > tskIDLE_PRIORITY )
2056:Src/RTOS/tasks.c **** 			{
2057:Src/RTOS/tasks.c **** 				uxHigherPriorityReadyTasks = pdTRUE;
2058:Src/RTOS/tasks.c **** 			}
2059:Src/RTOS/tasks.c **** 		}
2060:Src/RTOS/tasks.c **** 		#else
2061:Src/RTOS/tasks.c **** 		{
2062:Src/RTOS/tasks.c **** 			const UBaseType_t uxLeastSignificantBit = ( UBaseType_t ) 0x01;
2063:Src/RTOS/tasks.c **** 
2064:Src/RTOS/tasks.c **** 			/* When port optimised task selection is used the uxTopReadyPriority
2065:Src/RTOS/tasks.c **** 			variable is used as a bit map.  If bits other than the least
2066:Src/RTOS/tasks.c **** 			significant bit are set then there are tasks that have a priority
2067:Src/RTOS/tasks.c **** 			above the idle priority that are in the Ready state.  This takes
2068:Src/RTOS/tasks.c **** 			care of the case where the co-operative scheduler is in use. */
2069:Src/RTOS/tasks.c **** 			if( uxTopReadyPriority > uxLeastSignificantBit )
2070:Src/RTOS/tasks.c **** 			{
2071:Src/RTOS/tasks.c **** 				uxHigherPriorityReadyTasks = pdTRUE;
2072:Src/RTOS/tasks.c **** 			}
2073:Src/RTOS/tasks.c **** 		}
2074:Src/RTOS/tasks.c **** 		#endif
2075:Src/RTOS/tasks.c **** 
2076:Src/RTOS/tasks.c **** 		if( pxCurrentTCB->uxPriority > tskIDLE_PRIORITY )
2077:Src/RTOS/tasks.c **** 		{
2078:Src/RTOS/tasks.c **** 			xReturn = 0;
2079:Src/RTOS/tasks.c **** 		}
2080:Src/RTOS/tasks.c **** 		else if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ tskIDLE_PRIORITY ] ) ) > 1 )
2081:Src/RTOS/tasks.c **** 		{
2082:Src/RTOS/tasks.c **** 			/* There are other idle priority tasks in the ready state.  If
2083:Src/RTOS/tasks.c **** 			time slicing is used then the very next tick interrupt must be
2084:Src/RTOS/tasks.c **** 			processed. */
2085:Src/RTOS/tasks.c **** 			xReturn = 0;
2086:Src/RTOS/tasks.c **** 		}
2087:Src/RTOS/tasks.c **** 		else if( uxHigherPriorityReadyTasks != pdFALSE )
2088:Src/RTOS/tasks.c **** 		{
2089:Src/RTOS/tasks.c **** 			/* There are tasks in the Ready state that have a priority above the
2090:Src/RTOS/tasks.c **** 			idle priority.  This path can only be reached if
2091:Src/RTOS/tasks.c **** 			configUSE_PREEMPTION is 0. */
2092:Src/RTOS/tasks.c **** 			xReturn = 0;
2093:Src/RTOS/tasks.c **** 		}
2094:Src/RTOS/tasks.c **** 		else
2095:Src/RTOS/tasks.c **** 		{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 43


2096:Src/RTOS/tasks.c **** 			xReturn = xNextTaskUnblockTime - xTickCount;
2097:Src/RTOS/tasks.c **** 		}
2098:Src/RTOS/tasks.c **** 
2099:Src/RTOS/tasks.c **** 		return xReturn;
2100:Src/RTOS/tasks.c **** 	}
2101:Src/RTOS/tasks.c **** 
2102:Src/RTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
2103:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2104:Src/RTOS/tasks.c **** 
2105:Src/RTOS/tasks.c **** BaseType_t xTaskResumeAll( void )
2106:Src/RTOS/tasks.c **** {
2107:Src/RTOS/tasks.c **** TCB_t *pxTCB = NULL;
2108:Src/RTOS/tasks.c **** BaseType_t xAlreadyYielded = pdFALSE;
2109:Src/RTOS/tasks.c **** 
2110:Src/RTOS/tasks.c **** 	/* If uxSchedulerSuspended is zero then this function does not match a
2111:Src/RTOS/tasks.c **** 	previous call to vTaskSuspendAll(). */
2112:Src/RTOS/tasks.c **** 	configASSERT( uxSchedulerSuspended );
2113:Src/RTOS/tasks.c **** 
2114:Src/RTOS/tasks.c **** 	/* It is possible that an ISR caused a task to be removed from an event
2115:Src/RTOS/tasks.c **** 	list while the scheduler was suspended.  If this was the case then the
2116:Src/RTOS/tasks.c **** 	removed task will have been added to the xPendingReadyList.  Once the
2117:Src/RTOS/tasks.c **** 	scheduler has been resumed it is safe to move all the pending ready
2118:Src/RTOS/tasks.c **** 	tasks from this list into their appropriate ready list. */
2119:Src/RTOS/tasks.c **** 	taskENTER_CRITICAL();
2120:Src/RTOS/tasks.c **** 	{
2121:Src/RTOS/tasks.c **** 		--uxSchedulerSuspended;
2122:Src/RTOS/tasks.c **** 
2123:Src/RTOS/tasks.c **** 		if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
2124:Src/RTOS/tasks.c **** 		{
2125:Src/RTOS/tasks.c **** 			if( uxCurrentNumberOfTasks > ( UBaseType_t ) 0U )
2126:Src/RTOS/tasks.c **** 			{
2127:Src/RTOS/tasks.c **** 				/* Move any readied tasks from the pending list into the
2128:Src/RTOS/tasks.c **** 				appropriate ready list. */
2129:Src/RTOS/tasks.c **** 				while( listLIST_IS_EMPTY( &xPendingReadyList ) == pdFALSE )
2130:Src/RTOS/tasks.c **** 				{
2131:Src/RTOS/tasks.c **** 					pxTCB = ( TCB_t * ) listGET_OWNER_OF_HEAD_ENTRY( ( &xPendingReadyList ) );
2132:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xEventListItem ) );
2133:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
2134:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
2135:Src/RTOS/tasks.c **** 
2136:Src/RTOS/tasks.c **** 					/* If the moved task has a priority higher than the current
2137:Src/RTOS/tasks.c **** 					task then a yield must be performed. */
2138:Src/RTOS/tasks.c **** 					if( pxTCB->uxPriority >= pxCurrentTCB->uxPriority )
2139:Src/RTOS/tasks.c **** 					{
2140:Src/RTOS/tasks.c **** 						xYieldPending = pdTRUE;
2141:Src/RTOS/tasks.c **** 					}
2142:Src/RTOS/tasks.c **** 					else
2143:Src/RTOS/tasks.c **** 					{
2144:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2145:Src/RTOS/tasks.c **** 					}
2146:Src/RTOS/tasks.c **** 				}
2147:Src/RTOS/tasks.c **** 
2148:Src/RTOS/tasks.c **** 				if( pxTCB != NULL )
2149:Src/RTOS/tasks.c **** 				{
2150:Src/RTOS/tasks.c **** 					/* A task was unblocked while the scheduler was suspended,
2151:Src/RTOS/tasks.c **** 					which may have prevented the next unblock time from being
2152:Src/RTOS/tasks.c **** 					re-calculated, in which case re-calculate it now.  Mainly
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 44


2153:Src/RTOS/tasks.c **** 					important for low power tickless implementations, where
2154:Src/RTOS/tasks.c **** 					this can prevent an unnecessary exit from low power
2155:Src/RTOS/tasks.c **** 					state. */
2156:Src/RTOS/tasks.c **** 					prvResetNextTaskUnblockTime();
2157:Src/RTOS/tasks.c **** 				}
2158:Src/RTOS/tasks.c **** 
2159:Src/RTOS/tasks.c **** 				/* If any ticks occurred while the scheduler was suspended then
2160:Src/RTOS/tasks.c **** 				they should be processed now.  This ensures the tick count does
2161:Src/RTOS/tasks.c **** 				not	slip, and that any delayed tasks are resumed at the correct
2162:Src/RTOS/tasks.c **** 				time. */
2163:Src/RTOS/tasks.c **** 				{
2164:Src/RTOS/tasks.c **** 					UBaseType_t uxPendedCounts = uxPendedTicks; /* Non-volatile copy. */
2165:Src/RTOS/tasks.c **** 
2166:Src/RTOS/tasks.c **** 					if( uxPendedCounts > ( UBaseType_t ) 0U )
2167:Src/RTOS/tasks.c **** 					{
2168:Src/RTOS/tasks.c **** 						do
2169:Src/RTOS/tasks.c **** 						{
2170:Src/RTOS/tasks.c **** 							if( xTaskIncrementTick() != pdFALSE )
2171:Src/RTOS/tasks.c **** 							{
2172:Src/RTOS/tasks.c **** 								xYieldPending = pdTRUE;
2173:Src/RTOS/tasks.c **** 							}
2174:Src/RTOS/tasks.c **** 							else
2175:Src/RTOS/tasks.c **** 							{
2176:Src/RTOS/tasks.c **** 								mtCOVERAGE_TEST_MARKER();
2177:Src/RTOS/tasks.c **** 							}
2178:Src/RTOS/tasks.c **** 							--uxPendedCounts;
2179:Src/RTOS/tasks.c **** 						} while( uxPendedCounts > ( UBaseType_t ) 0U );
2180:Src/RTOS/tasks.c **** 
2181:Src/RTOS/tasks.c **** 						uxPendedTicks = 0;
2182:Src/RTOS/tasks.c **** 					}
2183:Src/RTOS/tasks.c **** 					else
2184:Src/RTOS/tasks.c **** 					{
2185:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2186:Src/RTOS/tasks.c **** 					}
2187:Src/RTOS/tasks.c **** 				}
2188:Src/RTOS/tasks.c **** 
2189:Src/RTOS/tasks.c **** 				if( xYieldPending != pdFALSE )
2190:Src/RTOS/tasks.c **** 				{
2191:Src/RTOS/tasks.c **** 					#if( configUSE_PREEMPTION != 0 )
2192:Src/RTOS/tasks.c **** 					{
2193:Src/RTOS/tasks.c **** 						xAlreadyYielded = pdTRUE;
2194:Src/RTOS/tasks.c **** 					}
2195:Src/RTOS/tasks.c **** 					#endif
2196:Src/RTOS/tasks.c **** 					taskYIELD_IF_USING_PREEMPTION();
2197:Src/RTOS/tasks.c **** 				}
2198:Src/RTOS/tasks.c **** 				else
2199:Src/RTOS/tasks.c **** 				{
2200:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
2201:Src/RTOS/tasks.c **** 				}
2202:Src/RTOS/tasks.c **** 			}
2203:Src/RTOS/tasks.c **** 		}
2204:Src/RTOS/tasks.c **** 		else
2205:Src/RTOS/tasks.c **** 		{
2206:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
2207:Src/RTOS/tasks.c **** 		}
2208:Src/RTOS/tasks.c **** 	}
2209:Src/RTOS/tasks.c **** 	taskEXIT_CRITICAL();
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 45


2210:Src/RTOS/tasks.c **** 
2211:Src/RTOS/tasks.c **** 	return xAlreadyYielded;
2212:Src/RTOS/tasks.c **** }
2213:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2214:Src/RTOS/tasks.c **** 
2215:Src/RTOS/tasks.c **** TickType_t xTaskGetTickCount( void )
2216:Src/RTOS/tasks.c **** {
2217:Src/RTOS/tasks.c **** TickType_t xTicks;
2218:Src/RTOS/tasks.c **** 
2219:Src/RTOS/tasks.c **** 	/* Critical section required if running on a 16 bit processor. */
2220:Src/RTOS/tasks.c **** 	portTICK_TYPE_ENTER_CRITICAL();
2221:Src/RTOS/tasks.c **** 	{
2222:Src/RTOS/tasks.c **** 		xTicks = xTickCount;
2223:Src/RTOS/tasks.c **** 	}
2224:Src/RTOS/tasks.c **** 	portTICK_TYPE_EXIT_CRITICAL();
2225:Src/RTOS/tasks.c **** 
2226:Src/RTOS/tasks.c **** 	return xTicks;
2227:Src/RTOS/tasks.c **** }
2228:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2229:Src/RTOS/tasks.c **** 
2230:Src/RTOS/tasks.c **** TickType_t xTaskGetTickCountFromISR( void )
2231:Src/RTOS/tasks.c **** {
2232:Src/RTOS/tasks.c **** TickType_t xReturn;
2233:Src/RTOS/tasks.c **** UBaseType_t uxSavedInterruptStatus;
2234:Src/RTOS/tasks.c **** 
2235:Src/RTOS/tasks.c **** 	/* RTOS ports that support interrupt nesting have the concept of a maximum
2236:Src/RTOS/tasks.c **** 	system call (or maximum API call) interrupt priority.  Interrupts that are
2237:Src/RTOS/tasks.c **** 	above the maximum system call priority are kept permanently enabled, even
2238:Src/RTOS/tasks.c **** 	when the RTOS kernel is in a critical section, but cannot make any calls to
2239:Src/RTOS/tasks.c **** 	FreeRTOS API functions.  If configASSERT() is defined in FreeRTOSConfig.h
2240:Src/RTOS/tasks.c **** 	then portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
2241:Src/RTOS/tasks.c **** 	failure if a FreeRTOS API function is called from an interrupt that has been
2242:Src/RTOS/tasks.c **** 	assigned a priority above the configured maximum system call priority.
2243:Src/RTOS/tasks.c **** 	Only FreeRTOS functions that end in FromISR can be called from interrupts
2244:Src/RTOS/tasks.c **** 	that have been assigned a priority at or (logically) below the maximum
2245:Src/RTOS/tasks.c **** 	system call	interrupt priority.  FreeRTOS maintains a separate interrupt
2246:Src/RTOS/tasks.c **** 	safe API to ensure interrupt entry is as fast and as simple as possible.
2247:Src/RTOS/tasks.c **** 	More information (albeit Cortex-M specific) is provided on the following
2248:Src/RTOS/tasks.c **** 	link: http://www.freertos.org/RTOS-Cortex-M3-M4.html */
2249:Src/RTOS/tasks.c **** 	portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
2250:Src/RTOS/tasks.c **** 
2251:Src/RTOS/tasks.c **** 	uxSavedInterruptStatus = portTICK_TYPE_SET_INTERRUPT_MASK_FROM_ISR();
2252:Src/RTOS/tasks.c **** 	{
2253:Src/RTOS/tasks.c **** 		xReturn = xTickCount;
2254:Src/RTOS/tasks.c **** 	}
2255:Src/RTOS/tasks.c **** 	portTICK_TYPE_CLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
2256:Src/RTOS/tasks.c **** 
2257:Src/RTOS/tasks.c **** 	return xReturn;
2258:Src/RTOS/tasks.c **** }
2259:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2260:Src/RTOS/tasks.c **** 
2261:Src/RTOS/tasks.c **** UBaseType_t uxTaskGetNumberOfTasks( void )
2262:Src/RTOS/tasks.c **** {
2263:Src/RTOS/tasks.c **** 	/* A critical section is not required because the variables are of type
2264:Src/RTOS/tasks.c **** 	BaseType_t. */
2265:Src/RTOS/tasks.c **** 	return uxCurrentNumberOfTasks;
2266:Src/RTOS/tasks.c **** }
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 46


2267:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2268:Src/RTOS/tasks.c **** 
2269:Src/RTOS/tasks.c **** char *pcTaskGetName( TaskHandle_t xTaskToQuery ) /*lint !e971 Unqualified char types are allowed fo
2270:Src/RTOS/tasks.c **** {
2271:Src/RTOS/tasks.c **** TCB_t *pxTCB;
2272:Src/RTOS/tasks.c **** 
2273:Src/RTOS/tasks.c **** 	/* If null is passed in here then the name of the calling task is being
2274:Src/RTOS/tasks.c **** 	queried. */
2275:Src/RTOS/tasks.c **** 	pxTCB = prvGetTCBFromHandle( xTaskToQuery );
2276:Src/RTOS/tasks.c **** 	configASSERT( pxTCB );
2277:Src/RTOS/tasks.c **** 	return &( pxTCB->pcTaskName[ 0 ] );
2278:Src/RTOS/tasks.c **** }
2279:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2280:Src/RTOS/tasks.c **** 
2281:Src/RTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
2282:Src/RTOS/tasks.c **** 
2283:Src/RTOS/tasks.c **** 	static TCB_t *prvSearchForNameWithinSingleList( List_t *pxList, const char pcNameToQuery[] )
2284:Src/RTOS/tasks.c **** 	{
2285:Src/RTOS/tasks.c **** 	TCB_t *pxNextTCB, *pxFirstTCB, *pxReturn = NULL;
2286:Src/RTOS/tasks.c **** 	UBaseType_t x;
2287:Src/RTOS/tasks.c **** 	char cNextChar;
2288:Src/RTOS/tasks.c **** 
2289:Src/RTOS/tasks.c **** 		/* This function is called with the scheduler suspended. */
2290:Src/RTOS/tasks.c **** 
2291:Src/RTOS/tasks.c **** 		if( listCURRENT_LIST_LENGTH( pxList ) > ( UBaseType_t ) 0 )
2292:Src/RTOS/tasks.c **** 		{
2293:Src/RTOS/tasks.c **** 			listGET_OWNER_OF_NEXT_ENTRY( pxFirstTCB, pxList );
2294:Src/RTOS/tasks.c **** 
2295:Src/RTOS/tasks.c **** 			do
2296:Src/RTOS/tasks.c **** 			{
2297:Src/RTOS/tasks.c **** 				listGET_OWNER_OF_NEXT_ENTRY( pxNextTCB, pxList );
2298:Src/RTOS/tasks.c **** 
2299:Src/RTOS/tasks.c **** 				/* Check each character in the name looking for a match or
2300:Src/RTOS/tasks.c **** 				mismatch. */
2301:Src/RTOS/tasks.c **** 				for( x = ( UBaseType_t ) 0; x < ( UBaseType_t ) configMAX_TASK_NAME_LEN; x++ )
2302:Src/RTOS/tasks.c **** 				{
2303:Src/RTOS/tasks.c **** 					cNextChar = pxNextTCB->pcTaskName[ x ];
2304:Src/RTOS/tasks.c **** 
2305:Src/RTOS/tasks.c **** 					if( cNextChar != pcNameToQuery[ x ] )
2306:Src/RTOS/tasks.c **** 					{
2307:Src/RTOS/tasks.c **** 						/* Characters didn't match. */
2308:Src/RTOS/tasks.c **** 						break;
2309:Src/RTOS/tasks.c **** 					}
2310:Src/RTOS/tasks.c **** 					else if( cNextChar == 0x00 )
2311:Src/RTOS/tasks.c **** 					{
2312:Src/RTOS/tasks.c **** 						/* Both strings terminated, a match must have been
2313:Src/RTOS/tasks.c **** 						found. */
2314:Src/RTOS/tasks.c **** 						pxReturn = pxNextTCB;
2315:Src/RTOS/tasks.c **** 						break;
2316:Src/RTOS/tasks.c **** 					}
2317:Src/RTOS/tasks.c **** 					else
2318:Src/RTOS/tasks.c **** 					{
2319:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2320:Src/RTOS/tasks.c **** 					}
2321:Src/RTOS/tasks.c **** 				}
2322:Src/RTOS/tasks.c **** 
2323:Src/RTOS/tasks.c **** 				if( pxReturn != NULL )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 47


2324:Src/RTOS/tasks.c **** 				{
2325:Src/RTOS/tasks.c **** 					/* The handle has been found. */
2326:Src/RTOS/tasks.c **** 					break;
2327:Src/RTOS/tasks.c **** 				}
2328:Src/RTOS/tasks.c **** 
2329:Src/RTOS/tasks.c **** 			} while( pxNextTCB != pxFirstTCB );
2330:Src/RTOS/tasks.c **** 		}
2331:Src/RTOS/tasks.c **** 		else
2332:Src/RTOS/tasks.c **** 		{
2333:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
2334:Src/RTOS/tasks.c **** 		}
2335:Src/RTOS/tasks.c **** 
2336:Src/RTOS/tasks.c **** 		return pxReturn;
2337:Src/RTOS/tasks.c **** 	}
2338:Src/RTOS/tasks.c **** 
2339:Src/RTOS/tasks.c **** #endif /* INCLUDE_xTaskGetHandle */
2340:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2341:Src/RTOS/tasks.c **** 
2342:Src/RTOS/tasks.c **** #if ( INCLUDE_xTaskGetHandle == 1 )
2343:Src/RTOS/tasks.c **** 
2344:Src/RTOS/tasks.c **** 	TaskHandle_t xTaskGetHandle( const char *pcNameToQuery ) /*lint !e971 Unqualified char types are a
2345:Src/RTOS/tasks.c **** 	{
2346:Src/RTOS/tasks.c **** 	UBaseType_t uxQueue = configMAX_PRIORITIES;
2347:Src/RTOS/tasks.c **** 	TCB_t* pxTCB;
2348:Src/RTOS/tasks.c **** 
2349:Src/RTOS/tasks.c **** 		/* Task names will be truncated to configMAX_TASK_NAME_LEN - 1 bytes. */
2350:Src/RTOS/tasks.c **** 		configASSERT( strlen( pcNameToQuery ) < configMAX_TASK_NAME_LEN );
2351:Src/RTOS/tasks.c **** 
2352:Src/RTOS/tasks.c **** 		vTaskSuspendAll();
2353:Src/RTOS/tasks.c **** 		{
2354:Src/RTOS/tasks.c **** 			/* Search the ready lists. */
2355:Src/RTOS/tasks.c **** 			do
2356:Src/RTOS/tasks.c **** 			{
2357:Src/RTOS/tasks.c **** 				uxQueue--;
2358:Src/RTOS/tasks.c **** 				pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) &( pxReadyTasksLists[ uxQueue ] ), pcNam
2359:Src/RTOS/tasks.c **** 
2360:Src/RTOS/tasks.c **** 				if( pxTCB != NULL )
2361:Src/RTOS/tasks.c **** 				{
2362:Src/RTOS/tasks.c **** 					/* Found the handle. */
2363:Src/RTOS/tasks.c **** 					break;
2364:Src/RTOS/tasks.c **** 				}
2365:Src/RTOS/tasks.c **** 
2366:Src/RTOS/tasks.c **** 			} while( uxQueue > ( UBaseType_t ) tskIDLE_PRIORITY ); /*lint !e961 MISRA exception as the casts
2367:Src/RTOS/tasks.c **** 
2368:Src/RTOS/tasks.c **** 			/* Search the delayed lists. */
2369:Src/RTOS/tasks.c **** 			if( pxTCB == NULL )
2370:Src/RTOS/tasks.c **** 			{
2371:Src/RTOS/tasks.c **** 				pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) pxDelayedTaskList, pcNameToQuery );
2372:Src/RTOS/tasks.c **** 			}
2373:Src/RTOS/tasks.c **** 
2374:Src/RTOS/tasks.c **** 			if( pxTCB == NULL )
2375:Src/RTOS/tasks.c **** 			{
2376:Src/RTOS/tasks.c **** 				pxTCB = prvSearchForNameWithinSingleList( ( List_t * ) pxOverflowDelayedTaskList, pcNameToQuery
2377:Src/RTOS/tasks.c **** 			}
2378:Src/RTOS/tasks.c **** 
2379:Src/RTOS/tasks.c **** 			#if ( INCLUDE_vTaskSuspend == 1 )
2380:Src/RTOS/tasks.c **** 			{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 48


2381:Src/RTOS/tasks.c **** 				if( pxTCB == NULL )
2382:Src/RTOS/tasks.c **** 				{
2383:Src/RTOS/tasks.c **** 					/* Search the suspended list. */
2384:Src/RTOS/tasks.c **** 					pxTCB = prvSearchForNameWithinSingleList( &xSuspendedTaskList, pcNameToQuery );
2385:Src/RTOS/tasks.c **** 				}
2386:Src/RTOS/tasks.c **** 			}
2387:Src/RTOS/tasks.c **** 			#endif
2388:Src/RTOS/tasks.c **** 
2389:Src/RTOS/tasks.c **** 			#if( INCLUDE_vTaskDelete == 1 )
2390:Src/RTOS/tasks.c **** 			{
2391:Src/RTOS/tasks.c **** 				if( pxTCB == NULL )
2392:Src/RTOS/tasks.c **** 				{
2393:Src/RTOS/tasks.c **** 					/* Search the deleted list. */
2394:Src/RTOS/tasks.c **** 					pxTCB = prvSearchForNameWithinSingleList( &xTasksWaitingTermination, pcNameToQuery );
2395:Src/RTOS/tasks.c **** 				}
2396:Src/RTOS/tasks.c **** 			}
2397:Src/RTOS/tasks.c **** 			#endif
2398:Src/RTOS/tasks.c **** 		}
2399:Src/RTOS/tasks.c **** 		( void ) xTaskResumeAll();
2400:Src/RTOS/tasks.c **** 
2401:Src/RTOS/tasks.c **** 		return ( TaskHandle_t ) pxTCB;
2402:Src/RTOS/tasks.c **** 	}
2403:Src/RTOS/tasks.c **** 
2404:Src/RTOS/tasks.c **** #endif /* INCLUDE_xTaskGetHandle */
2405:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2406:Src/RTOS/tasks.c **** 
2407:Src/RTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
2408:Src/RTOS/tasks.c **** 
2409:Src/RTOS/tasks.c **** 	UBaseType_t uxTaskGetSystemState( TaskStatus_t * const pxTaskStatusArray, const UBaseType_t uxArra
2410:Src/RTOS/tasks.c **** 	{
2411:Src/RTOS/tasks.c **** 	UBaseType_t uxTask = 0, uxQueue = configMAX_PRIORITIES;
2412:Src/RTOS/tasks.c **** 
2413:Src/RTOS/tasks.c **** 		vTaskSuspendAll();
2414:Src/RTOS/tasks.c **** 		{
2415:Src/RTOS/tasks.c **** 			/* Is there a space in the array for each task in the system? */
2416:Src/RTOS/tasks.c **** 			if( uxArraySize >= uxCurrentNumberOfTasks )
2417:Src/RTOS/tasks.c **** 			{
2418:Src/RTOS/tasks.c **** 				/* Fill in an TaskStatus_t structure with information on each
2419:Src/RTOS/tasks.c **** 				task in the Ready state. */
2420:Src/RTOS/tasks.c **** 				do
2421:Src/RTOS/tasks.c **** 				{
2422:Src/RTOS/tasks.c **** 					uxQueue--;
2423:Src/RTOS/tasks.c **** 					uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), &( pxReadyTasksLists
2424:Src/RTOS/tasks.c **** 
2425:Src/RTOS/tasks.c **** 				} while( uxQueue > ( UBaseType_t ) tskIDLE_PRIORITY ); /*lint !e961 MISRA exception as the cast
2426:Src/RTOS/tasks.c **** 
2427:Src/RTOS/tasks.c **** 				/* Fill in an TaskStatus_t structure with information on each
2428:Src/RTOS/tasks.c **** 				task in the Blocked state. */
2429:Src/RTOS/tasks.c **** 				uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), ( List_t * ) pxDelaye
2430:Src/RTOS/tasks.c **** 				uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), ( List_t * ) pxOverfl
2431:Src/RTOS/tasks.c **** 
2432:Src/RTOS/tasks.c **** 				#if( INCLUDE_vTaskDelete == 1 )
2433:Src/RTOS/tasks.c **** 				{
2434:Src/RTOS/tasks.c **** 					/* Fill in an TaskStatus_t structure with information on
2435:Src/RTOS/tasks.c **** 					each task that has been deleted but not yet cleaned up. */
2436:Src/RTOS/tasks.c **** 					uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), &xTasksWaitingTermin
2437:Src/RTOS/tasks.c **** 				}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 49


2438:Src/RTOS/tasks.c **** 				#endif
2439:Src/RTOS/tasks.c **** 
2440:Src/RTOS/tasks.c **** 				#if ( INCLUDE_vTaskSuspend == 1 )
2441:Src/RTOS/tasks.c **** 				{
2442:Src/RTOS/tasks.c **** 					/* Fill in an TaskStatus_t structure with information on
2443:Src/RTOS/tasks.c **** 					each task in the Suspended state. */
2444:Src/RTOS/tasks.c **** 					uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), &xSuspendedTaskList,
2445:Src/RTOS/tasks.c **** 				}
2446:Src/RTOS/tasks.c **** 				#endif
2447:Src/RTOS/tasks.c **** 
2448:Src/RTOS/tasks.c **** 				#if ( configGENERATE_RUN_TIME_STATS == 1)
2449:Src/RTOS/tasks.c **** 				{
2450:Src/RTOS/tasks.c **** 					if( pulTotalRunTime != NULL )
2451:Src/RTOS/tasks.c **** 					{
2452:Src/RTOS/tasks.c **** 						#ifdef portALT_GET_RUN_TIME_COUNTER_VALUE
2453:Src/RTOS/tasks.c **** 							portALT_GET_RUN_TIME_COUNTER_VALUE( ( *pulTotalRunTime ) );
2454:Src/RTOS/tasks.c **** 						#else
2455:Src/RTOS/tasks.c **** 							*pulTotalRunTime = portGET_RUN_TIME_COUNTER_VALUE();
2456:Src/RTOS/tasks.c **** 						#endif
2457:Src/RTOS/tasks.c **** 					}
2458:Src/RTOS/tasks.c **** 				}
2459:Src/RTOS/tasks.c **** 				#else
2460:Src/RTOS/tasks.c **** 				{
2461:Src/RTOS/tasks.c **** 					if( pulTotalRunTime != NULL )
2462:Src/RTOS/tasks.c **** 					{
2463:Src/RTOS/tasks.c **** 						*pulTotalRunTime = 0;
2464:Src/RTOS/tasks.c **** 					}
2465:Src/RTOS/tasks.c **** 				}
2466:Src/RTOS/tasks.c **** 				#endif
2467:Src/RTOS/tasks.c **** 			}
2468:Src/RTOS/tasks.c **** 			else
2469:Src/RTOS/tasks.c **** 			{
2470:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
2471:Src/RTOS/tasks.c **** 			}
2472:Src/RTOS/tasks.c **** 		}
2473:Src/RTOS/tasks.c **** 		( void ) xTaskResumeAll();
2474:Src/RTOS/tasks.c **** 
2475:Src/RTOS/tasks.c **** 		return uxTask;
2476:Src/RTOS/tasks.c **** 	}
2477:Src/RTOS/tasks.c **** 
2478:Src/RTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
2479:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2480:Src/RTOS/tasks.c **** 
2481:Src/RTOS/tasks.c **** #if ( INCLUDE_xTaskGetIdleTaskHandle == 1 )
2482:Src/RTOS/tasks.c **** 
2483:Src/RTOS/tasks.c **** 	TaskHandle_t xTaskGetIdleTaskHandle( void )
2484:Src/RTOS/tasks.c **** 	{
2485:Src/RTOS/tasks.c **** 		/* If xTaskGetIdleTaskHandle() is called before the scheduler has been
2486:Src/RTOS/tasks.c **** 		started, then xIdleTaskHandle will be NULL. */
2487:Src/RTOS/tasks.c **** 		configASSERT( ( xIdleTaskHandle != NULL ) );
2488:Src/RTOS/tasks.c **** 		return xIdleTaskHandle;
2489:Src/RTOS/tasks.c **** 	}
2490:Src/RTOS/tasks.c **** 
2491:Src/RTOS/tasks.c **** #endif /* INCLUDE_xTaskGetIdleTaskHandle */
2492:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2493:Src/RTOS/tasks.c **** 
2494:Src/RTOS/tasks.c **** /* This conditional compilation should use inequality to 0, not equality to 1.
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 50


2495:Src/RTOS/tasks.c **** This is to ensure vTaskStepTick() is available when user defined low power mode
2496:Src/RTOS/tasks.c **** implementations require configUSE_TICKLESS_IDLE to be set to a value other than
2497:Src/RTOS/tasks.c **** 1. */
2498:Src/RTOS/tasks.c **** #if ( configUSE_TICKLESS_IDLE != 0 )
2499:Src/RTOS/tasks.c **** 
2500:Src/RTOS/tasks.c **** 	void vTaskStepTick( const TickType_t xTicksToJump )
2501:Src/RTOS/tasks.c **** 	{
2502:Src/RTOS/tasks.c **** 		/* Correct the tick count value after a period during which the tick
2503:Src/RTOS/tasks.c **** 		was suppressed.  Note this does *not* call the tick hook function for
2504:Src/RTOS/tasks.c **** 		each stepped tick. */
2505:Src/RTOS/tasks.c **** 		configASSERT( ( xTickCount + xTicksToJump ) <= xNextTaskUnblockTime );
2506:Src/RTOS/tasks.c **** 		xTickCount += xTicksToJump;
2507:Src/RTOS/tasks.c **** 		traceINCREASE_TICK_COUNT( xTicksToJump );
2508:Src/RTOS/tasks.c **** 	}
2509:Src/RTOS/tasks.c **** 
2510:Src/RTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
2511:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2512:Src/RTOS/tasks.c **** 
2513:Src/RTOS/tasks.c **** #if ( INCLUDE_xTaskAbortDelay == 1 )
2514:Src/RTOS/tasks.c **** 
2515:Src/RTOS/tasks.c **** 	BaseType_t xTaskAbortDelay( TaskHandle_t xTask )
2516:Src/RTOS/tasks.c **** 	{
2517:Src/RTOS/tasks.c **** 	TCB_t *pxTCB = ( TCB_t * ) xTask;
2518:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
2519:Src/RTOS/tasks.c **** 
2520:Src/RTOS/tasks.c **** 		configASSERT( pxTCB );
2521:Src/RTOS/tasks.c **** 
2522:Src/RTOS/tasks.c **** 		vTaskSuspendAll();
2523:Src/RTOS/tasks.c **** 		{
2524:Src/RTOS/tasks.c **** 			/* A task can only be prematurely removed from the Blocked state if
2525:Src/RTOS/tasks.c **** 			it is actually in the Blocked state. */
2526:Src/RTOS/tasks.c **** 			if( eTaskGetState( xTask ) == eBlocked )
2527:Src/RTOS/tasks.c **** 			{
2528:Src/RTOS/tasks.c **** 				xReturn = pdPASS;
2529:Src/RTOS/tasks.c **** 
2530:Src/RTOS/tasks.c **** 				/* Remove the reference to the task from the blocked list.  An
2531:Src/RTOS/tasks.c **** 				interrupt won't touch the xStateListItem because the
2532:Src/RTOS/tasks.c **** 				scheduler is suspended. */
2533:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xStateListItem ) );
2534:Src/RTOS/tasks.c **** 
2535:Src/RTOS/tasks.c **** 				/* Is the task waiting on an event also?  If so remove it from
2536:Src/RTOS/tasks.c **** 				the event list too.  Interrupts can touch the event list item,
2537:Src/RTOS/tasks.c **** 				even though the scheduler is suspended, so a critical section
2538:Src/RTOS/tasks.c **** 				is used. */
2539:Src/RTOS/tasks.c **** 				taskENTER_CRITICAL();
2540:Src/RTOS/tasks.c **** 				{
2541:Src/RTOS/tasks.c **** 					if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
2542:Src/RTOS/tasks.c **** 					{
2543:Src/RTOS/tasks.c **** 						( void ) uxListRemove( &( pxTCB->xEventListItem ) );
2544:Src/RTOS/tasks.c **** 						pxTCB->ucDelayAborted = pdTRUE;
2545:Src/RTOS/tasks.c **** 					}
2546:Src/RTOS/tasks.c **** 					else
2547:Src/RTOS/tasks.c **** 					{
2548:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2549:Src/RTOS/tasks.c **** 					}
2550:Src/RTOS/tasks.c **** 				}
2551:Src/RTOS/tasks.c **** 				taskEXIT_CRITICAL();
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 51


2552:Src/RTOS/tasks.c **** 
2553:Src/RTOS/tasks.c **** 				/* Place the unblocked task into the appropriate ready list. */
2554:Src/RTOS/tasks.c **** 				prvAddTaskToReadyList( pxTCB );
2555:Src/RTOS/tasks.c **** 
2556:Src/RTOS/tasks.c **** 				/* A task being unblocked cannot cause an immediate context
2557:Src/RTOS/tasks.c **** 				switch if preemption is turned off. */
2558:Src/RTOS/tasks.c **** 				#if (  configUSE_PREEMPTION == 1 )
2559:Src/RTOS/tasks.c **** 				{
2560:Src/RTOS/tasks.c **** 					/* Preemption is on, but a context switch should only be
2561:Src/RTOS/tasks.c **** 					performed if the unblocked task has a priority that is
2562:Src/RTOS/tasks.c **** 					equal to or higher than the currently executing task. */
2563:Src/RTOS/tasks.c **** 					if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
2564:Src/RTOS/tasks.c **** 					{
2565:Src/RTOS/tasks.c **** 						/* Pend the yield to be performed when the scheduler
2566:Src/RTOS/tasks.c **** 						is unsuspended. */
2567:Src/RTOS/tasks.c **** 						xYieldPending = pdTRUE;
2568:Src/RTOS/tasks.c **** 					}
2569:Src/RTOS/tasks.c **** 					else
2570:Src/RTOS/tasks.c **** 					{
2571:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2572:Src/RTOS/tasks.c **** 					}
2573:Src/RTOS/tasks.c **** 				}
2574:Src/RTOS/tasks.c **** 				#endif /* configUSE_PREEMPTION */
2575:Src/RTOS/tasks.c **** 			}
2576:Src/RTOS/tasks.c **** 			else
2577:Src/RTOS/tasks.c **** 			{
2578:Src/RTOS/tasks.c **** 				xReturn = pdFAIL;
2579:Src/RTOS/tasks.c **** 			}
2580:Src/RTOS/tasks.c **** 		}
2581:Src/RTOS/tasks.c **** 		( void ) xTaskResumeAll();
2582:Src/RTOS/tasks.c **** 
2583:Src/RTOS/tasks.c **** 		return xReturn;
2584:Src/RTOS/tasks.c **** 	}
2585:Src/RTOS/tasks.c **** 
2586:Src/RTOS/tasks.c **** #endif /* INCLUDE_xTaskAbortDelay */
2587:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
2588:Src/RTOS/tasks.c **** 
2589:Src/RTOS/tasks.c **** BaseType_t xTaskIncrementTick( void )
2590:Src/RTOS/tasks.c **** {
2591:Src/RTOS/tasks.c **** TCB_t * pxTCB;
2592:Src/RTOS/tasks.c **** TickType_t xItemValue;
2593:Src/RTOS/tasks.c **** BaseType_t xSwitchRequired = pdFALSE;
2594:Src/RTOS/tasks.c **** 
2595:Src/RTOS/tasks.c **** 	/* Called by the portable layer each time a tick interrupt occurs.
2596:Src/RTOS/tasks.c **** 	Increments the tick then checks to see if the new tick value will cause any
2597:Src/RTOS/tasks.c **** 	tasks to be unblocked. */
2598:Src/RTOS/tasks.c **** 	traceTASK_INCREMENT_TICK( xTickCount );
2599:Src/RTOS/tasks.c **** 	if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
2600:Src/RTOS/tasks.c **** 	{
2601:Src/RTOS/tasks.c **** 		/* Minor optimisation.  The tick count cannot change in this
2602:Src/RTOS/tasks.c **** 		block. */
2603:Src/RTOS/tasks.c **** 		const TickType_t xConstTickCount = xTickCount + ( TickType_t ) 1;
2604:Src/RTOS/tasks.c **** 
2605:Src/RTOS/tasks.c **** 		/* Increment the RTOS tick, switching the delayed and overflowed
2606:Src/RTOS/tasks.c **** 		delayed lists if it wraps to 0. */
2607:Src/RTOS/tasks.c **** 		xTickCount = xConstTickCount;
2608:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 52


2609:Src/RTOS/tasks.c **** 		if( xConstTickCount == ( TickType_t ) 0U ) /*lint !e774 'if' does not always evaluate to false as
2610:Src/RTOS/tasks.c **** 		{
2611:Src/RTOS/tasks.c **** 			taskSWITCH_DELAYED_LISTS();
2612:Src/RTOS/tasks.c **** 		}
2613:Src/RTOS/tasks.c **** 		else
2614:Src/RTOS/tasks.c **** 		{
2615:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
2616:Src/RTOS/tasks.c **** 		}
2617:Src/RTOS/tasks.c **** 
2618:Src/RTOS/tasks.c **** 		/* See if this tick has made a timeout expire.  Tasks are stored in
2619:Src/RTOS/tasks.c **** 		the	queue in the order of their wake time - meaning once one task
2620:Src/RTOS/tasks.c **** 		has been found whose block time has not expired there is no need to
2621:Src/RTOS/tasks.c **** 		look any further down the list. */
2622:Src/RTOS/tasks.c **** 		if( xConstTickCount >= xNextTaskUnblockTime )
2623:Src/RTOS/tasks.c **** 		{
2624:Src/RTOS/tasks.c **** 			for( ;; )
2625:Src/RTOS/tasks.c **** 			{
2626:Src/RTOS/tasks.c **** 				if( listLIST_IS_EMPTY( pxDelayedTaskList ) != pdFALSE )
2627:Src/RTOS/tasks.c **** 				{
2628:Src/RTOS/tasks.c **** 					/* The delayed list is empty.  Set xNextTaskUnblockTime
2629:Src/RTOS/tasks.c **** 					to the maximum possible value so it is extremely
2630:Src/RTOS/tasks.c **** 					unlikely that the
2631:Src/RTOS/tasks.c **** 					if( xTickCount >= xNextTaskUnblockTime ) test will pass
2632:Src/RTOS/tasks.c **** 					next time through. */
2633:Src/RTOS/tasks.c **** 					xNextTaskUnblockTime = portMAX_DELAY; /*lint !e961 MISRA exception as the casts are only redun
2634:Src/RTOS/tasks.c **** 					break;
2635:Src/RTOS/tasks.c **** 				}
2636:Src/RTOS/tasks.c **** 				else
2637:Src/RTOS/tasks.c **** 				{
2638:Src/RTOS/tasks.c **** 					/* The delayed list is not empty, get the value of the
2639:Src/RTOS/tasks.c **** 					item at the head of the delayed list.  This is the time
2640:Src/RTOS/tasks.c **** 					at which the task at the head of the delayed list must
2641:Src/RTOS/tasks.c **** 					be removed from the Blocked state. */
2642:Src/RTOS/tasks.c **** 					pxTCB = ( TCB_t * ) listGET_OWNER_OF_HEAD_ENTRY( pxDelayedTaskList );
2643:Src/RTOS/tasks.c **** 					xItemValue = listGET_LIST_ITEM_VALUE( &( pxTCB->xStateListItem ) );
2644:Src/RTOS/tasks.c **** 
2645:Src/RTOS/tasks.c **** 					if( xConstTickCount < xItemValue )
2646:Src/RTOS/tasks.c **** 					{
2647:Src/RTOS/tasks.c **** 						/* It is not time to unblock this item yet, but the
2648:Src/RTOS/tasks.c **** 						item value is the time at which the task at the head
2649:Src/RTOS/tasks.c **** 						of the blocked list must be removed from the Blocked
2650:Src/RTOS/tasks.c **** 						state -	so record the item value in
2651:Src/RTOS/tasks.c **** 						xNextTaskUnblockTime. */
2652:Src/RTOS/tasks.c **** 						xNextTaskUnblockTime = xItemValue;
2653:Src/RTOS/tasks.c **** 						break;
2654:Src/RTOS/tasks.c **** 					}
2655:Src/RTOS/tasks.c **** 					else
2656:Src/RTOS/tasks.c **** 					{
2657:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2658:Src/RTOS/tasks.c **** 					}
2659:Src/RTOS/tasks.c **** 
2660:Src/RTOS/tasks.c **** 					/* It is time to remove the item from the Blocked state. */
2661:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
2662:Src/RTOS/tasks.c **** 
2663:Src/RTOS/tasks.c **** 					/* Is the task waiting on an event also?  If so remove
2664:Src/RTOS/tasks.c **** 					it from the event list. */
2665:Src/RTOS/tasks.c **** 					if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 53


2666:Src/RTOS/tasks.c **** 					{
2667:Src/RTOS/tasks.c **** 						( void ) uxListRemove( &( pxTCB->xEventListItem ) );
2668:Src/RTOS/tasks.c **** 					}
2669:Src/RTOS/tasks.c **** 					else
2670:Src/RTOS/tasks.c **** 					{
2671:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
2672:Src/RTOS/tasks.c **** 					}
2673:Src/RTOS/tasks.c **** 
2674:Src/RTOS/tasks.c **** 					/* Place the unblocked task into the appropriate ready
2675:Src/RTOS/tasks.c **** 					list. */
2676:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
2677:Src/RTOS/tasks.c **** 
2678:Src/RTOS/tasks.c **** 					/* A task being unblocked cannot cause an immediate
2679:Src/RTOS/tasks.c **** 					context switch if preemption is turned off. */
2680:Src/RTOS/tasks.c **** 					#if (  configUSE_PREEMPTION == 1 )
2681:Src/RTOS/tasks.c **** 					{
2682:Src/RTOS/tasks.c **** 						/* Preemption is on, but a context switch should
2683:Src/RTOS/tasks.c **** 						only be performed if the unblocked task has a
2684:Src/RTOS/tasks.c **** 						priority that is equal to or higher than the
2685:Src/RTOS/tasks.c **** 						currently executing task. */
2686:Src/RTOS/tasks.c **** 						if( pxTCB->uxPriority >= pxCurrentTCB->uxPriority )
2687:Src/RTOS/tasks.c **** 						{
2688:Src/RTOS/tasks.c **** 							xSwitchRequired = pdTRUE;
2689:Src/RTOS/tasks.c **** 						}
2690:Src/RTOS/tasks.c **** 						else
2691:Src/RTOS/tasks.c **** 						{
2692:Src/RTOS/tasks.c **** 							mtCOVERAGE_TEST_MARKER();
2693:Src/RTOS/tasks.c **** 						}
2694:Src/RTOS/tasks.c **** 					}
2695:Src/RTOS/tasks.c **** 					#endif /* configUSE_PREEMPTION */
2696:Src/RTOS/tasks.c **** 				}
2697:Src/RTOS/tasks.c **** 			}
2698:Src/RTOS/tasks.c **** 		}
2699:Src/RTOS/tasks.c **** 
2700:Src/RTOS/tasks.c **** 		/* Tasks of equal priority to the currently running task will share
2701:Src/RTOS/tasks.c **** 		processing time (time slice) if preemption is on, and the application
2702:Src/RTOS/tasks.c **** 		writer has not explicitly turned time slicing off. */
2703:Src/RTOS/tasks.c **** 		#if ( ( configUSE_PREEMPTION == 1 ) && ( configUSE_TIME_SLICING == 1 ) )
2704:Src/RTOS/tasks.c **** 		{
2705:Src/RTOS/tasks.c **** 			if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ pxCurrentTCB->uxPriority ] ) ) > ( UBaseType_
2706:Src/RTOS/tasks.c **** 			{
2707:Src/RTOS/tasks.c **** 				xSwitchRequired = pdTRUE;
2708:Src/RTOS/tasks.c **** 			}
2709:Src/RTOS/tasks.c **** 			else
2710:Src/RTOS/tasks.c **** 			{
2711:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
2712:Src/RTOS/tasks.c **** 			}
2713:Src/RTOS/tasks.c **** 		}
2714:Src/RTOS/tasks.c **** 		#endif /* ( ( configUSE_PREEMPTION == 1 ) && ( configUSE_TIME_SLICING == 1 ) ) */
2715:Src/RTOS/tasks.c **** 
2716:Src/RTOS/tasks.c **** 		#if ( configUSE_TICK_HOOK == 1 )
2717:Src/RTOS/tasks.c **** 		{
2718:Src/RTOS/tasks.c **** 			/* Guard against the tick hook being called when the pended tick
2719:Src/RTOS/tasks.c **** 			count is being unwound (when the scheduler is being unlocked). */
2720:Src/RTOS/tasks.c **** 			if( uxPendedTicks == ( UBaseType_t ) 0U )
2721:Src/RTOS/tasks.c **** 			{
2722:Src/RTOS/tasks.c **** 				vApplicationTickHook();
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 54


2723:Src/RTOS/tasks.c **** 			}
2724:Src/RTOS/tasks.c **** 			else
2725:Src/RTOS/tasks.c **** 			{
2726:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
2727:Src/RTOS/tasks.c **** 			}
2728:Src/RTOS/tasks.c **** 		}
2729:Src/RTOS/tasks.c **** 		#endif /* configUSE_TICK_HOOK */
2730:Src/RTOS/tasks.c **** 	}
2731:Src/RTOS/tasks.c **** 	else
2732:Src/RTOS/tasks.c **** 	{
2733:Src/RTOS/tasks.c **** 		++uxPendedTicks;
2734:Src/RTOS/tasks.c **** 
2735:Src/RTOS/tasks.c **** 		/* The tick hook gets called at regular intervals, even if the
2736:Src/RTOS/tasks.c **** 		scheduler is locked. */
2737:Src/RTOS/tasks.c **** 		#if ( configUSE_TICK_HOOK == 1 )
2738:Src/RTOS/tasks.c **** 		{
2739:Src/RTOS/tasks.c **** 			vApplicationTickHook();
2740:Src/RTOS/tasks.c **** 		}
2741:Src/RTOS/tasks.c **** 		#endif
2742:Src/RTOS/tasks.c **** 	}
2743:Src/RTOS/tasks.c **** 
2744:Src/RTOS/tasks.c **** 	#if ( configUSE_PREEMPTION == 1 )
2745:Src/RTOS/tasks.c **** 	{
2746:Src/RTOS/tasks.c **** 		if( xYieldPending != pdFALSE )
2747:Src/RTOS/tasks.c **** 		{
2748:Src/RTOS/tasks.c **** 			xSwitchRequired = pdTRUE;
2749:Src/RTOS/tasks.c **** 		}
2750:Src/RTOS/tasks.c **** 		else
2751:Src/RTOS/tasks.c **** 		{
2752:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
2753:Src/RTOS/tasks.c **** 		}
2754:Src/RTOS/tasks.c **** 	}
2755:Src/RTOS/tasks.c **** 	#endif /* configUSE_PREEMPTION */
2756:Src/RTOS/tasks.c **** 
2757:Src/RTOS/tasks.c **** 	return xSwitchRequired;
2758:Src/RTOS/tasks.c **** }
2759:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2760:Src/RTOS/tasks.c **** 
2761:Src/RTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
2762:Src/RTOS/tasks.c **** 
2763:Src/RTOS/tasks.c **** 	void vTaskSetApplicationTaskTag( TaskHandle_t xTask, TaskHookFunction_t pxHookFunction )
2764:Src/RTOS/tasks.c **** 	{
2765:Src/RTOS/tasks.c **** 	TCB_t *xTCB;
2766:Src/RTOS/tasks.c **** 
2767:Src/RTOS/tasks.c **** 		/* If xTask is NULL then it is the task hook of the calling task that is
2768:Src/RTOS/tasks.c **** 		getting set. */
2769:Src/RTOS/tasks.c **** 		if( xTask == NULL )
2770:Src/RTOS/tasks.c **** 		{
2771:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) pxCurrentTCB;
2772:Src/RTOS/tasks.c **** 		}
2773:Src/RTOS/tasks.c **** 		else
2774:Src/RTOS/tasks.c **** 		{
2775:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) xTask;
2776:Src/RTOS/tasks.c **** 		}
2777:Src/RTOS/tasks.c **** 
2778:Src/RTOS/tasks.c **** 		/* Save the hook function in the TCB.  A critical section is required as
2779:Src/RTOS/tasks.c **** 		the value can be accessed from an interrupt. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 55


2780:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
2781:Src/RTOS/tasks.c **** 			xTCB->pxTaskTag = pxHookFunction;
2782:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
2783:Src/RTOS/tasks.c **** 	}
2784:Src/RTOS/tasks.c **** 
2785:Src/RTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
2786:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2787:Src/RTOS/tasks.c **** 
2788:Src/RTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
2789:Src/RTOS/tasks.c **** 
2790:Src/RTOS/tasks.c **** 	TaskHookFunction_t xTaskGetApplicationTaskTag( TaskHandle_t xTask )
2791:Src/RTOS/tasks.c **** 	{
2792:Src/RTOS/tasks.c **** 	TCB_t *xTCB;
2793:Src/RTOS/tasks.c **** 	TaskHookFunction_t xReturn;
2794:Src/RTOS/tasks.c **** 
2795:Src/RTOS/tasks.c **** 		/* If xTask is NULL then we are setting our own task hook. */
2796:Src/RTOS/tasks.c **** 		if( xTask == NULL )
2797:Src/RTOS/tasks.c **** 		{
2798:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) pxCurrentTCB;
2799:Src/RTOS/tasks.c **** 		}
2800:Src/RTOS/tasks.c **** 		else
2801:Src/RTOS/tasks.c **** 		{
2802:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) xTask;
2803:Src/RTOS/tasks.c **** 		}
2804:Src/RTOS/tasks.c **** 
2805:Src/RTOS/tasks.c **** 		/* Save the hook function in the TCB.  A critical section is required as
2806:Src/RTOS/tasks.c **** 		the value can be accessed from an interrupt. */
2807:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
2808:Src/RTOS/tasks.c **** 		{
2809:Src/RTOS/tasks.c **** 			xReturn = xTCB->pxTaskTag;
2810:Src/RTOS/tasks.c **** 		}
2811:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
2812:Src/RTOS/tasks.c **** 
2813:Src/RTOS/tasks.c **** 		return xReturn;
2814:Src/RTOS/tasks.c **** 	}
2815:Src/RTOS/tasks.c **** 
2816:Src/RTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
2817:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2818:Src/RTOS/tasks.c **** 
2819:Src/RTOS/tasks.c **** #if ( configUSE_APPLICATION_TASK_TAG == 1 )
2820:Src/RTOS/tasks.c **** 
2821:Src/RTOS/tasks.c **** 	BaseType_t xTaskCallApplicationTaskHook( TaskHandle_t xTask, void *pvParameter )
2822:Src/RTOS/tasks.c **** 	{
2823:Src/RTOS/tasks.c **** 	TCB_t *xTCB;
2824:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
2825:Src/RTOS/tasks.c **** 
2826:Src/RTOS/tasks.c **** 		/* If xTask is NULL then we are calling our own task hook. */
2827:Src/RTOS/tasks.c **** 		if( xTask == NULL )
2828:Src/RTOS/tasks.c **** 		{
2829:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) pxCurrentTCB;
2830:Src/RTOS/tasks.c **** 		}
2831:Src/RTOS/tasks.c **** 		else
2832:Src/RTOS/tasks.c **** 		{
2833:Src/RTOS/tasks.c **** 			xTCB = ( TCB_t * ) xTask;
2834:Src/RTOS/tasks.c **** 		}
2835:Src/RTOS/tasks.c **** 
2836:Src/RTOS/tasks.c **** 		if( xTCB->pxTaskTag != NULL )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 56


2837:Src/RTOS/tasks.c **** 		{
2838:Src/RTOS/tasks.c **** 			xReturn = xTCB->pxTaskTag( pvParameter );
2839:Src/RTOS/tasks.c **** 		}
2840:Src/RTOS/tasks.c **** 		else
2841:Src/RTOS/tasks.c **** 		{
2842:Src/RTOS/tasks.c **** 			xReturn = pdFAIL;
2843:Src/RTOS/tasks.c **** 		}
2844:Src/RTOS/tasks.c **** 
2845:Src/RTOS/tasks.c **** 		return xReturn;
2846:Src/RTOS/tasks.c **** 	}
2847:Src/RTOS/tasks.c **** 
2848:Src/RTOS/tasks.c **** #endif /* configUSE_APPLICATION_TASK_TAG */
2849:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2850:Src/RTOS/tasks.c **** 
2851:Src/RTOS/tasks.c **** void vTaskSwitchContext( void )
2852:Src/RTOS/tasks.c **** {
2853:Src/RTOS/tasks.c **** 	if( uxSchedulerSuspended != ( UBaseType_t ) pdFALSE )
2854:Src/RTOS/tasks.c **** 	{
2855:Src/RTOS/tasks.c **** 		/* The scheduler is currently suspended - do not allow a context
2856:Src/RTOS/tasks.c **** 		switch. */
2857:Src/RTOS/tasks.c **** 		xYieldPending = pdTRUE;
2858:Src/RTOS/tasks.c **** 	}
2859:Src/RTOS/tasks.c **** 	else
2860:Src/RTOS/tasks.c **** 	{
2861:Src/RTOS/tasks.c **** 		xYieldPending = pdFALSE;
2862:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_OUT();
2863:Src/RTOS/tasks.c **** 
2864:Src/RTOS/tasks.c **** 		#if ( configGENERATE_RUN_TIME_STATS == 1 )
2865:Src/RTOS/tasks.c **** 		{
2866:Src/RTOS/tasks.c **** 				#ifdef portALT_GET_RUN_TIME_COUNTER_VALUE
2867:Src/RTOS/tasks.c **** 					portALT_GET_RUN_TIME_COUNTER_VALUE( ulTotalRunTime );
2868:Src/RTOS/tasks.c **** 				#else
2869:Src/RTOS/tasks.c **** 					ulTotalRunTime = portGET_RUN_TIME_COUNTER_VALUE();
2870:Src/RTOS/tasks.c **** 				#endif
2871:Src/RTOS/tasks.c **** 
2872:Src/RTOS/tasks.c **** 				/* Add the amount of time the task has been running to the
2873:Src/RTOS/tasks.c **** 				accumulated time so far.  The time the task started running was
2874:Src/RTOS/tasks.c **** 				stored in ulTaskSwitchedInTime.  Note that there is no overflow
2875:Src/RTOS/tasks.c **** 				protection here so count values are only valid until the timer
2876:Src/RTOS/tasks.c **** 				overflows.  The guard against negative values is to protect
2877:Src/RTOS/tasks.c **** 				against suspect run time stat counter implementations - which
2878:Src/RTOS/tasks.c **** 				are provided by the application, not the kernel. */
2879:Src/RTOS/tasks.c **** 				if( ulTotalRunTime > ulTaskSwitchedInTime )
2880:Src/RTOS/tasks.c **** 				{
2881:Src/RTOS/tasks.c **** 					pxCurrentTCB->ulRunTimeCounter += ( ulTotalRunTime - ulTaskSwitchedInTime );
2882:Src/RTOS/tasks.c **** 				}
2883:Src/RTOS/tasks.c **** 				else
2884:Src/RTOS/tasks.c **** 				{
2885:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
2886:Src/RTOS/tasks.c **** 				}
2887:Src/RTOS/tasks.c **** 				ulTaskSwitchedInTime = ulTotalRunTime;
2888:Src/RTOS/tasks.c **** 		}
2889:Src/RTOS/tasks.c **** 		#endif /* configGENERATE_RUN_TIME_STATS */
2890:Src/RTOS/tasks.c **** 
2891:Src/RTOS/tasks.c **** 		/* Check for stack overflow, if configured. */
2892:Src/RTOS/tasks.c **** 		taskCHECK_FOR_STACK_OVERFLOW();
2893:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 57


2894:Src/RTOS/tasks.c **** 		/* Select a new task to run using either the generic C or port
2895:Src/RTOS/tasks.c **** 		optimised asm code. */
2896:Src/RTOS/tasks.c **** 		taskSELECT_HIGHEST_PRIORITY_TASK();
2897:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
2898:Src/RTOS/tasks.c **** 
2899:Src/RTOS/tasks.c **** 		#if ( configUSE_NEWLIB_REENTRANT == 1 )
2900:Src/RTOS/tasks.c **** 		{
2901:Src/RTOS/tasks.c **** 			/* Switch Newlib's _impure_ptr variable to point to the _reent
2902:Src/RTOS/tasks.c **** 			structure specific to this task. */
2903:Src/RTOS/tasks.c **** 			_impure_ptr = &( pxCurrentTCB->xNewLib_reent );
2904:Src/RTOS/tasks.c **** 		}
2905:Src/RTOS/tasks.c **** 		#endif /* configUSE_NEWLIB_REENTRANT */
2906:Src/RTOS/tasks.c **** 	}
2907:Src/RTOS/tasks.c **** }
2908:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2909:Src/RTOS/tasks.c **** 
2910:Src/RTOS/tasks.c **** void vTaskPlaceOnEventList( List_t * const pxEventList, const TickType_t xTicksToWait )
2911:Src/RTOS/tasks.c **** {
2912:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
2913:Src/RTOS/tasks.c **** 
2914:Src/RTOS/tasks.c **** 	/* THIS FUNCTION MUST BE CALLED WITH EITHER INTERRUPTS DISABLED OR THE
2915:Src/RTOS/tasks.c **** 	SCHEDULER SUSPENDED AND THE QUEUE BEING ACCESSED LOCKED. */
2916:Src/RTOS/tasks.c **** 
2917:Src/RTOS/tasks.c **** 	/* Place the event list item of the TCB in the appropriate event list.
2918:Src/RTOS/tasks.c **** 	This is placed in the list in priority order so the highest priority task
2919:Src/RTOS/tasks.c **** 	is the first to be woken by the event.  The queue that contains the event
2920:Src/RTOS/tasks.c **** 	list is locked, preventing simultaneous access from interrupts. */
2921:Src/RTOS/tasks.c **** 	vListInsert( pxEventList, &( pxCurrentTCB->xEventListItem ) );
2922:Src/RTOS/tasks.c **** 
2923:Src/RTOS/tasks.c **** 	prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
2924:Src/RTOS/tasks.c **** }
2925:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2926:Src/RTOS/tasks.c **** 
2927:Src/RTOS/tasks.c **** void vTaskPlaceOnUnorderedEventList( List_t * pxEventList, const TickType_t xItemValue, const TickT
2928:Src/RTOS/tasks.c **** {
2929:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
2930:Src/RTOS/tasks.c **** 
2931:Src/RTOS/tasks.c **** 	/* THIS FUNCTION MUST BE CALLED WITH THE SCHEDULER SUSPENDED.  It is used by
2932:Src/RTOS/tasks.c **** 	the event groups implementation. */
2933:Src/RTOS/tasks.c **** 	configASSERT( uxSchedulerSuspended != 0 );
2934:Src/RTOS/tasks.c **** 
2935:Src/RTOS/tasks.c **** 	/* Store the item value in the event list item.  It is safe to access the
2936:Src/RTOS/tasks.c **** 	event list item here as interrupts won't access the event list item of a
2937:Src/RTOS/tasks.c **** 	task that is not in the Blocked state. */
2938:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ), xItemValue | taskEVENT_LIST_ITEM_VALUE
2939:Src/RTOS/tasks.c **** 
2940:Src/RTOS/tasks.c **** 	/* Place the event list item of the TCB at the end of the appropriate event
2941:Src/RTOS/tasks.c **** 	list.  It is safe to access the event list here because it is part of an
2942:Src/RTOS/tasks.c **** 	event group implementation - and interrupts don't access event groups
2943:Src/RTOS/tasks.c **** 	directly (instead they access them indirectly by pending function calls to
2944:Src/RTOS/tasks.c **** 	the task level). */
2945:Src/RTOS/tasks.c **** 	vListInsertEnd( pxEventList, &( pxCurrentTCB->xEventListItem ) );
2946:Src/RTOS/tasks.c **** 
2947:Src/RTOS/tasks.c **** 	prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
2948:Src/RTOS/tasks.c **** }
2949:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2950:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 58


2951:Src/RTOS/tasks.c **** #if( configUSE_TIMERS == 1 )
2952:Src/RTOS/tasks.c **** 
2953:Src/RTOS/tasks.c **** 	void vTaskPlaceOnEventListRestricted( List_t * const pxEventList, TickType_t xTicksToWait, const B
2954:Src/RTOS/tasks.c **** 	{
2955:Src/RTOS/tasks.c **** 		configASSERT( pxEventList );
2956:Src/RTOS/tasks.c **** 
2957:Src/RTOS/tasks.c **** 		/* This function should not be called by application code hence the
2958:Src/RTOS/tasks.c **** 		'Restricted' in its name.  It is not part of the public API.  It is
2959:Src/RTOS/tasks.c **** 		designed for use by kernel code, and has special calling requirements -
2960:Src/RTOS/tasks.c **** 		it should be called with the scheduler suspended. */
2961:Src/RTOS/tasks.c **** 
2962:Src/RTOS/tasks.c **** 
2963:Src/RTOS/tasks.c **** 		/* Place the event list item of the TCB in the appropriate event list.
2964:Src/RTOS/tasks.c **** 		In this case it is assume that this is the only task that is going to
2965:Src/RTOS/tasks.c **** 		be waiting on this event list, so the faster vListInsertEnd() function
2966:Src/RTOS/tasks.c **** 		can be used in place of vListInsert. */
2967:Src/RTOS/tasks.c **** 		vListInsertEnd( pxEventList, &( pxCurrentTCB->xEventListItem ) );
2968:Src/RTOS/tasks.c **** 
2969:Src/RTOS/tasks.c **** 		/* If the task should block indefinitely then set the block time to a
2970:Src/RTOS/tasks.c **** 		value that will be recognised as an indefinite delay inside the
2971:Src/RTOS/tasks.c **** 		prvAddCurrentTaskToDelayedList() function. */
2972:Src/RTOS/tasks.c **** 		if( xWaitIndefinitely != pdFALSE )
2973:Src/RTOS/tasks.c **** 		{
2974:Src/RTOS/tasks.c **** 			xTicksToWait = portMAX_DELAY;
2975:Src/RTOS/tasks.c **** 		}
2976:Src/RTOS/tasks.c **** 
2977:Src/RTOS/tasks.c **** 		traceTASK_DELAY_UNTIL( ( xTickCount + xTicksToWait ) );
2978:Src/RTOS/tasks.c **** 		prvAddCurrentTaskToDelayedList( xTicksToWait, xWaitIndefinitely );
2979:Src/RTOS/tasks.c **** 	}
2980:Src/RTOS/tasks.c **** 
2981:Src/RTOS/tasks.c **** #endif /* configUSE_TIMERS */
2982:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
2983:Src/RTOS/tasks.c **** 
2984:Src/RTOS/tasks.c **** BaseType_t xTaskRemoveFromEventList( const List_t * const pxEventList )
2985:Src/RTOS/tasks.c **** {
2986:Src/RTOS/tasks.c **** TCB_t *pxUnblockedTCB;
2987:Src/RTOS/tasks.c **** BaseType_t xReturn;
2988:Src/RTOS/tasks.c **** 
2989:Src/RTOS/tasks.c **** 	/* THIS FUNCTION MUST BE CALLED FROM A CRITICAL SECTION.  It can also be
2990:Src/RTOS/tasks.c **** 	called from a critical section within an ISR. */
2991:Src/RTOS/tasks.c **** 
2992:Src/RTOS/tasks.c **** 	/* The event list is sorted in priority order, so the first in the list can
2993:Src/RTOS/tasks.c **** 	be removed as it is known to be the highest priority.  Remove the TCB from
2994:Src/RTOS/tasks.c **** 	the delayed list, and add it to the ready list.
2995:Src/RTOS/tasks.c **** 
2996:Src/RTOS/tasks.c **** 	If an event is for a queue that is locked then this function will never
2997:Src/RTOS/tasks.c **** 	get called - the lock count on the queue will get modified instead.  This
2998:Src/RTOS/tasks.c **** 	means exclusive access to the event list is guaranteed here.
2999:Src/RTOS/tasks.c **** 
3000:Src/RTOS/tasks.c **** 	This function assumes that a check has already been made to ensure that
3001:Src/RTOS/tasks.c **** 	pxEventList is not empty. */
3002:Src/RTOS/tasks.c **** 	pxUnblockedTCB = ( TCB_t * ) listGET_OWNER_OF_HEAD_ENTRY( pxEventList );
3003:Src/RTOS/tasks.c **** 	configASSERT( pxUnblockedTCB );
3004:Src/RTOS/tasks.c **** 	( void ) uxListRemove( &( pxUnblockedTCB->xEventListItem ) );
3005:Src/RTOS/tasks.c **** 
3006:Src/RTOS/tasks.c **** 	if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
3007:Src/RTOS/tasks.c **** 	{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 59


3008:Src/RTOS/tasks.c **** 		( void ) uxListRemove( &( pxUnblockedTCB->xStateListItem ) );
3009:Src/RTOS/tasks.c **** 		prvAddTaskToReadyList( pxUnblockedTCB );
3010:Src/RTOS/tasks.c **** 	}
3011:Src/RTOS/tasks.c **** 	else
3012:Src/RTOS/tasks.c **** 	{
3013:Src/RTOS/tasks.c **** 		/* The delayed and ready lists cannot be accessed, so hold this task
3014:Src/RTOS/tasks.c **** 		pending until the scheduler is resumed. */
3015:Src/RTOS/tasks.c **** 		vListInsertEnd( &( xPendingReadyList ), &( pxUnblockedTCB->xEventListItem ) );
3016:Src/RTOS/tasks.c **** 	}
3017:Src/RTOS/tasks.c **** 
3018:Src/RTOS/tasks.c **** 	if( pxUnblockedTCB->uxPriority > pxCurrentTCB->uxPriority )
3019:Src/RTOS/tasks.c **** 	{
3020:Src/RTOS/tasks.c **** 		/* Return true if the task removed from the event list has a higher
3021:Src/RTOS/tasks.c **** 		priority than the calling task.  This allows the calling task to know if
3022:Src/RTOS/tasks.c **** 		it should force a context switch now. */
3023:Src/RTOS/tasks.c **** 		xReturn = pdTRUE;
3024:Src/RTOS/tasks.c **** 
3025:Src/RTOS/tasks.c **** 		/* Mark that a yield is pending in case the user is not using the
3026:Src/RTOS/tasks.c **** 		"xHigherPriorityTaskWoken" parameter to an ISR safe FreeRTOS function. */
3027:Src/RTOS/tasks.c **** 		xYieldPending = pdTRUE;
3028:Src/RTOS/tasks.c **** 	}
3029:Src/RTOS/tasks.c **** 	else
3030:Src/RTOS/tasks.c **** 	{
3031:Src/RTOS/tasks.c **** 		xReturn = pdFALSE;
3032:Src/RTOS/tasks.c **** 	}
3033:Src/RTOS/tasks.c **** 
3034:Src/RTOS/tasks.c **** 	#if( configUSE_TICKLESS_IDLE != 0 )
3035:Src/RTOS/tasks.c **** 	{
3036:Src/RTOS/tasks.c **** 		/* If a task is blocked on a kernel object then xNextTaskUnblockTime
3037:Src/RTOS/tasks.c **** 		might be set to the blocked task's time out time.  If the task is
3038:Src/RTOS/tasks.c **** 		unblocked for a reason other than a timeout xNextTaskUnblockTime is
3039:Src/RTOS/tasks.c **** 		normally left unchanged, because it is automatically reset to a new
3040:Src/RTOS/tasks.c **** 		value when the tick count equals xNextTaskUnblockTime.  However if
3041:Src/RTOS/tasks.c **** 		tickless idling is used it might be more important to enter sleep mode
3042:Src/RTOS/tasks.c **** 		at the earliest possible time - so reset xNextTaskUnblockTime here to
3043:Src/RTOS/tasks.c **** 		ensure it is updated at the earliest possible time. */
3044:Src/RTOS/tasks.c **** 		prvResetNextTaskUnblockTime();
3045:Src/RTOS/tasks.c **** 	}
3046:Src/RTOS/tasks.c **** 	#endif
3047:Src/RTOS/tasks.c **** 
3048:Src/RTOS/tasks.c **** 	return xReturn;
3049:Src/RTOS/tasks.c **** }
3050:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3051:Src/RTOS/tasks.c **** 
3052:Src/RTOS/tasks.c **** void vTaskRemoveFromUnorderedEventList( ListItem_t * pxEventListItem, const TickType_t xItemValue )
3053:Src/RTOS/tasks.c **** {
3054:Src/RTOS/tasks.c **** TCB_t *pxUnblockedTCB;
3055:Src/RTOS/tasks.c **** 
3056:Src/RTOS/tasks.c **** 	/* THIS FUNCTION MUST BE CALLED WITH THE SCHEDULER SUSPENDED.  It is used by
3057:Src/RTOS/tasks.c **** 	the event flags implementation. */
3058:Src/RTOS/tasks.c **** 	configASSERT( uxSchedulerSuspended != pdFALSE );
3059:Src/RTOS/tasks.c **** 
3060:Src/RTOS/tasks.c **** 	/* Store the new item value in the event list. */
3061:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_VALUE( pxEventListItem, xItemValue | taskEVENT_LIST_ITEM_VALUE_IN_USE );
3062:Src/RTOS/tasks.c **** 
3063:Src/RTOS/tasks.c **** 	/* Remove the event list form the event flag.  Interrupts do not access
3064:Src/RTOS/tasks.c **** 	event flags. */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 60


3065:Src/RTOS/tasks.c **** 	pxUnblockedTCB = ( TCB_t * ) listGET_LIST_ITEM_OWNER( pxEventListItem );
3066:Src/RTOS/tasks.c **** 	configASSERT( pxUnblockedTCB );
3067:Src/RTOS/tasks.c **** 	( void ) uxListRemove( pxEventListItem );
3068:Src/RTOS/tasks.c **** 
3069:Src/RTOS/tasks.c **** 	/* Remove the task from the delayed list and add it to the ready list.  The
3070:Src/RTOS/tasks.c **** 	scheduler is suspended so interrupts will not be accessing the ready
3071:Src/RTOS/tasks.c **** 	lists. */
3072:Src/RTOS/tasks.c **** 	( void ) uxListRemove( &( pxUnblockedTCB->xStateListItem ) );
3073:Src/RTOS/tasks.c **** 	prvAddTaskToReadyList( pxUnblockedTCB );
3074:Src/RTOS/tasks.c **** 
3075:Src/RTOS/tasks.c **** 	if( pxUnblockedTCB->uxPriority > pxCurrentTCB->uxPriority )
3076:Src/RTOS/tasks.c **** 	{
3077:Src/RTOS/tasks.c **** 		/* The unblocked task has a priority above that of the calling task, so
3078:Src/RTOS/tasks.c **** 		a context switch is required.  This function is called with the
3079:Src/RTOS/tasks.c **** 		scheduler suspended so xYieldPending is set so the context switch
3080:Src/RTOS/tasks.c **** 		occurs immediately that the scheduler is resumed (unsuspended). */
3081:Src/RTOS/tasks.c **** 		xYieldPending = pdTRUE;
3082:Src/RTOS/tasks.c **** 	}
3083:Src/RTOS/tasks.c **** }
3084:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3085:Src/RTOS/tasks.c **** 
3086:Src/RTOS/tasks.c **** void vTaskSetTimeOutState( TimeOut_t * const pxTimeOut )
3087:Src/RTOS/tasks.c **** {
3088:Src/RTOS/tasks.c **** 	configASSERT( pxTimeOut );
3089:Src/RTOS/tasks.c **** 	taskENTER_CRITICAL();
3090:Src/RTOS/tasks.c **** 	{
3091:Src/RTOS/tasks.c **** 		pxTimeOut->xOverflowCount = xNumOfOverflows;
3092:Src/RTOS/tasks.c **** 		pxTimeOut->xTimeOnEntering = xTickCount;
3093:Src/RTOS/tasks.c **** 	}
3094:Src/RTOS/tasks.c **** 	taskEXIT_CRITICAL();
3095:Src/RTOS/tasks.c **** }
3096:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3097:Src/RTOS/tasks.c **** 
3098:Src/RTOS/tasks.c **** void vTaskInternalSetTimeOutState( TimeOut_t * const pxTimeOut )
3099:Src/RTOS/tasks.c **** {
3100:Src/RTOS/tasks.c **** 	/* For internal use only as it does not use a critical section. */
3101:Src/RTOS/tasks.c **** 	pxTimeOut->xOverflowCount = xNumOfOverflows;
3102:Src/RTOS/tasks.c **** 	pxTimeOut->xTimeOnEntering = xTickCount;
3103:Src/RTOS/tasks.c **** }
3104:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3105:Src/RTOS/tasks.c **** 
3106:Src/RTOS/tasks.c **** BaseType_t xTaskCheckForTimeOut( TimeOut_t * const pxTimeOut, TickType_t * const pxTicksToWait )
3107:Src/RTOS/tasks.c **** {
3108:Src/RTOS/tasks.c **** BaseType_t xReturn;
3109:Src/RTOS/tasks.c **** 
3110:Src/RTOS/tasks.c **** 	configASSERT( pxTimeOut );
3111:Src/RTOS/tasks.c **** 	configASSERT( pxTicksToWait );
3112:Src/RTOS/tasks.c **** 
3113:Src/RTOS/tasks.c **** 	taskENTER_CRITICAL();
3114:Src/RTOS/tasks.c **** 	{
3115:Src/RTOS/tasks.c **** 		/* Minor optimisation.  The tick count cannot change in this block. */
3116:Src/RTOS/tasks.c **** 		const TickType_t xConstTickCount = xTickCount;
3117:Src/RTOS/tasks.c **** 		const TickType_t xElapsedTime = xConstTickCount - pxTimeOut->xTimeOnEntering;
3118:Src/RTOS/tasks.c **** 
3119:Src/RTOS/tasks.c **** 		#if( INCLUDE_xTaskAbortDelay == 1 )
3120:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->ucDelayAborted != pdFALSE )
3121:Src/RTOS/tasks.c **** 			{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 61


3122:Src/RTOS/tasks.c **** 				/* The delay was aborted, which is not the same as a time out,
3123:Src/RTOS/tasks.c **** 				but has the same result. */
3124:Src/RTOS/tasks.c **** 				pxCurrentTCB->ucDelayAborted = pdFALSE;
3125:Src/RTOS/tasks.c **** 				xReturn = pdTRUE;
3126:Src/RTOS/tasks.c **** 			}
3127:Src/RTOS/tasks.c **** 			else
3128:Src/RTOS/tasks.c **** 		#endif
3129:Src/RTOS/tasks.c **** 
3130:Src/RTOS/tasks.c **** 		#if ( INCLUDE_vTaskSuspend == 1 )
3131:Src/RTOS/tasks.c **** 			if( *pxTicksToWait == portMAX_DELAY )
3132:Src/RTOS/tasks.c **** 			{
3133:Src/RTOS/tasks.c **** 				/* If INCLUDE_vTaskSuspend is set to 1 and the block time
3134:Src/RTOS/tasks.c **** 				specified is the maximum block time then the task should block
3135:Src/RTOS/tasks.c **** 				indefinitely, and therefore never time out. */
3136:Src/RTOS/tasks.c **** 				xReturn = pdFALSE;
3137:Src/RTOS/tasks.c **** 			}
3138:Src/RTOS/tasks.c **** 			else
3139:Src/RTOS/tasks.c **** 		#endif
3140:Src/RTOS/tasks.c **** 
3141:Src/RTOS/tasks.c **** 		if( ( xNumOfOverflows != pxTimeOut->xOverflowCount ) && ( xConstTickCount >= pxTimeOut->xTimeOnEn
3142:Src/RTOS/tasks.c **** 		{
3143:Src/RTOS/tasks.c **** 			/* The tick count is greater than the time at which
3144:Src/RTOS/tasks.c **** 			vTaskSetTimeout() was called, but has also overflowed since
3145:Src/RTOS/tasks.c **** 			vTaskSetTimeOut() was called.  It must have wrapped all the way
3146:Src/RTOS/tasks.c **** 			around and gone past again. This passed since vTaskSetTimeout()
3147:Src/RTOS/tasks.c **** 			was called. */
3148:Src/RTOS/tasks.c **** 			xReturn = pdTRUE;
3149:Src/RTOS/tasks.c **** 		}
3150:Src/RTOS/tasks.c **** 		else if( xElapsedTime < *pxTicksToWait ) /*lint !e961 Explicit casting is only redundant with som
3151:Src/RTOS/tasks.c **** 		{
3152:Src/RTOS/tasks.c **** 			/* Not a genuine timeout. Adjust parameters for time remaining. */
3153:Src/RTOS/tasks.c **** 			*pxTicksToWait -= xElapsedTime;
3154:Src/RTOS/tasks.c **** 			vTaskInternalSetTimeOutState( pxTimeOut );
3155:Src/RTOS/tasks.c **** 			xReturn = pdFALSE;
3156:Src/RTOS/tasks.c **** 		}
3157:Src/RTOS/tasks.c **** 		else
3158:Src/RTOS/tasks.c **** 		{
3159:Src/RTOS/tasks.c **** 			*pxTicksToWait = 0;
3160:Src/RTOS/tasks.c **** 			xReturn = pdTRUE;
3161:Src/RTOS/tasks.c **** 		}
3162:Src/RTOS/tasks.c **** 	}
3163:Src/RTOS/tasks.c **** 	taskEXIT_CRITICAL();
3164:Src/RTOS/tasks.c **** 
3165:Src/RTOS/tasks.c **** 	return xReturn;
3166:Src/RTOS/tasks.c **** }
3167:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3168:Src/RTOS/tasks.c **** 
3169:Src/RTOS/tasks.c **** void vTaskMissedYield( void )
3170:Src/RTOS/tasks.c **** {
3171:Src/RTOS/tasks.c **** 	xYieldPending = pdTRUE;
3172:Src/RTOS/tasks.c **** }
3173:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3174:Src/RTOS/tasks.c **** 
3175:Src/RTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
3176:Src/RTOS/tasks.c **** 
3177:Src/RTOS/tasks.c **** 	UBaseType_t uxTaskGetTaskNumber( TaskHandle_t xTask )
3178:Src/RTOS/tasks.c **** 	{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 62


3179:Src/RTOS/tasks.c **** 	UBaseType_t uxReturn;
3180:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3181:Src/RTOS/tasks.c **** 
3182:Src/RTOS/tasks.c **** 		if( xTask != NULL )
3183:Src/RTOS/tasks.c **** 		{
3184:Src/RTOS/tasks.c **** 			pxTCB = ( TCB_t * ) xTask;
3185:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxTaskNumber;
3186:Src/RTOS/tasks.c **** 		}
3187:Src/RTOS/tasks.c **** 		else
3188:Src/RTOS/tasks.c **** 		{
3189:Src/RTOS/tasks.c **** 			uxReturn = 0U;
3190:Src/RTOS/tasks.c **** 		}
3191:Src/RTOS/tasks.c **** 
3192:Src/RTOS/tasks.c **** 		return uxReturn;
3193:Src/RTOS/tasks.c **** 	}
3194:Src/RTOS/tasks.c **** 
3195:Src/RTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
3196:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3197:Src/RTOS/tasks.c **** 
3198:Src/RTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
3199:Src/RTOS/tasks.c **** 
3200:Src/RTOS/tasks.c **** 	void vTaskSetTaskNumber( TaskHandle_t xTask, const UBaseType_t uxHandle )
3201:Src/RTOS/tasks.c **** 	{
3202:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3203:Src/RTOS/tasks.c **** 
3204:Src/RTOS/tasks.c **** 		if( xTask != NULL )
3205:Src/RTOS/tasks.c **** 		{
3206:Src/RTOS/tasks.c **** 			pxTCB = ( TCB_t * ) xTask;
3207:Src/RTOS/tasks.c **** 			pxTCB->uxTaskNumber = uxHandle;
3208:Src/RTOS/tasks.c **** 		}
3209:Src/RTOS/tasks.c **** 	}
3210:Src/RTOS/tasks.c **** 
3211:Src/RTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
3212:Src/RTOS/tasks.c **** 
3213:Src/RTOS/tasks.c **** /*
3214:Src/RTOS/tasks.c ****  * -----------------------------------------------------------
3215:Src/RTOS/tasks.c ****  * The Idle task.
3216:Src/RTOS/tasks.c ****  * ----------------------------------------------------------
3217:Src/RTOS/tasks.c ****  *
3218:Src/RTOS/tasks.c ****  * The portTASK_FUNCTION() macro is used to allow port/compiler specific
3219:Src/RTOS/tasks.c ****  * language extensions.  The equivalent prototype for this function is:
3220:Src/RTOS/tasks.c ****  *
3221:Src/RTOS/tasks.c ****  * void prvIdleTask( void *pvParameters );
3222:Src/RTOS/tasks.c ****  *
3223:Src/RTOS/tasks.c ****  */
3224:Src/RTOS/tasks.c **** static portTASK_FUNCTION( prvIdleTask, pvParameters )
3225:Src/RTOS/tasks.c **** {
3226:Src/RTOS/tasks.c **** 	/* Stop warnings. */
3227:Src/RTOS/tasks.c **** 	( void ) pvParameters;
3228:Src/RTOS/tasks.c **** 
3229:Src/RTOS/tasks.c **** 	/** THIS IS THE RTOS IDLE TASK - WHICH IS CREATED AUTOMATICALLY WHEN THE
3230:Src/RTOS/tasks.c **** 	SCHEDULER IS STARTED. **/
3231:Src/RTOS/tasks.c **** 
3232:Src/RTOS/tasks.c **** 	/* In case a task that has a secure context deletes itself, in which case
3233:Src/RTOS/tasks.c **** 	the idle task is responsible for deleting the task's secure context, if
3234:Src/RTOS/tasks.c **** 	any. */
3235:Src/RTOS/tasks.c **** 	portTASK_CALLS_SECURE_FUNCTIONS();
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 63


3236:Src/RTOS/tasks.c **** 
3237:Src/RTOS/tasks.c **** 	for( ;; )
3238:Src/RTOS/tasks.c **** 	{
3239:Src/RTOS/tasks.c **** 		/* See if any tasks have deleted themselves - if so then the idle task
3240:Src/RTOS/tasks.c **** 		is responsible for freeing the deleted task's TCB and stack. */
3241:Src/RTOS/tasks.c **** 		prvCheckTasksWaitingTermination();
3242:Src/RTOS/tasks.c **** 
3243:Src/RTOS/tasks.c **** 		#if ( configUSE_PREEMPTION == 0 )
3244:Src/RTOS/tasks.c **** 		{
3245:Src/RTOS/tasks.c **** 			/* If we are not using preemption we keep forcing a task switch to
3246:Src/RTOS/tasks.c **** 			see if any other task has become available.  If we are using
3247:Src/RTOS/tasks.c **** 			preemption we don't need to do this as any task becoming available
3248:Src/RTOS/tasks.c **** 			will automatically get the processor anyway. */
3249:Src/RTOS/tasks.c **** 			taskYIELD();
3250:Src/RTOS/tasks.c **** 		}
3251:Src/RTOS/tasks.c **** 		#endif /* configUSE_PREEMPTION */
3252:Src/RTOS/tasks.c **** 
3253:Src/RTOS/tasks.c **** 		#if ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) )
3254:Src/RTOS/tasks.c **** 		{
3255:Src/RTOS/tasks.c **** 			/* When using preemption tasks of equal priority will be
3256:Src/RTOS/tasks.c **** 			timesliced.  If a task that is sharing the idle priority is ready
3257:Src/RTOS/tasks.c **** 			to run then the idle task should yield before the end of the
3258:Src/RTOS/tasks.c **** 			timeslice.
3259:Src/RTOS/tasks.c **** 
3260:Src/RTOS/tasks.c **** 			A critical region is not required here as we are just reading from
3261:Src/RTOS/tasks.c **** 			the list, and an occasional incorrect value will not matter.  If
3262:Src/RTOS/tasks.c **** 			the ready list at the idle priority contains more than one task
3263:Src/RTOS/tasks.c **** 			then a task other than the idle task is ready to execute. */
3264:Src/RTOS/tasks.c **** 			if( listCURRENT_LIST_LENGTH( &( pxReadyTasksLists[ tskIDLE_PRIORITY ] ) ) > ( UBaseType_t ) 1 )
3265:Src/RTOS/tasks.c **** 			{
3266:Src/RTOS/tasks.c **** 				taskYIELD();
3267:Src/RTOS/tasks.c **** 			}
3268:Src/RTOS/tasks.c **** 			else
3269:Src/RTOS/tasks.c **** 			{
3270:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
3271:Src/RTOS/tasks.c **** 			}
3272:Src/RTOS/tasks.c **** 		}
3273:Src/RTOS/tasks.c **** 		#endif /* ( ( configUSE_PREEMPTION == 1 ) && ( configIDLE_SHOULD_YIELD == 1 ) ) */
3274:Src/RTOS/tasks.c **** 
3275:Src/RTOS/tasks.c **** 		#if ( configUSE_IDLE_HOOK == 1 )
3276:Src/RTOS/tasks.c **** 		{
3277:Src/RTOS/tasks.c **** 			extern void vApplicationIdleHook( void );
3278:Src/RTOS/tasks.c **** 
3279:Src/RTOS/tasks.c **** 			/* Call the user defined function from within the idle task.  This
3280:Src/RTOS/tasks.c **** 			allows the application designer to add background functionality
3281:Src/RTOS/tasks.c **** 			without the overhead of a separate task.
3282:Src/RTOS/tasks.c **** 			NOTE: vApplicationIdleHook() MUST NOT, UNDER ANY CIRCUMSTANCES,
3283:Src/RTOS/tasks.c **** 			CALL A FUNCTION THAT MIGHT BLOCK. */
3284:Src/RTOS/tasks.c **** 			vApplicationIdleHook();
3285:Src/RTOS/tasks.c **** 		}
3286:Src/RTOS/tasks.c **** 		#endif /* configUSE_IDLE_HOOK */
3287:Src/RTOS/tasks.c **** 
3288:Src/RTOS/tasks.c **** 		/* This conditional compilation should use inequality to 0, not equality
3289:Src/RTOS/tasks.c **** 		to 1.  This is to ensure portSUPPRESS_TICKS_AND_SLEEP() is called when
3290:Src/RTOS/tasks.c **** 		user defined low power mode	implementations require
3291:Src/RTOS/tasks.c **** 		configUSE_TICKLESS_IDLE to be set to a value other than 1. */
3292:Src/RTOS/tasks.c **** 		#if ( configUSE_TICKLESS_IDLE != 0 )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 64


3293:Src/RTOS/tasks.c **** 		{
3294:Src/RTOS/tasks.c **** 		TickType_t xExpectedIdleTime;
3295:Src/RTOS/tasks.c **** 
3296:Src/RTOS/tasks.c **** 			/* It is not desirable to suspend then resume the scheduler on
3297:Src/RTOS/tasks.c **** 			each iteration of the idle task.  Therefore, a preliminary
3298:Src/RTOS/tasks.c **** 			test of the expected idle time is performed without the
3299:Src/RTOS/tasks.c **** 			scheduler suspended.  The result here is not necessarily
3300:Src/RTOS/tasks.c **** 			valid. */
3301:Src/RTOS/tasks.c **** 			xExpectedIdleTime = prvGetExpectedIdleTime();
3302:Src/RTOS/tasks.c **** 
3303:Src/RTOS/tasks.c **** 			if( xExpectedIdleTime >= configEXPECTED_IDLE_TIME_BEFORE_SLEEP )
3304:Src/RTOS/tasks.c **** 			{
3305:Src/RTOS/tasks.c **** 				vTaskSuspendAll();
3306:Src/RTOS/tasks.c **** 				{
3307:Src/RTOS/tasks.c **** 					/* Now the scheduler is suspended, the expected idle
3308:Src/RTOS/tasks.c **** 					time can be sampled again, and this time its value can
3309:Src/RTOS/tasks.c **** 					be used. */
3310:Src/RTOS/tasks.c **** 					configASSERT( xNextTaskUnblockTime >= xTickCount );
3311:Src/RTOS/tasks.c **** 					xExpectedIdleTime = prvGetExpectedIdleTime();
3312:Src/RTOS/tasks.c **** 
3313:Src/RTOS/tasks.c **** 					/* Define the following macro to set xExpectedIdleTime to 0
3314:Src/RTOS/tasks.c **** 					if the application does not want
3315:Src/RTOS/tasks.c **** 					portSUPPRESS_TICKS_AND_SLEEP() to be called. */
3316:Src/RTOS/tasks.c **** 					configPRE_SUPPRESS_TICKS_AND_SLEEP_PROCESSING( xExpectedIdleTime );
3317:Src/RTOS/tasks.c **** 
3318:Src/RTOS/tasks.c **** 					if( xExpectedIdleTime >= configEXPECTED_IDLE_TIME_BEFORE_SLEEP )
3319:Src/RTOS/tasks.c **** 					{
3320:Src/RTOS/tasks.c **** 						traceLOW_POWER_IDLE_BEGIN();
3321:Src/RTOS/tasks.c **** 						portSUPPRESS_TICKS_AND_SLEEP( xExpectedIdleTime );
3322:Src/RTOS/tasks.c **** 						traceLOW_POWER_IDLE_END();
3323:Src/RTOS/tasks.c **** 					}
3324:Src/RTOS/tasks.c **** 					else
3325:Src/RTOS/tasks.c **** 					{
3326:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
3327:Src/RTOS/tasks.c **** 					}
3328:Src/RTOS/tasks.c **** 				}
3329:Src/RTOS/tasks.c **** 				( void ) xTaskResumeAll();
3330:Src/RTOS/tasks.c **** 			}
3331:Src/RTOS/tasks.c **** 			else
3332:Src/RTOS/tasks.c **** 			{
3333:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
3334:Src/RTOS/tasks.c **** 			}
3335:Src/RTOS/tasks.c **** 		}
3336:Src/RTOS/tasks.c **** 		#endif /* configUSE_TICKLESS_IDLE */
3337:Src/RTOS/tasks.c **** 	}
3338:Src/RTOS/tasks.c **** }
3339:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3340:Src/RTOS/tasks.c **** 
3341:Src/RTOS/tasks.c **** #if( configUSE_TICKLESS_IDLE != 0 )
3342:Src/RTOS/tasks.c **** 
3343:Src/RTOS/tasks.c **** 	eSleepModeStatus eTaskConfirmSleepModeStatus( void )
3344:Src/RTOS/tasks.c **** 	{
3345:Src/RTOS/tasks.c **** 	/* The idle task exists in addition to the application tasks. */
3346:Src/RTOS/tasks.c **** 	const UBaseType_t uxNonApplicationTasks = 1;
3347:Src/RTOS/tasks.c **** 	eSleepModeStatus eReturn = eStandardSleep;
3348:Src/RTOS/tasks.c **** 
3349:Src/RTOS/tasks.c **** 		if( listCURRENT_LIST_LENGTH( &xPendingReadyList ) != 0 )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 65


3350:Src/RTOS/tasks.c **** 		{
3351:Src/RTOS/tasks.c **** 			/* A task was made ready while the scheduler was suspended. */
3352:Src/RTOS/tasks.c **** 			eReturn = eAbortSleep;
3353:Src/RTOS/tasks.c **** 		}
3354:Src/RTOS/tasks.c **** 		else if( xYieldPending != pdFALSE )
3355:Src/RTOS/tasks.c **** 		{
3356:Src/RTOS/tasks.c **** 			/* A yield was pended while the scheduler was suspended. */
3357:Src/RTOS/tasks.c **** 			eReturn = eAbortSleep;
3358:Src/RTOS/tasks.c **** 		}
3359:Src/RTOS/tasks.c **** 		else
3360:Src/RTOS/tasks.c **** 		{
3361:Src/RTOS/tasks.c **** 			/* If all the tasks are in the suspended list (which might mean they
3362:Src/RTOS/tasks.c **** 			have an infinite block time rather than actually being suspended)
3363:Src/RTOS/tasks.c **** 			then it is safe to turn all clocks off and just wait for external
3364:Src/RTOS/tasks.c **** 			interrupts. */
3365:Src/RTOS/tasks.c **** 			if( listCURRENT_LIST_LENGTH( &xSuspendedTaskList ) == ( uxCurrentNumberOfTasks - uxNonApplicatio
3366:Src/RTOS/tasks.c **** 			{
3367:Src/RTOS/tasks.c **** 				eReturn = eNoTasksWaitingTimeout;
3368:Src/RTOS/tasks.c **** 			}
3369:Src/RTOS/tasks.c **** 			else
3370:Src/RTOS/tasks.c **** 			{
3371:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
3372:Src/RTOS/tasks.c **** 			}
3373:Src/RTOS/tasks.c **** 		}
3374:Src/RTOS/tasks.c **** 
3375:Src/RTOS/tasks.c **** 		return eReturn;
3376:Src/RTOS/tasks.c **** 	}
3377:Src/RTOS/tasks.c **** 
3378:Src/RTOS/tasks.c **** #endif /* configUSE_TICKLESS_IDLE */
3379:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3380:Src/RTOS/tasks.c **** 
3381:Src/RTOS/tasks.c **** #if ( configNUM_THREAD_LOCAL_STORAGE_POINTERS != 0 )
3382:Src/RTOS/tasks.c **** 
3383:Src/RTOS/tasks.c **** 	void vTaskSetThreadLocalStoragePointer( TaskHandle_t xTaskToSet, BaseType_t xIndex, void *pvValue 
3384:Src/RTOS/tasks.c **** 	{
3385:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3386:Src/RTOS/tasks.c **** 
3387:Src/RTOS/tasks.c **** 		if( xIndex < configNUM_THREAD_LOCAL_STORAGE_POINTERS )
3388:Src/RTOS/tasks.c **** 		{
3389:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTaskToSet );
3390:Src/RTOS/tasks.c **** 			pxTCB->pvThreadLocalStoragePointers[ xIndex ] = pvValue;
3391:Src/RTOS/tasks.c **** 		}
3392:Src/RTOS/tasks.c **** 	}
3393:Src/RTOS/tasks.c **** 
3394:Src/RTOS/tasks.c **** #endif /* configNUM_THREAD_LOCAL_STORAGE_POINTERS */
3395:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3396:Src/RTOS/tasks.c **** 
3397:Src/RTOS/tasks.c **** #if ( configNUM_THREAD_LOCAL_STORAGE_POINTERS != 0 )
3398:Src/RTOS/tasks.c **** 
3399:Src/RTOS/tasks.c **** 	void *pvTaskGetThreadLocalStoragePointer( TaskHandle_t xTaskToQuery, BaseType_t xIndex )
3400:Src/RTOS/tasks.c **** 	{
3401:Src/RTOS/tasks.c **** 	void *pvReturn = NULL;
3402:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3403:Src/RTOS/tasks.c **** 
3404:Src/RTOS/tasks.c **** 		if( xIndex < configNUM_THREAD_LOCAL_STORAGE_POINTERS )
3405:Src/RTOS/tasks.c **** 		{
3406:Src/RTOS/tasks.c **** 			pxTCB = prvGetTCBFromHandle( xTaskToQuery );
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 66


3407:Src/RTOS/tasks.c **** 			pvReturn = pxTCB->pvThreadLocalStoragePointers[ xIndex ];
3408:Src/RTOS/tasks.c **** 		}
3409:Src/RTOS/tasks.c **** 		else
3410:Src/RTOS/tasks.c **** 		{
3411:Src/RTOS/tasks.c **** 			pvReturn = NULL;
3412:Src/RTOS/tasks.c **** 		}
3413:Src/RTOS/tasks.c **** 
3414:Src/RTOS/tasks.c **** 		return pvReturn;
3415:Src/RTOS/tasks.c **** 	}
3416:Src/RTOS/tasks.c **** 
3417:Src/RTOS/tasks.c **** #endif /* configNUM_THREAD_LOCAL_STORAGE_POINTERS */
3418:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3419:Src/RTOS/tasks.c **** 
3420:Src/RTOS/tasks.c **** #if ( portUSING_MPU_WRAPPERS == 1 )
3421:Src/RTOS/tasks.c **** 
3422:Src/RTOS/tasks.c **** 	void vTaskAllocateMPURegions( TaskHandle_t xTaskToModify, const MemoryRegion_t * const xRegions )
3423:Src/RTOS/tasks.c **** 	{
3424:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3425:Src/RTOS/tasks.c **** 
3426:Src/RTOS/tasks.c **** 		/* If null is passed in here then we are modifying the MPU settings of
3427:Src/RTOS/tasks.c **** 		the calling task. */
3428:Src/RTOS/tasks.c **** 		pxTCB = prvGetTCBFromHandle( xTaskToModify );
3429:Src/RTOS/tasks.c **** 
3430:Src/RTOS/tasks.c **** 		vPortStoreTaskMPUSettings( &( pxTCB->xMPUSettings ), xRegions, NULL, 0 );
3431:Src/RTOS/tasks.c **** 	}
3432:Src/RTOS/tasks.c **** 
3433:Src/RTOS/tasks.c **** #endif /* portUSING_MPU_WRAPPERS */
3434:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3435:Src/RTOS/tasks.c **** 
3436:Src/RTOS/tasks.c **** static void prvInitialiseTaskLists( void )
3437:Src/RTOS/tasks.c **** {
3438:Src/RTOS/tasks.c **** UBaseType_t uxPriority;
3439:Src/RTOS/tasks.c **** 
3440:Src/RTOS/tasks.c **** 	for( uxPriority = ( UBaseType_t ) 0U; uxPriority < ( UBaseType_t ) configMAX_PRIORITIES; uxPriorit
3441:Src/RTOS/tasks.c **** 	{
3442:Src/RTOS/tasks.c **** 		vListInitialise( &( pxReadyTasksLists[ uxPriority ] ) );
3443:Src/RTOS/tasks.c **** 	}
3444:Src/RTOS/tasks.c **** 
3445:Src/RTOS/tasks.c **** 	vListInitialise( &xDelayedTaskList1 );
3446:Src/RTOS/tasks.c **** 	vListInitialise( &xDelayedTaskList2 );
3447:Src/RTOS/tasks.c **** 	vListInitialise( &xPendingReadyList );
3448:Src/RTOS/tasks.c **** 
3449:Src/RTOS/tasks.c **** 	#if ( INCLUDE_vTaskDelete == 1 )
3450:Src/RTOS/tasks.c **** 	{
3451:Src/RTOS/tasks.c **** 		vListInitialise( &xTasksWaitingTermination );
3452:Src/RTOS/tasks.c **** 	}
3453:Src/RTOS/tasks.c **** 	#endif /* INCLUDE_vTaskDelete */
3454:Src/RTOS/tasks.c **** 
3455:Src/RTOS/tasks.c **** 	#if ( INCLUDE_vTaskSuspend == 1 )
3456:Src/RTOS/tasks.c **** 	{
3457:Src/RTOS/tasks.c **** 		vListInitialise( &xSuspendedTaskList );
3458:Src/RTOS/tasks.c **** 	}
3459:Src/RTOS/tasks.c **** 	#endif /* INCLUDE_vTaskSuspend */
3460:Src/RTOS/tasks.c **** 
3461:Src/RTOS/tasks.c **** 	/* Start with pxDelayedTaskList using list1 and the pxOverflowDelayedTaskList
3462:Src/RTOS/tasks.c **** 	using list2. */
3463:Src/RTOS/tasks.c **** 	pxDelayedTaskList = &xDelayedTaskList1;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 67


3464:Src/RTOS/tasks.c **** 	pxOverflowDelayedTaskList = &xDelayedTaskList2;
3465:Src/RTOS/tasks.c **** }
3466:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3467:Src/RTOS/tasks.c **** 
3468:Src/RTOS/tasks.c **** static void prvCheckTasksWaitingTermination( void )
3469:Src/RTOS/tasks.c **** {
3470:Src/RTOS/tasks.c **** 
3471:Src/RTOS/tasks.c **** 	/** THIS FUNCTION IS CALLED FROM THE RTOS IDLE TASK **/
3472:Src/RTOS/tasks.c **** 
3473:Src/RTOS/tasks.c **** 	#if ( INCLUDE_vTaskDelete == 1 )
3474:Src/RTOS/tasks.c **** 	{
3475:Src/RTOS/tasks.c **** 		TCB_t *pxTCB;
3476:Src/RTOS/tasks.c **** 
3477:Src/RTOS/tasks.c **** 		/* uxDeletedTasksWaitingCleanUp is used to prevent vTaskSuspendAll()
3478:Src/RTOS/tasks.c **** 		being called too often in the idle task. */
3479:Src/RTOS/tasks.c **** 		while( uxDeletedTasksWaitingCleanUp > ( UBaseType_t ) 0U )
3480:Src/RTOS/tasks.c **** 		{
3481:Src/RTOS/tasks.c **** 			taskENTER_CRITICAL();
3482:Src/RTOS/tasks.c **** 			{
3483:Src/RTOS/tasks.c **** 				pxTCB = ( TCB_t * ) listGET_OWNER_OF_HEAD_ENTRY( ( &xTasksWaitingTermination ) );
3484:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xStateListItem ) );
3485:Src/RTOS/tasks.c **** 				--uxCurrentNumberOfTasks;
3486:Src/RTOS/tasks.c **** 				--uxDeletedTasksWaitingCleanUp;
3487:Src/RTOS/tasks.c **** 			}
3488:Src/RTOS/tasks.c **** 			taskEXIT_CRITICAL();
3489:Src/RTOS/tasks.c **** 
3490:Src/RTOS/tasks.c **** 			prvDeleteTCB( pxTCB );
3491:Src/RTOS/tasks.c **** 		}
3492:Src/RTOS/tasks.c **** 	}
3493:Src/RTOS/tasks.c **** 	#endif /* INCLUDE_vTaskDelete */
3494:Src/RTOS/tasks.c **** }
3495:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3496:Src/RTOS/tasks.c **** 
3497:Src/RTOS/tasks.c **** #if( configUSE_TRACE_FACILITY == 1 )
3498:Src/RTOS/tasks.c **** 
3499:Src/RTOS/tasks.c **** 	void vTaskGetInfo( TaskHandle_t xTask, TaskStatus_t *pxTaskStatus, BaseType_t xGetFreeStackSpace, 
3500:Src/RTOS/tasks.c **** 	{
3501:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3502:Src/RTOS/tasks.c **** 
3503:Src/RTOS/tasks.c **** 		/* xTask is NULL then get the state of the calling task. */
3504:Src/RTOS/tasks.c **** 		pxTCB = prvGetTCBFromHandle( xTask );
3505:Src/RTOS/tasks.c **** 
3506:Src/RTOS/tasks.c **** 		pxTaskStatus->xHandle = ( TaskHandle_t ) pxTCB;
3507:Src/RTOS/tasks.c **** 		pxTaskStatus->pcTaskName = ( const char * ) &( pxTCB->pcTaskName [ 0 ] );
3508:Src/RTOS/tasks.c **** 		pxTaskStatus->uxCurrentPriority = pxTCB->uxPriority;
3509:Src/RTOS/tasks.c **** 		pxTaskStatus->pxStackBase = pxTCB->pxStack;
3510:Src/RTOS/tasks.c **** 		pxTaskStatus->xTaskNumber = pxTCB->uxTCBNumber;
3511:Src/RTOS/tasks.c **** 
3512:Src/RTOS/tasks.c **** 		#if ( configUSE_MUTEXES == 1 )
3513:Src/RTOS/tasks.c **** 		{
3514:Src/RTOS/tasks.c **** 			pxTaskStatus->uxBasePriority = pxTCB->uxBasePriority;
3515:Src/RTOS/tasks.c **** 		}
3516:Src/RTOS/tasks.c **** 		#else
3517:Src/RTOS/tasks.c **** 		{
3518:Src/RTOS/tasks.c **** 			pxTaskStatus->uxBasePriority = 0;
3519:Src/RTOS/tasks.c **** 		}
3520:Src/RTOS/tasks.c **** 		#endif
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 68


3521:Src/RTOS/tasks.c **** 
3522:Src/RTOS/tasks.c **** 		#if ( configGENERATE_RUN_TIME_STATS == 1 )
3523:Src/RTOS/tasks.c **** 		{
3524:Src/RTOS/tasks.c **** 			pxTaskStatus->ulRunTimeCounter = pxTCB->ulRunTimeCounter;
3525:Src/RTOS/tasks.c **** 		}
3526:Src/RTOS/tasks.c **** 		#else
3527:Src/RTOS/tasks.c **** 		{
3528:Src/RTOS/tasks.c **** 			pxTaskStatus->ulRunTimeCounter = 0;
3529:Src/RTOS/tasks.c **** 		}
3530:Src/RTOS/tasks.c **** 		#endif
3531:Src/RTOS/tasks.c **** 
3532:Src/RTOS/tasks.c **** 		/* Obtaining the task state is a little fiddly, so is only done if the
3533:Src/RTOS/tasks.c **** 		value of eState passed into this function is eInvalid - otherwise the
3534:Src/RTOS/tasks.c **** 		state is just set to whatever is passed in. */
3535:Src/RTOS/tasks.c **** 		if( eState != eInvalid )
3536:Src/RTOS/tasks.c **** 		{
3537:Src/RTOS/tasks.c **** 			if( pxTCB == pxCurrentTCB )
3538:Src/RTOS/tasks.c **** 			{
3539:Src/RTOS/tasks.c **** 				pxTaskStatus->eCurrentState = eRunning;
3540:Src/RTOS/tasks.c **** 			}
3541:Src/RTOS/tasks.c **** 			else
3542:Src/RTOS/tasks.c **** 			{
3543:Src/RTOS/tasks.c **** 				pxTaskStatus->eCurrentState = eState;
3544:Src/RTOS/tasks.c **** 
3545:Src/RTOS/tasks.c **** 				#if ( INCLUDE_vTaskSuspend == 1 )
3546:Src/RTOS/tasks.c **** 				{
3547:Src/RTOS/tasks.c **** 					/* If the task is in the suspended list then there is a
3548:Src/RTOS/tasks.c **** 					chance it is actually just blocked indefinitely - so really
3549:Src/RTOS/tasks.c **** 					it should be reported as being in the Blocked state. */
3550:Src/RTOS/tasks.c **** 					if( eState == eSuspended )
3551:Src/RTOS/tasks.c **** 					{
3552:Src/RTOS/tasks.c **** 						vTaskSuspendAll();
3553:Src/RTOS/tasks.c **** 						{
3554:Src/RTOS/tasks.c **** 							if( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) != NULL )
3555:Src/RTOS/tasks.c **** 							{
3556:Src/RTOS/tasks.c **** 								pxTaskStatus->eCurrentState = eBlocked;
3557:Src/RTOS/tasks.c **** 							}
3558:Src/RTOS/tasks.c **** 						}
3559:Src/RTOS/tasks.c **** 						( void ) xTaskResumeAll();
3560:Src/RTOS/tasks.c **** 					}
3561:Src/RTOS/tasks.c **** 				}
3562:Src/RTOS/tasks.c **** 				#endif /* INCLUDE_vTaskSuspend */
3563:Src/RTOS/tasks.c **** 			}
3564:Src/RTOS/tasks.c **** 		}
3565:Src/RTOS/tasks.c **** 		else
3566:Src/RTOS/tasks.c **** 		{
3567:Src/RTOS/tasks.c **** 			pxTaskStatus->eCurrentState = eTaskGetState( pxTCB );
3568:Src/RTOS/tasks.c **** 		}
3569:Src/RTOS/tasks.c **** 
3570:Src/RTOS/tasks.c **** 		/* Obtaining the stack space takes some time, so the xGetFreeStackSpace
3571:Src/RTOS/tasks.c **** 		parameter is provided to allow it to be skipped. */
3572:Src/RTOS/tasks.c **** 		if( xGetFreeStackSpace != pdFALSE )
3573:Src/RTOS/tasks.c **** 		{
3574:Src/RTOS/tasks.c **** 			#if ( portSTACK_GROWTH > 0 )
3575:Src/RTOS/tasks.c **** 			{
3576:Src/RTOS/tasks.c **** 				pxTaskStatus->usStackHighWaterMark = prvTaskCheckFreeStackSpace( ( uint8_t * ) pxTCB->pxEndOfSt
3577:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 69


3578:Src/RTOS/tasks.c **** 			#else
3579:Src/RTOS/tasks.c **** 			{
3580:Src/RTOS/tasks.c **** 				pxTaskStatus->usStackHighWaterMark = prvTaskCheckFreeStackSpace( ( uint8_t * ) pxTCB->pxStack )
3581:Src/RTOS/tasks.c **** 			}
3582:Src/RTOS/tasks.c **** 			#endif
3583:Src/RTOS/tasks.c **** 		}
3584:Src/RTOS/tasks.c **** 		else
3585:Src/RTOS/tasks.c **** 		{
3586:Src/RTOS/tasks.c **** 			pxTaskStatus->usStackHighWaterMark = 0;
3587:Src/RTOS/tasks.c **** 		}
3588:Src/RTOS/tasks.c **** 	}
3589:Src/RTOS/tasks.c **** 
3590:Src/RTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
3591:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3592:Src/RTOS/tasks.c **** 
3593:Src/RTOS/tasks.c **** #if ( configUSE_TRACE_FACILITY == 1 )
3594:Src/RTOS/tasks.c **** 
3595:Src/RTOS/tasks.c **** 	static UBaseType_t prvListTasksWithinSingleList( TaskStatus_t *pxTaskStatusArray, List_t *pxList, 
3596:Src/RTOS/tasks.c **** 	{
3597:Src/RTOS/tasks.c **** 	configLIST_VOLATILE TCB_t *pxNextTCB, *pxFirstTCB;
3598:Src/RTOS/tasks.c **** 	UBaseType_t uxTask = 0;
3599:Src/RTOS/tasks.c **** 
3600:Src/RTOS/tasks.c **** 		if( listCURRENT_LIST_LENGTH( pxList ) > ( UBaseType_t ) 0 )
3601:Src/RTOS/tasks.c **** 		{
3602:Src/RTOS/tasks.c **** 			listGET_OWNER_OF_NEXT_ENTRY( pxFirstTCB, pxList );
3603:Src/RTOS/tasks.c **** 
3604:Src/RTOS/tasks.c **** 			/* Populate an TaskStatus_t structure within the
3605:Src/RTOS/tasks.c **** 			pxTaskStatusArray array for each task that is referenced from
3606:Src/RTOS/tasks.c **** 			pxList.  See the definition of TaskStatus_t in task.h for the
3607:Src/RTOS/tasks.c **** 			meaning of each TaskStatus_t structure member. */
3608:Src/RTOS/tasks.c **** 			do
3609:Src/RTOS/tasks.c **** 			{
3610:Src/RTOS/tasks.c **** 				listGET_OWNER_OF_NEXT_ENTRY( pxNextTCB, pxList );
3611:Src/RTOS/tasks.c **** 				vTaskGetInfo( ( TaskHandle_t ) pxNextTCB, &( pxTaskStatusArray[ uxTask ] ), pdTRUE, eState );
3612:Src/RTOS/tasks.c **** 				uxTask++;
3613:Src/RTOS/tasks.c **** 			} while( pxNextTCB != pxFirstTCB );
3614:Src/RTOS/tasks.c **** 		}
3615:Src/RTOS/tasks.c **** 		else
3616:Src/RTOS/tasks.c **** 		{
3617:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
3618:Src/RTOS/tasks.c **** 		}
3619:Src/RTOS/tasks.c **** 
3620:Src/RTOS/tasks.c **** 		return uxTask;
3621:Src/RTOS/tasks.c **** 	}
3622:Src/RTOS/tasks.c **** 
3623:Src/RTOS/tasks.c **** #endif /* configUSE_TRACE_FACILITY */
3624:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3625:Src/RTOS/tasks.c **** 
3626:Src/RTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) )
3627:Src/RTOS/tasks.c **** 
3628:Src/RTOS/tasks.c **** 	static uint16_t prvTaskCheckFreeStackSpace( const uint8_t * pucStackByte )
3629:Src/RTOS/tasks.c **** 	{
 106              		.loc 1 3629 0
 107              		.cfi_startproc
 108              		@ args = 0, pretend = 0, frame = 0
 109              		@ frame_needed = 0, uses_anonymous_args = 0
 110              		@ link register save eliminated.
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 70


 111              	.LVL9:
3630:Src/RTOS/tasks.c **** 	uint32_t ulCount = 0U;
 112              		.loc 1 3630 0
 113 0000 0023     		movs	r3, #0
3631:Src/RTOS/tasks.c **** 
3632:Src/RTOS/tasks.c **** 		while( *pucStackByte == ( uint8_t ) tskSTACK_FILL_BYTE )
 114              		.loc 1 3632 0
 115 0002 01E0     		b	.L12
 116              	.LVL10:
 117              	.L13:
3633:Src/RTOS/tasks.c **** 		{
3634:Src/RTOS/tasks.c **** 			pucStackByte -= portSTACK_GROWTH;
 118              		.loc 1 3634 0
 119 0004 0130     		adds	r0, r0, #1
 120              	.LVL11:
3635:Src/RTOS/tasks.c **** 			ulCount++;
 121              		.loc 1 3635 0
 122 0006 0133     		adds	r3, r3, #1
 123              	.LVL12:
 124              	.L12:
3632:Src/RTOS/tasks.c **** 		{
 125              		.loc 1 3632 0
 126 0008 0278     		ldrb	r2, [r0]	@ zero_extendqisi2
 127 000a A52A     		cmp	r2, #165
 128 000c FAD0     		beq	.L13
 129              	.LVL13:
3636:Src/RTOS/tasks.c **** 		}
3637:Src/RTOS/tasks.c **** 
3638:Src/RTOS/tasks.c **** 		ulCount /= ( uint32_t ) sizeof( StackType_t ); /*lint !e961 Casting is not redundant on smaller a
3639:Src/RTOS/tasks.c **** 
3640:Src/RTOS/tasks.c **** 		return ( uint16_t ) ulCount;
3641:Src/RTOS/tasks.c **** 	}
 130              		.loc 1 3641 0
 131 000e C3F38F00 		ubfx	r0, r3, #2, #16
 132              	.LVL14:
 133 0012 7047     		bx	lr
 134              		.cfi_endproc
 135              	.LFE46:
 137              		.section	.text.prvResetNextTaskUnblockTime,"ax",%progbits
 138              		.align	1
 139              		.syntax unified
 140              		.thumb
 141              		.thumb_func
 142              		.fpu fpv4-sp-d16
 144              	prvResetNextTaskUnblockTime:
 145              	.LFB48:
3642:Src/RTOS/tasks.c **** 
3643:Src/RTOS/tasks.c **** #endif /* ( ( configUSE_TRACE_FACILITY == 1 ) || ( INCLUDE_uxTaskGetStackHighWaterMark == 1 ) ) */
3644:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3645:Src/RTOS/tasks.c **** 
3646:Src/RTOS/tasks.c **** #if ( INCLUDE_uxTaskGetStackHighWaterMark == 1 )
3647:Src/RTOS/tasks.c **** 
3648:Src/RTOS/tasks.c **** 	UBaseType_t uxTaskGetStackHighWaterMark( TaskHandle_t xTask )
3649:Src/RTOS/tasks.c **** 	{
3650:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
3651:Src/RTOS/tasks.c **** 	uint8_t *pucEndOfStack;
3652:Src/RTOS/tasks.c **** 	UBaseType_t uxReturn;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 71


3653:Src/RTOS/tasks.c **** 
3654:Src/RTOS/tasks.c **** 		pxTCB = prvGetTCBFromHandle( xTask );
3655:Src/RTOS/tasks.c **** 
3656:Src/RTOS/tasks.c **** 		#if portSTACK_GROWTH < 0
3657:Src/RTOS/tasks.c **** 		{
3658:Src/RTOS/tasks.c **** 			pucEndOfStack = ( uint8_t * ) pxTCB->pxStack;
3659:Src/RTOS/tasks.c **** 		}
3660:Src/RTOS/tasks.c **** 		#else
3661:Src/RTOS/tasks.c **** 		{
3662:Src/RTOS/tasks.c **** 			pucEndOfStack = ( uint8_t * ) pxTCB->pxEndOfStack;
3663:Src/RTOS/tasks.c **** 		}
3664:Src/RTOS/tasks.c **** 		#endif
3665:Src/RTOS/tasks.c **** 
3666:Src/RTOS/tasks.c **** 		uxReturn = ( UBaseType_t ) prvTaskCheckFreeStackSpace( pucEndOfStack );
3667:Src/RTOS/tasks.c **** 
3668:Src/RTOS/tasks.c **** 		return uxReturn;
3669:Src/RTOS/tasks.c **** 	}
3670:Src/RTOS/tasks.c **** 
3671:Src/RTOS/tasks.c **** #endif /* INCLUDE_uxTaskGetStackHighWaterMark */
3672:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3673:Src/RTOS/tasks.c **** 
3674:Src/RTOS/tasks.c **** #if ( INCLUDE_vTaskDelete == 1 )
3675:Src/RTOS/tasks.c **** 
3676:Src/RTOS/tasks.c **** 	static void prvDeleteTCB( TCB_t *pxTCB )
3677:Src/RTOS/tasks.c **** 	{
3678:Src/RTOS/tasks.c **** 		/* This call is required specifically for the TriCore port.  It must be
3679:Src/RTOS/tasks.c **** 		above the vPortFree() calls.  The call is also used by ports/demos that
3680:Src/RTOS/tasks.c **** 		want to allocate and clean RAM statically. */
3681:Src/RTOS/tasks.c **** 		portCLEAN_UP_TCB( pxTCB );
3682:Src/RTOS/tasks.c **** 
3683:Src/RTOS/tasks.c **** 		/* Free up the memory allocated by the scheduler for the task.  It is up
3684:Src/RTOS/tasks.c **** 		to the task to free any memory allocated at the application level. */
3685:Src/RTOS/tasks.c **** 		#if ( configUSE_NEWLIB_REENTRANT == 1 )
3686:Src/RTOS/tasks.c **** 		{
3687:Src/RTOS/tasks.c **** 			_reclaim_reent( &( pxTCB->xNewLib_reent ) );
3688:Src/RTOS/tasks.c **** 		}
3689:Src/RTOS/tasks.c **** 		#endif /* configUSE_NEWLIB_REENTRANT */
3690:Src/RTOS/tasks.c **** 
3691:Src/RTOS/tasks.c **** 		#if( ( configSUPPORT_DYNAMIC_ALLOCATION == 1 ) && ( configSUPPORT_STATIC_ALLOCATION == 0 ) && ( p
3692:Src/RTOS/tasks.c **** 		{
3693:Src/RTOS/tasks.c **** 			/* The task can only have been allocated dynamically - free both
3694:Src/RTOS/tasks.c **** 			the stack and TCB. */
3695:Src/RTOS/tasks.c **** 			vPortFree( pxTCB->pxStack );
3696:Src/RTOS/tasks.c **** 			vPortFree( pxTCB );
3697:Src/RTOS/tasks.c **** 		}
3698:Src/RTOS/tasks.c **** 		#elif( tskSTATIC_AND_DYNAMIC_ALLOCATION_POSSIBLE != 0 ) /*lint !e731 Macro has been consolidated 
3699:Src/RTOS/tasks.c **** 		{
3700:Src/RTOS/tasks.c **** 			/* The task could have been allocated statically or dynamically, so
3701:Src/RTOS/tasks.c **** 			check what was statically allocated before trying to free the
3702:Src/RTOS/tasks.c **** 			memory. */
3703:Src/RTOS/tasks.c **** 			if( pxTCB->ucStaticallyAllocated == tskDYNAMICALLY_ALLOCATED_STACK_AND_TCB )
3704:Src/RTOS/tasks.c **** 			{
3705:Src/RTOS/tasks.c **** 				/* Both the stack and TCB were allocated dynamically, so both
3706:Src/RTOS/tasks.c **** 				must be freed. */
3707:Src/RTOS/tasks.c **** 				vPortFree( pxTCB->pxStack );
3708:Src/RTOS/tasks.c **** 				vPortFree( pxTCB );
3709:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 72


3710:Src/RTOS/tasks.c **** 			else if( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_ONLY )
3711:Src/RTOS/tasks.c **** 			{
3712:Src/RTOS/tasks.c **** 				/* Only the stack was statically allocated, so the TCB is the
3713:Src/RTOS/tasks.c **** 				only memory that must be freed. */
3714:Src/RTOS/tasks.c **** 				vPortFree( pxTCB );
3715:Src/RTOS/tasks.c **** 			}
3716:Src/RTOS/tasks.c **** 			else
3717:Src/RTOS/tasks.c **** 			{
3718:Src/RTOS/tasks.c **** 				/* Neither the stack nor the TCB were allocated dynamically, so
3719:Src/RTOS/tasks.c **** 				nothing needs to be freed. */
3720:Src/RTOS/tasks.c **** 				configASSERT( pxTCB->ucStaticallyAllocated == tskSTATICALLY_ALLOCATED_STACK_AND_TCB	);
3721:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
3722:Src/RTOS/tasks.c **** 			}
3723:Src/RTOS/tasks.c **** 		}
3724:Src/RTOS/tasks.c **** 		#endif /* configSUPPORT_DYNAMIC_ALLOCATION */
3725:Src/RTOS/tasks.c **** 	}
3726:Src/RTOS/tasks.c **** 
3727:Src/RTOS/tasks.c **** #endif /* INCLUDE_vTaskDelete */
3728:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3729:Src/RTOS/tasks.c **** 
3730:Src/RTOS/tasks.c **** static void prvResetNextTaskUnblockTime( void )
3731:Src/RTOS/tasks.c **** {
 146              		.loc 1 3731 0
 147              		.cfi_startproc
 148              		@ args = 0, pretend = 0, frame = 0
 149              		@ frame_needed = 0, uses_anonymous_args = 0
 150              		@ link register save eliminated.
3732:Src/RTOS/tasks.c **** TCB_t *pxTCB;
3733:Src/RTOS/tasks.c **** 
3734:Src/RTOS/tasks.c **** 	if( listLIST_IS_EMPTY( pxDelayedTaskList ) != pdFALSE )
 151              		.loc 1 3734 0
 152 0000 084B     		ldr	r3, .L18
 153 0002 1B68     		ldr	r3, [r3]
 154 0004 1B68     		ldr	r3, [r3]
 155 0006 3BB1     		cbz	r3, .L17
3735:Src/RTOS/tasks.c **** 	{
3736:Src/RTOS/tasks.c **** 		/* The new current delayed list is empty.  Set xNextTaskUnblockTime to
3737:Src/RTOS/tasks.c **** 		the maximum possible value so it is	extremely unlikely that the
3738:Src/RTOS/tasks.c **** 		if( xTickCount >= xNextTaskUnblockTime ) test will pass until
3739:Src/RTOS/tasks.c **** 		there is an item in the delayed list. */
3740:Src/RTOS/tasks.c **** 		xNextTaskUnblockTime = portMAX_DELAY;
3741:Src/RTOS/tasks.c **** 	}
3742:Src/RTOS/tasks.c **** 	else
3743:Src/RTOS/tasks.c **** 	{
3744:Src/RTOS/tasks.c **** 		/* The new current delayed list is not empty, get the value of
3745:Src/RTOS/tasks.c **** 		the item at the head of the delayed list.  This is the time at
3746:Src/RTOS/tasks.c **** 		which the task at the head of the delayed list should be removed
3747:Src/RTOS/tasks.c **** 		from the Blocked state. */
3748:Src/RTOS/tasks.c **** 		( pxTCB ) = ( TCB_t * ) listGET_OWNER_OF_HEAD_ENTRY( pxDelayedTaskList );
 156              		.loc 1 3748 0
 157 0008 064B     		ldr	r3, .L18
 158 000a 1B68     		ldr	r3, [r3]
 159 000c DB68     		ldr	r3, [r3, #12]
 160 000e DB68     		ldr	r3, [r3, #12]
 161              	.LVL15:
3749:Src/RTOS/tasks.c **** 		xNextTaskUnblockTime = listGET_LIST_ITEM_VALUE( &( ( pxTCB )->xStateListItem ) );
 162              		.loc 1 3749 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 73


 163 0010 5A68     		ldr	r2, [r3, #4]
 164 0012 054B     		ldr	r3, .L18+4
 165              	.LVL16:
 166 0014 1A60     		str	r2, [r3]
3750:Src/RTOS/tasks.c **** 	}
3751:Src/RTOS/tasks.c **** }
 167              		.loc 1 3751 0
 168 0016 7047     		bx	lr
 169              	.L17:
3740:Src/RTOS/tasks.c **** 	}
 170              		.loc 1 3740 0
 171 0018 034B     		ldr	r3, .L18+4
 172 001a 4FF0FF32 		mov	r2, #-1
 173 001e 1A60     		str	r2, [r3]
 174 0020 7047     		bx	lr
 175              	.L19:
 176 0022 00BF     		.align	2
 177              	.L18:
 178 0024 00000000 		.word	.LANCHOR2
 179 0028 00000000 		.word	.LANCHOR3
 180              		.cfi_endproc
 181              	.LFE48:
 183              		.section	.text.prvDeleteTCB,"ax",%progbits
 184              		.align	1
 185              		.syntax unified
 186              		.thumb
 187              		.thumb_func
 188              		.fpu fpv4-sp-d16
 190              	prvDeleteTCB:
 191              	.LFB47:
3677:Src/RTOS/tasks.c **** 		/* This call is required specifically for the TriCore port.  It must be
 192              		.loc 1 3677 0
 193              		.cfi_startproc
 194              		@ args = 0, pretend = 0, frame = 0
 195              		@ frame_needed = 0, uses_anonymous_args = 0
 196              	.LVL17:
 197 0000 10B5     		push	{r4, lr}
 198              	.LCFI0:
 199              		.cfi_def_cfa_offset 8
 200              		.cfi_offset 4, -8
 201              		.cfi_offset 14, -4
 202 0002 0446     		mov	r4, r0
3695:Src/RTOS/tasks.c **** 			vPortFree( pxTCB );
 203              		.loc 1 3695 0
 204 0004 006B     		ldr	r0, [r0, #48]
 205              	.LVL18:
 206 0006 FFF7FEFF 		bl	vPortFree
 207              	.LVL19:
3696:Src/RTOS/tasks.c **** 		}
 208              		.loc 1 3696 0
 209 000a 2046     		mov	r0, r4
 210 000c FFF7FEFF 		bl	vPortFree
 211              	.LVL20:
3725:Src/RTOS/tasks.c **** 
 212              		.loc 1 3725 0
 213 0010 10BD     		pop	{r4, pc}
 214              		.cfi_endproc
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 74


 215              	.LFE47:
 217              		.section	.text.prvInitialiseNewTask,"ax",%progbits
 218              		.align	1
 219              		.syntax unified
 220              		.thumb
 221              		.thumb_func
 222              		.fpu fpv4-sp-d16
 224              	prvInitialiseNewTask:
 225              	.LFB6:
 831:Src/RTOS/tasks.c **** StackType_t *pxTopOfStack;
 226              		.loc 1 831 0
 227              		.cfi_startproc
 228              		@ args = 16, pretend = 0, frame = 0
 229              		@ frame_needed = 0, uses_anonymous_args = 0
 230              	.LVL21:
 231 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 232              	.LCFI1:
 233              		.cfi_def_cfa_offset 32
 234              		.cfi_offset 4, -32
 235              		.cfi_offset 5, -28
 236              		.cfi_offset 6, -24
 237              		.cfi_offset 7, -20
 238              		.cfi_offset 8, -16
 239              		.cfi_offset 9, -12
 240              		.cfi_offset 10, -8
 241              		.cfi_offset 14, -4
 242 0004 8146     		mov	r9, r0
 243 0006 0D46     		mov	r5, r1
 244 0008 1746     		mov	r7, r2
 245 000a 9A46     		mov	r10, r3
 246 000c 089E     		ldr	r6, [sp, #32]
 247 000e DDF82480 		ldr	r8, [sp, #36]
 248 0012 0A9C     		ldr	r4, [sp, #40]
 853:Src/RTOS/tasks.c **** 	}
 249              		.loc 1 853 0
 250 0014 9200     		lsls	r2, r2, #2
 251              	.LVL22:
 252 0016 A521     		movs	r1, #165
 253              	.LVL23:
 254 0018 206B     		ldr	r0, [r4, #48]
 255              	.LVL24:
 256 001a FFF7FEFF 		bl	memset
 257              	.LVL25:
 863:Src/RTOS/tasks.c **** 		pxTopOfStack = ( StackType_t * ) ( ( ( portPOINTER_SIZE_TYPE ) pxTopOfStack ) & ( ~( ( portPOINTE
 258              		.loc 1 863 0
 259 001e 236B     		ldr	r3, [r4, #48]
 260 0020 07F18042 		add	r2, r7, #1073741824
 261 0024 013A     		subs	r2, r2, #1
 262 0026 03EB8207 		add	r7, r3, r2, lsl #2
 263              	.LVL26:
 864:Src/RTOS/tasks.c **** 
 264              		.loc 1 864 0
 265 002a 27F00707 		bic	r7, r7, #7
 266              	.LVL27:
 891:Src/RTOS/tasks.c **** 	{
 267              		.loc 1 891 0
 268 002e 0023     		movs	r3, #0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 75


 269              	.LVL28:
 270              	.L23:
 891:Src/RTOS/tasks.c **** 	{
 271              		.loc 1 891 0 is_stmt 0 discriminator 1
 272 0030 092B     		cmp	r3, #9
 273 0032 07D8     		bhi	.L24
 893:Src/RTOS/tasks.c **** 
 274              		.loc 1 893 0 is_stmt 1
 275 0034 E95C     		ldrb	r1, [r5, r3]	@ zero_extendqisi2
 276 0036 E218     		adds	r2, r4, r3
 277 0038 82F83410 		strb	r1, [r2, #52]
 898:Src/RTOS/tasks.c **** 		{
 278              		.loc 1 898 0
 279 003c EA5C     		ldrb	r2, [r5, r3]	@ zero_extendqisi2
 280 003e 0AB1     		cbz	r2, .L24
 891:Src/RTOS/tasks.c **** 	{
 281              		.loc 1 891 0 discriminator 2
 282 0040 0133     		adds	r3, r3, #1
 283              	.LVL29:
 284 0042 F5E7     		b	.L23
 285              	.L24:
 910:Src/RTOS/tasks.c **** 
 286              		.loc 1 910 0
 287 0044 0023     		movs	r3, #0
 288              	.LVL30:
 289 0046 84F83D30 		strb	r3, [r4, #61]
 914:Src/RTOS/tasks.c **** 	{
 290              		.loc 1 914 0
 291 004a 042E     		cmp	r6, #4
 292 004c 00D9     		bls	.L26
 916:Src/RTOS/tasks.c **** 	}
 293              		.loc 1 916 0
 294 004e 0426     		movs	r6, #4
 295              	.L26:
 296              	.LVL31:
 923:Src/RTOS/tasks.c **** 	#if ( configUSE_MUTEXES == 1 )
 297              		.loc 1 923 0
 298 0050 E662     		str	r6, [r4, #44]
 926:Src/RTOS/tasks.c **** 		pxNewTCB->uxMutexesHeld = 0;
 299              		.loc 1 926 0
 300 0052 A664     		str	r6, [r4, #72]
 927:Src/RTOS/tasks.c **** 	}
 301              		.loc 1 927 0
 302 0054 0025     		movs	r5, #0
 303              	.LVL32:
 304 0056 E564     		str	r5, [r4, #76]
 931:Src/RTOS/tasks.c **** 	vListInitialiseItem( &( pxNewTCB->xEventListItem ) );
 305              		.loc 1 931 0
 306 0058 201D     		adds	r0, r4, #4
 307 005a FFF7FEFF 		bl	vListInitialiseItem
 308              	.LVL33:
 932:Src/RTOS/tasks.c **** 
 309              		.loc 1 932 0
 310 005e 04F11800 		add	r0, r4, #24
 311 0062 FFF7FEFF 		bl	vListInitialiseItem
 312              	.LVL34:
 936:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 76


 313              		.loc 1 936 0
 314 0066 2461     		str	r4, [r4, #16]
 939:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_OWNER( &( pxNewTCB->xEventListItem ), pxNewTCB );
 315              		.loc 1 939 0
 316 0068 C6F10506 		rsb	r6, r6, #5
 317              	.LVL35:
 318 006c A661     		str	r6, [r4, #24]
 940:Src/RTOS/tasks.c **** 
 319              		.loc 1 940 0
 320 006e 6462     		str	r4, [r4, #36]
 982:Src/RTOS/tasks.c **** 		pxNewTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
 321              		.loc 1 982 0
 322 0070 2565     		str	r5, [r4, #80]
 983:Src/RTOS/tasks.c **** 	}
 323              		.loc 1 983 0
 324 0072 84F85450 		strb	r5, [r4, #84]
1010:Src/RTOS/tasks.c **** 	}
 325              		.loc 1 1010 0
 326 0076 5246     		mov	r2, r10
 327 0078 4946     		mov	r1, r9
 328 007a 3846     		mov	r0, r7
 329 007c FFF7FEFF 		bl	pxPortInitialiseStack
 330              	.LVL36:
 331 0080 2060     		str	r0, [r4]
1014:Src/RTOS/tasks.c **** 	{
 332              		.loc 1 1014 0
 333 0082 B8F1000F 		cmp	r8, #0
 334 0086 01D0     		beq	.L22
1018:Src/RTOS/tasks.c **** 	}
 335              		.loc 1 1018 0
 336 0088 C8F80040 		str	r4, [r8]
 337              	.L22:
1024:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 338              		.loc 1 1024 0
 339 008c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 340              		.cfi_endproc
 341              	.LFE6:
 343              		.section	.text.prvInitialiseTaskLists,"ax",%progbits
 344              		.align	1
 345              		.syntax unified
 346              		.thumb
 347              		.thumb_func
 348              		.fpu fpv4-sp-d16
 350              	prvInitialiseTaskLists:
 351              	.LFB42:
3437:Src/RTOS/tasks.c **** UBaseType_t uxPriority;
 352              		.loc 1 3437 0
 353              		.cfi_startproc
 354              		@ args = 0, pretend = 0, frame = 0
 355              		@ frame_needed = 0, uses_anonymous_args = 0
 356 0000 38B5     		push	{r3, r4, r5, lr}
 357              	.LCFI2:
 358              		.cfi_def_cfa_offset 16
 359              		.cfi_offset 3, -16
 360              		.cfi_offset 4, -12
 361              		.cfi_offset 5, -8
 362              		.cfi_offset 14, -4
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 77


 363              	.LVL37:
3440:Src/RTOS/tasks.c **** 	{
 364              		.loc 1 3440 0
 365 0002 0024     		movs	r4, #0
 366 0004 07E0     		b	.L31
 367              	.LVL38:
 368              	.L32:
3442:Src/RTOS/tasks.c **** 	}
 369              		.loc 1 3442 0 discriminator 3
 370 0006 04EB8402 		add	r2, r4, r4, lsl #2
 371 000a 9300     		lsls	r3, r2, #2
 372 000c 0E48     		ldr	r0, .L34
 373 000e 1844     		add	r0, r0, r3
 374 0010 FFF7FEFF 		bl	vListInitialise
 375              	.LVL39:
3440:Src/RTOS/tasks.c **** 	{
 376              		.loc 1 3440 0 discriminator 3
 377 0014 0134     		adds	r4, r4, #1
 378              	.LVL40:
 379              	.L31:
3440:Src/RTOS/tasks.c **** 	{
 380              		.loc 1 3440 0 is_stmt 0 discriminator 1
 381 0016 042C     		cmp	r4, #4
 382 0018 F5D9     		bls	.L32
3445:Src/RTOS/tasks.c **** 	vListInitialise( &xDelayedTaskList2 );
 383              		.loc 1 3445 0 is_stmt 1
 384 001a 0C4D     		ldr	r5, .L34+4
 385 001c 2846     		mov	r0, r5
 386 001e FFF7FEFF 		bl	vListInitialise
 387              	.LVL41:
3446:Src/RTOS/tasks.c **** 	vListInitialise( &xPendingReadyList );
 388              		.loc 1 3446 0
 389 0022 0B4C     		ldr	r4, .L34+8
 390              	.LVL42:
 391 0024 2046     		mov	r0, r4
 392 0026 FFF7FEFF 		bl	vListInitialise
 393              	.LVL43:
3447:Src/RTOS/tasks.c **** 
 394              		.loc 1 3447 0
 395 002a 0A48     		ldr	r0, .L34+12
 396 002c FFF7FEFF 		bl	vListInitialise
 397              	.LVL44:
3451:Src/RTOS/tasks.c **** 	}
 398              		.loc 1 3451 0
 399 0030 0948     		ldr	r0, .L34+16
 400 0032 FFF7FEFF 		bl	vListInitialise
 401              	.LVL45:
3457:Src/RTOS/tasks.c **** 	}
 402              		.loc 1 3457 0
 403 0036 0948     		ldr	r0, .L34+20
 404 0038 FFF7FEFF 		bl	vListInitialise
 405              	.LVL46:
3463:Src/RTOS/tasks.c **** 	pxOverflowDelayedTaskList = &xDelayedTaskList2;
 406              		.loc 1 3463 0
 407 003c 084B     		ldr	r3, .L34+24
 408 003e 1D60     		str	r5, [r3]
3464:Src/RTOS/tasks.c **** }
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 78


 409              		.loc 1 3464 0
 410 0040 084B     		ldr	r3, .L34+28
 411 0042 1C60     		str	r4, [r3]
3465:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 412              		.loc 1 3465 0
 413 0044 38BD     		pop	{r3, r4, r5, pc}
 414              	.L35:
 415 0046 00BF     		.align	2
 416              	.L34:
 417 0048 00000000 		.word	.LANCHOR4
 418 004c 00000000 		.word	.LANCHOR5
 419 0050 00000000 		.word	.LANCHOR6
 420 0054 00000000 		.word	.LANCHOR1
 421 0058 00000000 		.word	.LANCHOR7
 422 005c 00000000 		.word	.LANCHOR0
 423 0060 00000000 		.word	.LANCHOR2
 424 0064 00000000 		.word	.LANCHOR8
 425              		.cfi_endproc
 426              	.LFE42:
 428              		.section	.text.prvAddNewTaskToReadyList,"ax",%progbits
 429              		.align	1
 430              		.syntax unified
 431              		.thumb
 432              		.thumb_func
 433              		.fpu fpv4-sp-d16
 435              	prvAddNewTaskToReadyList:
 436              	.LFB7:
1028:Src/RTOS/tasks.c **** 	/* Ensure interrupts don't access the task lists while the lists are being
 437              		.loc 1 1028 0
 438              		.cfi_startproc
 439              		@ args = 0, pretend = 0, frame = 0
 440              		@ frame_needed = 0, uses_anonymous_args = 0
 441              	.LVL47:
 442 0000 10B5     		push	{r4, lr}
 443              	.LCFI3:
 444              		.cfi_def_cfa_offset 8
 445              		.cfi_offset 4, -8
 446              		.cfi_offset 14, -4
 447 0002 0446     		mov	r4, r0
1031:Src/RTOS/tasks.c **** 	{
 448              		.loc 1 1031 0
 449 0004 FFF7FEFF 		bl	vPortEnterCritical
 450              	.LVL48:
1033:Src/RTOS/tasks.c **** 		if( pxCurrentTCB == NULL )
 451              		.loc 1 1033 0
 452 0008 214A     		ldr	r2, .L43
 453 000a 1368     		ldr	r3, [r2]
 454 000c 0133     		adds	r3, r3, #1
 455 000e 1360     		str	r3, [r2]
1034:Src/RTOS/tasks.c **** 		{
 456              		.loc 1 1034 0
 457 0010 204B     		ldr	r3, .L43+4
 458 0012 1B68     		ldr	r3, [r3]
 459 0014 5BB1     		cbz	r3, .L41
1057:Src/RTOS/tasks.c **** 			{
 460              		.loc 1 1057 0
 461 0016 204B     		ldr	r3, .L43+8
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 79


 462 0018 1B68     		ldr	r3, [r3]
 463 001a 6BB9     		cbnz	r3, .L38
1059:Src/RTOS/tasks.c **** 				{
 464              		.loc 1 1059 0
 465 001c 1D4B     		ldr	r3, .L43+4
 466 001e 1B68     		ldr	r3, [r3]
 467 0020 DA6A     		ldr	r2, [r3, #44]
 468 0022 E36A     		ldr	r3, [r4, #44]
 469 0024 9A42     		cmp	r2, r3
 470 0026 07D8     		bhi	.L38
1061:Src/RTOS/tasks.c **** 				}
 471              		.loc 1 1061 0
 472 0028 1A4B     		ldr	r3, .L43+4
 473 002a 1C60     		str	r4, [r3]
 474 002c 04E0     		b	.L38
 475              	.L41:
1038:Src/RTOS/tasks.c **** 
 476              		.loc 1 1038 0
 477 002e 194B     		ldr	r3, .L43+4
 478 0030 1C60     		str	r4, [r3]
1040:Src/RTOS/tasks.c **** 			{
 479              		.loc 1 1040 0
 480 0032 1368     		ldr	r3, [r2]
 481 0034 012B     		cmp	r3, #1
 482 0036 27D0     		beq	.L42
 483              	.L38:
1074:Src/RTOS/tasks.c **** 
 484              		.loc 1 1074 0
 485 0038 184A     		ldr	r2, .L43+12
 486 003a 1368     		ldr	r3, [r2]
 487 003c 0133     		adds	r3, r3, #1
 488 003e 1360     		str	r3, [r2]
1079:Src/RTOS/tasks.c **** 		}
 489              		.loc 1 1079 0
 490 0040 2364     		str	r3, [r4, #64]
1084:Src/RTOS/tasks.c **** 
 491              		.loc 1 1084 0
 492 0042 E36A     		ldr	r3, [r4, #44]
 493 0044 0122     		movs	r2, #1
 494 0046 9A40     		lsls	r2, r2, r3
 495 0048 1549     		ldr	r1, .L43+16
 496 004a 0868     		ldr	r0, [r1]
 497 004c 0243     		orrs	r2, r2, r0
 498 004e 0A60     		str	r2, [r1]
 499 0050 03EB8303 		add	r3, r3, r3, lsl #2
 500 0054 9A00     		lsls	r2, r3, #2
 501 0056 211D     		adds	r1, r4, #4
 502 0058 1248     		ldr	r0, .L43+20
 503 005a 1044     		add	r0, r0, r2
 504 005c FFF7FEFF 		bl	vListInsertEnd
 505              	.LVL49:
1088:Src/RTOS/tasks.c **** 
 506              		.loc 1 1088 0
 507 0060 FFF7FEFF 		bl	vPortExitCritical
 508              	.LVL50:
1090:Src/RTOS/tasks.c **** 	{
 509              		.loc 1 1090 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 80


 510 0064 0C4B     		ldr	r3, .L43+8
 511 0066 1B68     		ldr	r3, [r3]
 512 0068 6BB1     		cbz	r3, .L36
1094:Src/RTOS/tasks.c **** 		{
 513              		.loc 1 1094 0
 514 006a 0A4B     		ldr	r3, .L43+4
 515 006c 1B68     		ldr	r3, [r3]
 516 006e DA6A     		ldr	r2, [r3, #44]
 517 0070 E36A     		ldr	r3, [r4, #44]
 518 0072 9A42     		cmp	r2, r3
 519 0074 07D2     		bcs	.L36
1096:Src/RTOS/tasks.c **** 		}
 520              		.loc 1 1096 0
 521 0076 0C4B     		ldr	r3, .L43+24
 522 0078 4FF08052 		mov	r2, #268435456
 523 007c 1A60     		str	r2, [r3]
 524              		.syntax unified
 525              	@ 1096 "Src/RTOS/tasks.c" 1
 526 007e BFF34F8F 		dsb
 527              	@ 0 "" 2
 528              	@ 1096 "Src/RTOS/tasks.c" 1
 529 0082 BFF36F8F 		isb
 530              	@ 0 "" 2
 531              		.thumb
 532              		.syntax unified
 533              	.L36:
1107:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 534              		.loc 1 1107 0
 535 0086 10BD     		pop	{r4, pc}
 536              	.LVL51:
 537              	.L42:
1045:Src/RTOS/tasks.c **** 			}
 538              		.loc 1 1045 0
 539 0088 FFF7FEFF 		bl	prvInitialiseTaskLists
 540              	.LVL52:
 541 008c D4E7     		b	.L38
 542              	.L44:
 543 008e 00BF     		.align	2
 544              	.L43:
 545 0090 00000000 		.word	.LANCHOR9
 546 0094 00000000 		.word	.LANCHOR10
 547 0098 00000000 		.word	.LANCHOR11
 548 009c 00000000 		.word	.LANCHOR12
 549 00a0 00000000 		.word	.LANCHOR13
 550 00a4 00000000 		.word	.LANCHOR4
 551 00a8 04ED00E0 		.word	-536810236
 552              		.cfi_endproc
 553              	.LFE7:
 555              		.section	.text.prvCheckTasksWaitingTermination,"ax",%progbits
 556              		.align	1
 557              		.syntax unified
 558              		.thumb
 559              		.thumb_func
 560              		.fpu fpv4-sp-d16
 562              	prvCheckTasksWaitingTermination:
 563              	.LFB43:
3469:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 81


 564              		.loc 1 3469 0
 565              		.cfi_startproc
 566              		@ args = 0, pretend = 0, frame = 0
 567              		@ frame_needed = 0, uses_anonymous_args = 0
 568              	.LBB107:
3479:Src/RTOS/tasks.c **** 		{
 569              		.loc 1 3479 0
 570 0000 0F4B     		ldr	r3, .L52
 571 0002 1B68     		ldr	r3, [r3]
 572 0004 D3B1     		cbz	r3, .L51
 573              	.LBE107:
3469:Src/RTOS/tasks.c **** 
 574              		.loc 1 3469 0
 575 0006 10B5     		push	{r4, lr}
 576              	.LCFI4:
 577              		.cfi_def_cfa_offset 8
 578              		.cfi_offset 4, -8
 579              		.cfi_offset 14, -4
 580              	.L47:
 581              	.LBB108:
3481:Src/RTOS/tasks.c **** 			{
 582              		.loc 1 3481 0
 583 0008 FFF7FEFF 		bl	vPortEnterCritical
 584              	.LVL53:
3483:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xStateListItem ) );
 585              		.loc 1 3483 0
 586 000c 0D4B     		ldr	r3, .L52+4
 587 000e DB68     		ldr	r3, [r3, #12]
 588 0010 DC68     		ldr	r4, [r3, #12]
 589              	.LVL54:
3484:Src/RTOS/tasks.c **** 				--uxCurrentNumberOfTasks;
 590              		.loc 1 3484 0
 591 0012 201D     		adds	r0, r4, #4
 592 0014 FFF7FEFF 		bl	uxListRemove
 593              	.LVL55:
3485:Src/RTOS/tasks.c **** 				--uxDeletedTasksWaitingCleanUp;
 594              		.loc 1 3485 0
 595 0018 0B4A     		ldr	r2, .L52+8
 596 001a 1368     		ldr	r3, [r2]
 597 001c 013B     		subs	r3, r3, #1
 598 001e 1360     		str	r3, [r2]
3486:Src/RTOS/tasks.c **** 			}
 599              		.loc 1 3486 0
 600 0020 074A     		ldr	r2, .L52
 601 0022 1368     		ldr	r3, [r2]
 602 0024 013B     		subs	r3, r3, #1
 603 0026 1360     		str	r3, [r2]
3488:Src/RTOS/tasks.c **** 
 604              		.loc 1 3488 0
 605 0028 FFF7FEFF 		bl	vPortExitCritical
 606              	.LVL56:
3490:Src/RTOS/tasks.c **** 		}
 607              		.loc 1 3490 0
 608 002c 2046     		mov	r0, r4
 609 002e FFF7FEFF 		bl	prvDeleteTCB
 610              	.LVL57:
3479:Src/RTOS/tasks.c **** 		{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 82


 611              		.loc 1 3479 0
 612 0032 034B     		ldr	r3, .L52
 613 0034 1B68     		ldr	r3, [r3]
 614 0036 002B     		cmp	r3, #0
 615 0038 E6D1     		bne	.L47
 616              	.LBE108:
3494:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 617              		.loc 1 3494 0
 618 003a 10BD     		pop	{r4, pc}
 619              	.LVL58:
 620              	.L51:
 621              	.LCFI5:
 622              		.cfi_def_cfa_offset 0
 623              		.cfi_restore 4
 624              		.cfi_restore 14
 625 003c 7047     		bx	lr
 626              	.L53:
 627 003e 00BF     		.align	2
 628              	.L52:
 629 0040 00000000 		.word	.LANCHOR14
 630 0044 00000000 		.word	.LANCHOR7
 631 0048 00000000 		.word	.LANCHOR9
 632              		.cfi_endproc
 633              	.LFE43:
 635              		.section	.text.prvIdleTask,"ax",%progbits
 636              		.align	1
 637              		.syntax unified
 638              		.thumb
 639              		.thumb_func
 640              		.fpu fpv4-sp-d16
 642              	prvIdleTask:
 643              	.LFB41:
3225:Src/RTOS/tasks.c **** 	/* Stop warnings. */
 644              		.loc 1 3225 0
 645              		.cfi_startproc
 646              		@ Volatile: function does not return.
 647              		@ args = 0, pretend = 0, frame = 0
 648              		@ frame_needed = 0, uses_anonymous_args = 0
 649              	.LVL59:
 650 0000 08B5     		push	{r3, lr}
 651              	.LCFI6:
 652              		.cfi_def_cfa_offset 8
 653              		.cfi_offset 3, -8
 654              		.cfi_offset 14, -4
 655              	.LVL60:
 656              	.L55:
3241:Src/RTOS/tasks.c **** 
 657              		.loc 1 3241 0
 658 0002 FFF7FEFF 		bl	prvCheckTasksWaitingTermination
 659              	.LVL61:
3264:Src/RTOS/tasks.c **** 			{
 660              		.loc 1 3264 0
 661 0006 064B     		ldr	r3, .L58
 662 0008 1B68     		ldr	r3, [r3]
 663 000a 012B     		cmp	r3, #1
 664 000c F9D9     		bls	.L55
3266:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 83


 665              		.loc 1 3266 0
 666 000e 054B     		ldr	r3, .L58+4
 667 0010 4FF08052 		mov	r2, #268435456
 668 0014 1A60     		str	r2, [r3]
 669              		.syntax unified
 670              	@ 3266 "Src/RTOS/tasks.c" 1
 671 0016 BFF34F8F 		dsb
 672              	@ 0 "" 2
 673              	@ 3266 "Src/RTOS/tasks.c" 1
 674 001a BFF36F8F 		isb
 675              	@ 0 "" 2
 676              		.thumb
 677              		.syntax unified
 678 001e F0E7     		b	.L55
 679              	.L59:
 680              		.align	2
 681              	.L58:
 682 0020 00000000 		.word	.LANCHOR4
 683 0024 04ED00E0 		.word	-536810236
 684              		.cfi_endproc
 685              	.LFE41:
 687              		.section	.text.prvAddCurrentTaskToDelayedList,"ax",%progbits
 688              		.align	1
 689              		.syntax unified
 690              		.thumb
 691              		.thumb_func
 692              		.fpu fpv4-sp-d16
 694              	prvAddCurrentTaskToDelayedList:
 695              	.LFB62:
3752:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3753:Src/RTOS/tasks.c **** 
3754:Src/RTOS/tasks.c **** #if ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) )
3755:Src/RTOS/tasks.c **** 
3756:Src/RTOS/tasks.c **** 	TaskHandle_t xTaskGetCurrentTaskHandle( void )
3757:Src/RTOS/tasks.c **** 	{
3758:Src/RTOS/tasks.c **** 	TaskHandle_t xReturn;
3759:Src/RTOS/tasks.c **** 
3760:Src/RTOS/tasks.c **** 		/* A critical section is not required as this is not called from
3761:Src/RTOS/tasks.c **** 		an interrupt and the current TCB will always be the same for any
3762:Src/RTOS/tasks.c **** 		individual execution thread. */
3763:Src/RTOS/tasks.c **** 		xReturn = pxCurrentTCB;
3764:Src/RTOS/tasks.c **** 
3765:Src/RTOS/tasks.c **** 		return xReturn;
3766:Src/RTOS/tasks.c **** 	}
3767:Src/RTOS/tasks.c **** 
3768:Src/RTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskGetCurrentTaskHandle == 1 ) || ( configUSE_MUTEXES == 1 ) ) */
3769:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3770:Src/RTOS/tasks.c **** 
3771:Src/RTOS/tasks.c **** #if ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) )
3772:Src/RTOS/tasks.c **** 
3773:Src/RTOS/tasks.c **** 	BaseType_t xTaskGetSchedulerState( void )
3774:Src/RTOS/tasks.c **** 	{
3775:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
3776:Src/RTOS/tasks.c **** 
3777:Src/RTOS/tasks.c **** 		if( xSchedulerRunning == pdFALSE )
3778:Src/RTOS/tasks.c **** 		{
3779:Src/RTOS/tasks.c **** 			xReturn = taskSCHEDULER_NOT_STARTED;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 84


3780:Src/RTOS/tasks.c **** 		}
3781:Src/RTOS/tasks.c **** 		else
3782:Src/RTOS/tasks.c **** 		{
3783:Src/RTOS/tasks.c **** 			if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
3784:Src/RTOS/tasks.c **** 			{
3785:Src/RTOS/tasks.c **** 				xReturn = taskSCHEDULER_RUNNING;
3786:Src/RTOS/tasks.c **** 			}
3787:Src/RTOS/tasks.c **** 			else
3788:Src/RTOS/tasks.c **** 			{
3789:Src/RTOS/tasks.c **** 				xReturn = taskSCHEDULER_SUSPENDED;
3790:Src/RTOS/tasks.c **** 			}
3791:Src/RTOS/tasks.c **** 		}
3792:Src/RTOS/tasks.c **** 
3793:Src/RTOS/tasks.c **** 		return xReturn;
3794:Src/RTOS/tasks.c **** 	}
3795:Src/RTOS/tasks.c **** 
3796:Src/RTOS/tasks.c **** #endif /* ( ( INCLUDE_xTaskGetSchedulerState == 1 ) || ( configUSE_TIMERS == 1 ) ) */
3797:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3798:Src/RTOS/tasks.c **** 
3799:Src/RTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
3800:Src/RTOS/tasks.c **** 
3801:Src/RTOS/tasks.c **** 	BaseType_t xTaskPriorityInherit( TaskHandle_t const pxMutexHolder )
3802:Src/RTOS/tasks.c **** 	{
3803:Src/RTOS/tasks.c **** 	TCB_t * const pxMutexHolderTCB = ( TCB_t * ) pxMutexHolder;
3804:Src/RTOS/tasks.c **** 	BaseType_t xReturn = pdFALSE;
3805:Src/RTOS/tasks.c **** 
3806:Src/RTOS/tasks.c **** 		/* If the mutex was given back by an interrupt while the queue was
3807:Src/RTOS/tasks.c **** 		locked then the mutex holder might now be NULL.  _RB_ Is this still
3808:Src/RTOS/tasks.c **** 		needed as interrupts can no longer use mutexes? */
3809:Src/RTOS/tasks.c **** 		if( pxMutexHolder != NULL )
3810:Src/RTOS/tasks.c **** 		{
3811:Src/RTOS/tasks.c **** 			/* If the holder of the mutex has a priority below the priority of
3812:Src/RTOS/tasks.c **** 			the task attempting to obtain the mutex then it will temporarily
3813:Src/RTOS/tasks.c **** 			inherit the priority of the task attempting to obtain the mutex. */
3814:Src/RTOS/tasks.c **** 			if( pxMutexHolderTCB->uxPriority < pxCurrentTCB->uxPriority )
3815:Src/RTOS/tasks.c **** 			{
3816:Src/RTOS/tasks.c **** 				/* Adjust the mutex holder state to account for its new
3817:Src/RTOS/tasks.c **** 				priority.  Only reset the event list item value if the value is
3818:Src/RTOS/tasks.c **** 				not being used for anything else. */
3819:Src/RTOS/tasks.c **** 				if( ( listGET_LIST_ITEM_VALUE( &( pxMutexHolderTCB->xEventListItem ) ) & taskEVENT_LIST_ITEM_VA
3820:Src/RTOS/tasks.c **** 				{
3821:Src/RTOS/tasks.c **** 					listSET_LIST_ITEM_VALUE( &( pxMutexHolderTCB->xEventListItem ), ( TickType_t ) configMAX_PRIOR
3822:Src/RTOS/tasks.c **** 				}
3823:Src/RTOS/tasks.c **** 				else
3824:Src/RTOS/tasks.c **** 				{
3825:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
3826:Src/RTOS/tasks.c **** 				}
3827:Src/RTOS/tasks.c **** 
3828:Src/RTOS/tasks.c **** 				/* If the task being modified is in the ready state it will need
3829:Src/RTOS/tasks.c **** 				to be moved into a new list. */
3830:Src/RTOS/tasks.c **** 				if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ pxMutexHolderTCB->uxPriority ] ), &( pxMutex
3831:Src/RTOS/tasks.c **** 				{
3832:Src/RTOS/tasks.c **** 					if( uxListRemove( &( pxMutexHolderTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
3833:Src/RTOS/tasks.c **** 					{
3834:Src/RTOS/tasks.c **** 						taskRESET_READY_PRIORITY( pxMutexHolderTCB->uxPriority );
3835:Src/RTOS/tasks.c **** 					}
3836:Src/RTOS/tasks.c **** 					else
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 85


3837:Src/RTOS/tasks.c **** 					{
3838:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
3839:Src/RTOS/tasks.c **** 					}
3840:Src/RTOS/tasks.c **** 
3841:Src/RTOS/tasks.c **** 					/* Inherit the priority before being moved into the new list. */
3842:Src/RTOS/tasks.c **** 					pxMutexHolderTCB->uxPriority = pxCurrentTCB->uxPriority;
3843:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxMutexHolderTCB );
3844:Src/RTOS/tasks.c **** 				}
3845:Src/RTOS/tasks.c **** 				else
3846:Src/RTOS/tasks.c **** 				{
3847:Src/RTOS/tasks.c **** 					/* Just inherit the priority. */
3848:Src/RTOS/tasks.c **** 					pxMutexHolderTCB->uxPriority = pxCurrentTCB->uxPriority;
3849:Src/RTOS/tasks.c **** 				}
3850:Src/RTOS/tasks.c **** 
3851:Src/RTOS/tasks.c **** 				traceTASK_PRIORITY_INHERIT( pxMutexHolderTCB, pxCurrentTCB->uxPriority );
3852:Src/RTOS/tasks.c **** 
3853:Src/RTOS/tasks.c **** 				/* Inheritance occurred. */
3854:Src/RTOS/tasks.c **** 				xReturn = pdTRUE;
3855:Src/RTOS/tasks.c **** 			}
3856:Src/RTOS/tasks.c **** 			else
3857:Src/RTOS/tasks.c **** 			{
3858:Src/RTOS/tasks.c **** 				if( pxMutexHolderTCB->uxBasePriority < pxCurrentTCB->uxPriority )
3859:Src/RTOS/tasks.c **** 				{
3860:Src/RTOS/tasks.c **** 					/* The base priority of the mutex holder is lower than the
3861:Src/RTOS/tasks.c **** 					priority of the task attempting to take the mutex, but the
3862:Src/RTOS/tasks.c **** 					current priority of the mutex holder is not lower than the
3863:Src/RTOS/tasks.c **** 					priority of the task attempting to take the mutex.
3864:Src/RTOS/tasks.c **** 					Therefore the mutex holder must have already inherited a
3865:Src/RTOS/tasks.c **** 					priority, but inheritance would have occurred if that had
3866:Src/RTOS/tasks.c **** 					not been the case. */
3867:Src/RTOS/tasks.c **** 					xReturn = pdTRUE;
3868:Src/RTOS/tasks.c **** 				}
3869:Src/RTOS/tasks.c **** 				else
3870:Src/RTOS/tasks.c **** 				{
3871:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
3872:Src/RTOS/tasks.c **** 				}
3873:Src/RTOS/tasks.c **** 			}
3874:Src/RTOS/tasks.c **** 		}
3875:Src/RTOS/tasks.c **** 		else
3876:Src/RTOS/tasks.c **** 		{
3877:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
3878:Src/RTOS/tasks.c **** 		}
3879:Src/RTOS/tasks.c **** 
3880:Src/RTOS/tasks.c **** 		return xReturn;
3881:Src/RTOS/tasks.c **** 	}
3882:Src/RTOS/tasks.c **** 
3883:Src/RTOS/tasks.c **** #endif /* configUSE_MUTEXES */
3884:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3885:Src/RTOS/tasks.c **** 
3886:Src/RTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
3887:Src/RTOS/tasks.c **** 
3888:Src/RTOS/tasks.c **** 	BaseType_t xTaskPriorityDisinherit( TaskHandle_t const pxMutexHolder )
3889:Src/RTOS/tasks.c **** 	{
3890:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
3891:Src/RTOS/tasks.c **** 	BaseType_t xReturn = pdFALSE;
3892:Src/RTOS/tasks.c **** 
3893:Src/RTOS/tasks.c **** 		if( pxMutexHolder != NULL )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 86


3894:Src/RTOS/tasks.c **** 		{
3895:Src/RTOS/tasks.c **** 			/* A task can only have an inherited priority if it holds the mutex.
3896:Src/RTOS/tasks.c **** 			If the mutex is held by a task then it cannot be given from an
3897:Src/RTOS/tasks.c **** 			interrupt, and if a mutex is given by the holding task then it must
3898:Src/RTOS/tasks.c **** 			be the running state task. */
3899:Src/RTOS/tasks.c **** 			configASSERT( pxTCB == pxCurrentTCB );
3900:Src/RTOS/tasks.c **** 			configASSERT( pxTCB->uxMutexesHeld );
3901:Src/RTOS/tasks.c **** 			( pxTCB->uxMutexesHeld )--;
3902:Src/RTOS/tasks.c **** 
3903:Src/RTOS/tasks.c **** 			/* Has the holder of the mutex inherited the priority of another
3904:Src/RTOS/tasks.c **** 			task? */
3905:Src/RTOS/tasks.c **** 			if( pxTCB->uxPriority != pxTCB->uxBasePriority )
3906:Src/RTOS/tasks.c **** 			{
3907:Src/RTOS/tasks.c **** 				/* Only disinherit if no other mutexes are held. */
3908:Src/RTOS/tasks.c **** 				if( pxTCB->uxMutexesHeld == ( UBaseType_t ) 0 )
3909:Src/RTOS/tasks.c **** 				{
3910:Src/RTOS/tasks.c **** 					/* A task can only have an inherited priority if it holds
3911:Src/RTOS/tasks.c **** 					the mutex.  If the mutex is held by a task then it cannot be
3912:Src/RTOS/tasks.c **** 					given from an interrupt, and if a mutex is given by the
3913:Src/RTOS/tasks.c **** 					holding task then it must be the running state task.  Remove
3914:Src/RTOS/tasks.c **** 					the holding task from the ready list. */
3915:Src/RTOS/tasks.c **** 					if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
3916:Src/RTOS/tasks.c **** 					{
3917:Src/RTOS/tasks.c **** 						taskRESET_READY_PRIORITY( pxTCB->uxPriority );
3918:Src/RTOS/tasks.c **** 					}
3919:Src/RTOS/tasks.c **** 					else
3920:Src/RTOS/tasks.c **** 					{
3921:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
3922:Src/RTOS/tasks.c **** 					}
3923:Src/RTOS/tasks.c **** 
3924:Src/RTOS/tasks.c **** 					/* Disinherit the priority before adding the task into the
3925:Src/RTOS/tasks.c **** 					new	ready list. */
3926:Src/RTOS/tasks.c **** 					traceTASK_PRIORITY_DISINHERIT( pxTCB, pxTCB->uxBasePriority );
3927:Src/RTOS/tasks.c **** 					pxTCB->uxPriority = pxTCB->uxBasePriority;
3928:Src/RTOS/tasks.c **** 
3929:Src/RTOS/tasks.c **** 					/* Reset the event list item value.  It cannot be in use for
3930:Src/RTOS/tasks.c **** 					any other purpose if this task is running, and it must be
3931:Src/RTOS/tasks.c **** 					running to give back the mutex. */
3932:Src/RTOS/tasks.c **** 					listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( TickType_t ) configMAX_PRIORITIES - ( T
3933:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
3934:Src/RTOS/tasks.c **** 
3935:Src/RTOS/tasks.c **** 					/* Return true to indicate that a context switch is required.
3936:Src/RTOS/tasks.c **** 					This is only actually required in the corner case whereby
3937:Src/RTOS/tasks.c **** 					multiple mutexes were held and the mutexes were given back
3938:Src/RTOS/tasks.c **** 					in an order different to that in which they were taken.
3939:Src/RTOS/tasks.c **** 					If a context switch did not occur when the first mutex was
3940:Src/RTOS/tasks.c **** 					returned, even if a task was waiting on it, then a context
3941:Src/RTOS/tasks.c **** 					switch should occur when the last mutex is returned whether
3942:Src/RTOS/tasks.c **** 					a task is waiting on it or not. */
3943:Src/RTOS/tasks.c **** 					xReturn = pdTRUE;
3944:Src/RTOS/tasks.c **** 				}
3945:Src/RTOS/tasks.c **** 				else
3946:Src/RTOS/tasks.c **** 				{
3947:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
3948:Src/RTOS/tasks.c **** 				}
3949:Src/RTOS/tasks.c **** 			}
3950:Src/RTOS/tasks.c **** 			else
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 87


3951:Src/RTOS/tasks.c **** 			{
3952:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
3953:Src/RTOS/tasks.c **** 			}
3954:Src/RTOS/tasks.c **** 		}
3955:Src/RTOS/tasks.c **** 		else
3956:Src/RTOS/tasks.c **** 		{
3957:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
3958:Src/RTOS/tasks.c **** 		}
3959:Src/RTOS/tasks.c **** 
3960:Src/RTOS/tasks.c **** 		return xReturn;
3961:Src/RTOS/tasks.c **** 	}
3962:Src/RTOS/tasks.c **** 
3963:Src/RTOS/tasks.c **** #endif /* configUSE_MUTEXES */
3964:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
3965:Src/RTOS/tasks.c **** 
3966:Src/RTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
3967:Src/RTOS/tasks.c **** 
3968:Src/RTOS/tasks.c **** 	void vTaskPriorityDisinheritAfterTimeout( TaskHandle_t const pxMutexHolder, UBaseType_t uxHighestP
3969:Src/RTOS/tasks.c **** 	{
3970:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
3971:Src/RTOS/tasks.c **** 	UBaseType_t uxPriorityUsedOnEntry, uxPriorityToUse;
3972:Src/RTOS/tasks.c **** 	const UBaseType_t uxOnlyOneMutexHeld = ( UBaseType_t ) 1;
3973:Src/RTOS/tasks.c **** 
3974:Src/RTOS/tasks.c **** 		if( pxMutexHolder != NULL )
3975:Src/RTOS/tasks.c **** 		{
3976:Src/RTOS/tasks.c **** 			/* If pxMutexHolder is not NULL then the holder must hold at least
3977:Src/RTOS/tasks.c **** 			one mutex. */
3978:Src/RTOS/tasks.c **** 			configASSERT( pxTCB->uxMutexesHeld );
3979:Src/RTOS/tasks.c **** 
3980:Src/RTOS/tasks.c **** 			/* Determine the priority to which the priority of the task that
3981:Src/RTOS/tasks.c **** 			holds the mutex should be set.  This will be the greater of the
3982:Src/RTOS/tasks.c **** 			holding task's base priority and the priority of the highest
3983:Src/RTOS/tasks.c **** 			priority task that is waiting to obtain the mutex. */
3984:Src/RTOS/tasks.c **** 			if( pxTCB->uxBasePriority < uxHighestPriorityWaitingTask )
3985:Src/RTOS/tasks.c **** 			{
3986:Src/RTOS/tasks.c **** 				uxPriorityToUse = uxHighestPriorityWaitingTask;
3987:Src/RTOS/tasks.c **** 			}
3988:Src/RTOS/tasks.c **** 			else
3989:Src/RTOS/tasks.c **** 			{
3990:Src/RTOS/tasks.c **** 				uxPriorityToUse = pxTCB->uxBasePriority;
3991:Src/RTOS/tasks.c **** 			}
3992:Src/RTOS/tasks.c **** 
3993:Src/RTOS/tasks.c **** 			/* Does the priority need to change? */
3994:Src/RTOS/tasks.c **** 			if( pxTCB->uxPriority != uxPriorityToUse )
3995:Src/RTOS/tasks.c **** 			{
3996:Src/RTOS/tasks.c **** 				/* Only disinherit if no other mutexes are held.  This is a
3997:Src/RTOS/tasks.c **** 				simplification in the priority inheritance implementation.  If
3998:Src/RTOS/tasks.c **** 				the task that holds the mutex is also holding other mutexes then
3999:Src/RTOS/tasks.c **** 				the other mutexes may have caused the priority inheritance. */
4000:Src/RTOS/tasks.c **** 				if( pxTCB->uxMutexesHeld == uxOnlyOneMutexHeld )
4001:Src/RTOS/tasks.c **** 				{
4002:Src/RTOS/tasks.c **** 					/* If a task has timed out because it already holds the
4003:Src/RTOS/tasks.c **** 					mutex it was trying to obtain then it cannot of inherited
4004:Src/RTOS/tasks.c **** 					its own priority. */
4005:Src/RTOS/tasks.c **** 					configASSERT( pxTCB != pxCurrentTCB );
4006:Src/RTOS/tasks.c **** 
4007:Src/RTOS/tasks.c **** 					/* Disinherit the priority, remembering the previous
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 88


4008:Src/RTOS/tasks.c **** 					priority to facilitate determining the subject task's
4009:Src/RTOS/tasks.c **** 					state. */
4010:Src/RTOS/tasks.c **** 					traceTASK_PRIORITY_DISINHERIT( pxTCB, pxTCB->uxBasePriority );
4011:Src/RTOS/tasks.c **** 					uxPriorityUsedOnEntry = pxTCB->uxPriority;
4012:Src/RTOS/tasks.c **** 					pxTCB->uxPriority = uxPriorityToUse;
4013:Src/RTOS/tasks.c **** 
4014:Src/RTOS/tasks.c **** 					/* Only reset the event list item value if the value is not
4015:Src/RTOS/tasks.c **** 					being used for anything else. */
4016:Src/RTOS/tasks.c **** 					if( ( listGET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ) ) & taskEVENT_LIST_ITEM_VALUE_IN_USE
4017:Src/RTOS/tasks.c **** 					{
4018:Src/RTOS/tasks.c **** 						listSET_LIST_ITEM_VALUE( &( pxTCB->xEventListItem ), ( TickType_t ) configMAX_PRIORITIES - ( 
4019:Src/RTOS/tasks.c **** 					}
4020:Src/RTOS/tasks.c **** 					else
4021:Src/RTOS/tasks.c **** 					{
4022:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
4023:Src/RTOS/tasks.c **** 					}
4024:Src/RTOS/tasks.c **** 
4025:Src/RTOS/tasks.c **** 					/* If the running task is not the task that holds the mutex
4026:Src/RTOS/tasks.c **** 					then the task that holds the mutex could be in either the
4027:Src/RTOS/tasks.c **** 					Ready, Blocked or Suspended states.  Only remove the task
4028:Src/RTOS/tasks.c **** 					from its current state list if it is in the Ready state as
4029:Src/RTOS/tasks.c **** 					the task's priority is going to change and there is one
4030:Src/RTOS/tasks.c **** 					Ready list per priority. */
4031:Src/RTOS/tasks.c **** 					if( listIS_CONTAINED_WITHIN( &( pxReadyTasksLists[ uxPriorityUsedOnEntry ] ), &( pxTCB->xState
4032:Src/RTOS/tasks.c **** 					{
4033:Src/RTOS/tasks.c **** 						if( uxListRemove( &( pxTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
4034:Src/RTOS/tasks.c **** 						{
4035:Src/RTOS/tasks.c **** 							taskRESET_READY_PRIORITY( pxTCB->uxPriority );
4036:Src/RTOS/tasks.c **** 						}
4037:Src/RTOS/tasks.c **** 						else
4038:Src/RTOS/tasks.c **** 						{
4039:Src/RTOS/tasks.c **** 							mtCOVERAGE_TEST_MARKER();
4040:Src/RTOS/tasks.c **** 						}
4041:Src/RTOS/tasks.c **** 
4042:Src/RTOS/tasks.c **** 						prvAddTaskToReadyList( pxTCB );
4043:Src/RTOS/tasks.c **** 					}
4044:Src/RTOS/tasks.c **** 					else
4045:Src/RTOS/tasks.c **** 					{
4046:Src/RTOS/tasks.c **** 						mtCOVERAGE_TEST_MARKER();
4047:Src/RTOS/tasks.c **** 					}
4048:Src/RTOS/tasks.c **** 				}
4049:Src/RTOS/tasks.c **** 				else
4050:Src/RTOS/tasks.c **** 				{
4051:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4052:Src/RTOS/tasks.c **** 				}
4053:Src/RTOS/tasks.c **** 			}
4054:Src/RTOS/tasks.c **** 			else
4055:Src/RTOS/tasks.c **** 			{
4056:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4057:Src/RTOS/tasks.c **** 			}
4058:Src/RTOS/tasks.c **** 		}
4059:Src/RTOS/tasks.c **** 		else
4060:Src/RTOS/tasks.c **** 		{
4061:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
4062:Src/RTOS/tasks.c **** 		}
4063:Src/RTOS/tasks.c **** 	}
4064:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 89


4065:Src/RTOS/tasks.c **** #endif /* configUSE_MUTEXES */
4066:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4067:Src/RTOS/tasks.c **** 
4068:Src/RTOS/tasks.c **** #if ( portCRITICAL_NESTING_IN_TCB == 1 )
4069:Src/RTOS/tasks.c **** 
4070:Src/RTOS/tasks.c **** 	void vTaskEnterCritical( void )
4071:Src/RTOS/tasks.c **** 	{
4072:Src/RTOS/tasks.c **** 		portDISABLE_INTERRUPTS();
4073:Src/RTOS/tasks.c **** 
4074:Src/RTOS/tasks.c **** 		if( xSchedulerRunning != pdFALSE )
4075:Src/RTOS/tasks.c **** 		{
4076:Src/RTOS/tasks.c **** 			( pxCurrentTCB->uxCriticalNesting )++;
4077:Src/RTOS/tasks.c **** 
4078:Src/RTOS/tasks.c **** 			/* This is not the interrupt safe version of the enter critical
4079:Src/RTOS/tasks.c **** 			function so	assert() if it is being called from an interrupt
4080:Src/RTOS/tasks.c **** 			context.  Only API functions that end in "FromISR" can be used in an
4081:Src/RTOS/tasks.c **** 			interrupt.  Only assert if the critical nesting count is 1 to
4082:Src/RTOS/tasks.c **** 			protect against recursive calls if the assert function also uses a
4083:Src/RTOS/tasks.c **** 			critical section. */
4084:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->uxCriticalNesting == 1 )
4085:Src/RTOS/tasks.c **** 			{
4086:Src/RTOS/tasks.c **** 				portASSERT_IF_IN_ISR();
4087:Src/RTOS/tasks.c **** 			}
4088:Src/RTOS/tasks.c **** 		}
4089:Src/RTOS/tasks.c **** 		else
4090:Src/RTOS/tasks.c **** 		{
4091:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
4092:Src/RTOS/tasks.c **** 		}
4093:Src/RTOS/tasks.c **** 	}
4094:Src/RTOS/tasks.c **** 
4095:Src/RTOS/tasks.c **** #endif /* portCRITICAL_NESTING_IN_TCB */
4096:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4097:Src/RTOS/tasks.c **** 
4098:Src/RTOS/tasks.c **** #if ( portCRITICAL_NESTING_IN_TCB == 1 )
4099:Src/RTOS/tasks.c **** 
4100:Src/RTOS/tasks.c **** 	void vTaskExitCritical( void )
4101:Src/RTOS/tasks.c **** 	{
4102:Src/RTOS/tasks.c **** 		if( xSchedulerRunning != pdFALSE )
4103:Src/RTOS/tasks.c **** 		{
4104:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->uxCriticalNesting > 0U )
4105:Src/RTOS/tasks.c **** 			{
4106:Src/RTOS/tasks.c **** 				( pxCurrentTCB->uxCriticalNesting )--;
4107:Src/RTOS/tasks.c **** 
4108:Src/RTOS/tasks.c **** 				if( pxCurrentTCB->uxCriticalNesting == 0U )
4109:Src/RTOS/tasks.c **** 				{
4110:Src/RTOS/tasks.c **** 					portENABLE_INTERRUPTS();
4111:Src/RTOS/tasks.c **** 				}
4112:Src/RTOS/tasks.c **** 				else
4113:Src/RTOS/tasks.c **** 				{
4114:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4115:Src/RTOS/tasks.c **** 				}
4116:Src/RTOS/tasks.c **** 			}
4117:Src/RTOS/tasks.c **** 			else
4118:Src/RTOS/tasks.c **** 			{
4119:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4120:Src/RTOS/tasks.c **** 			}
4121:Src/RTOS/tasks.c **** 		}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 90


4122:Src/RTOS/tasks.c **** 		else
4123:Src/RTOS/tasks.c **** 		{
4124:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
4125:Src/RTOS/tasks.c **** 		}
4126:Src/RTOS/tasks.c **** 	}
4127:Src/RTOS/tasks.c **** 
4128:Src/RTOS/tasks.c **** #endif /* portCRITICAL_NESTING_IN_TCB */
4129:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4130:Src/RTOS/tasks.c **** 
4131:Src/RTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) )
4132:Src/RTOS/tasks.c **** 
4133:Src/RTOS/tasks.c **** 	static char *prvWriteNameToBuffer( char *pcBuffer, const char *pcTaskName )
4134:Src/RTOS/tasks.c **** 	{
4135:Src/RTOS/tasks.c **** 	size_t x;
4136:Src/RTOS/tasks.c **** 
4137:Src/RTOS/tasks.c **** 		/* Start by copying the entire string. */
4138:Src/RTOS/tasks.c **** 		strcpy( pcBuffer, pcTaskName );
4139:Src/RTOS/tasks.c **** 
4140:Src/RTOS/tasks.c **** 		/* Pad the end of the string with spaces to ensure columns line up when
4141:Src/RTOS/tasks.c **** 		printed out. */
4142:Src/RTOS/tasks.c **** 		for( x = strlen( pcBuffer ); x < ( size_t ) ( configMAX_TASK_NAME_LEN - 1 ); x++ )
4143:Src/RTOS/tasks.c **** 		{
4144:Src/RTOS/tasks.c **** 			pcBuffer[ x ] = ' ';
4145:Src/RTOS/tasks.c **** 		}
4146:Src/RTOS/tasks.c **** 
4147:Src/RTOS/tasks.c **** 		/* Terminate. */
4148:Src/RTOS/tasks.c **** 		pcBuffer[ x ] = 0x00;
4149:Src/RTOS/tasks.c **** 
4150:Src/RTOS/tasks.c **** 		/* Return the new end of string. */
4151:Src/RTOS/tasks.c **** 		return &( pcBuffer[ x ] );
4152:Src/RTOS/tasks.c **** 	}
4153:Src/RTOS/tasks.c **** 
4154:Src/RTOS/tasks.c **** #endif /* ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) */
4155:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4156:Src/RTOS/tasks.c **** 
4157:Src/RTOS/tasks.c **** #if ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) && ( config
4158:Src/RTOS/tasks.c **** 
4159:Src/RTOS/tasks.c **** 	void vTaskList( char * pcWriteBuffer )
4160:Src/RTOS/tasks.c **** 	{
4161:Src/RTOS/tasks.c **** 	TaskStatus_t *pxTaskStatusArray;
4162:Src/RTOS/tasks.c **** 	volatile UBaseType_t uxArraySize, x;
4163:Src/RTOS/tasks.c **** 	char cStatus;
4164:Src/RTOS/tasks.c **** 
4165:Src/RTOS/tasks.c **** 		/*
4166:Src/RTOS/tasks.c **** 		 * PLEASE NOTE:
4167:Src/RTOS/tasks.c **** 		 *
4168:Src/RTOS/tasks.c **** 		 * This function is provided for convenience only, and is used by many
4169:Src/RTOS/tasks.c **** 		 * of the demo applications.  Do not consider it to be part of the
4170:Src/RTOS/tasks.c **** 		 * scheduler.
4171:Src/RTOS/tasks.c **** 		 *
4172:Src/RTOS/tasks.c **** 		 * vTaskList() calls uxTaskGetSystemState(), then formats part of the
4173:Src/RTOS/tasks.c **** 		 * uxTaskGetSystemState() output into a human readable table that
4174:Src/RTOS/tasks.c **** 		 * displays task names, states and stack usage.
4175:Src/RTOS/tasks.c **** 		 *
4176:Src/RTOS/tasks.c **** 		 * vTaskList() has a dependency on the sprintf() C library function that
4177:Src/RTOS/tasks.c **** 		 * might bloat the code size, use a lot of stack, and provide different
4178:Src/RTOS/tasks.c **** 		 * results on different platforms.  An alternative, tiny, third party,
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 91


4179:Src/RTOS/tasks.c **** 		 * and limited functionality implementation of sprintf() is provided in
4180:Src/RTOS/tasks.c **** 		 * many of the FreeRTOS/Demo sub-directories in a file called
4181:Src/RTOS/tasks.c **** 		 * printf-stdarg.c (note printf-stdarg.c does not provide a full
4182:Src/RTOS/tasks.c **** 		 * snprintf() implementation!).
4183:Src/RTOS/tasks.c **** 		 *
4184:Src/RTOS/tasks.c **** 		 * It is recommended that production systems call uxTaskGetSystemState()
4185:Src/RTOS/tasks.c **** 		 * directly to get access to raw stats data, rather than indirectly
4186:Src/RTOS/tasks.c **** 		 * through a call to vTaskList().
4187:Src/RTOS/tasks.c **** 		 */
4188:Src/RTOS/tasks.c **** 
4189:Src/RTOS/tasks.c **** 
4190:Src/RTOS/tasks.c **** 		/* Make sure the write buffer does not contain a string. */
4191:Src/RTOS/tasks.c **** 		*pcWriteBuffer = 0x00;
4192:Src/RTOS/tasks.c **** 
4193:Src/RTOS/tasks.c **** 		/* Take a snapshot of the number of tasks in case it changes while this
4194:Src/RTOS/tasks.c **** 		function is executing. */
4195:Src/RTOS/tasks.c **** 		uxArraySize = uxCurrentNumberOfTasks;
4196:Src/RTOS/tasks.c **** 
4197:Src/RTOS/tasks.c **** 		/* Allocate an array index for each task.  NOTE!  if
4198:Src/RTOS/tasks.c **** 		configSUPPORT_DYNAMIC_ALLOCATION is set to 0 then pvPortMalloc() will
4199:Src/RTOS/tasks.c **** 		equate to NULL. */
4200:Src/RTOS/tasks.c **** 		pxTaskStatusArray = pvPortMalloc( uxCurrentNumberOfTasks * sizeof( TaskStatus_t ) );
4201:Src/RTOS/tasks.c **** 
4202:Src/RTOS/tasks.c **** 		if( pxTaskStatusArray != NULL )
4203:Src/RTOS/tasks.c **** 		{
4204:Src/RTOS/tasks.c **** 			/* Generate the (binary) data. */
4205:Src/RTOS/tasks.c **** 			uxArraySize = uxTaskGetSystemState( pxTaskStatusArray, uxArraySize, NULL );
4206:Src/RTOS/tasks.c **** 
4207:Src/RTOS/tasks.c **** 			/* Create a human readable table from the binary data. */
4208:Src/RTOS/tasks.c **** 			for( x = 0; x < uxArraySize; x++ )
4209:Src/RTOS/tasks.c **** 			{
4210:Src/RTOS/tasks.c **** 				switch( pxTaskStatusArray[ x ].eCurrentState )
4211:Src/RTOS/tasks.c **** 				{
4212:Src/RTOS/tasks.c **** 					case eRunning:		cStatus = tskRUNNING_CHAR;
4213:Src/RTOS/tasks.c **** 										break;
4214:Src/RTOS/tasks.c **** 
4215:Src/RTOS/tasks.c **** 					case eReady:		cStatus = tskREADY_CHAR;
4216:Src/RTOS/tasks.c **** 										break;
4217:Src/RTOS/tasks.c **** 
4218:Src/RTOS/tasks.c **** 					case eBlocked:		cStatus = tskBLOCKED_CHAR;
4219:Src/RTOS/tasks.c **** 										break;
4220:Src/RTOS/tasks.c **** 
4221:Src/RTOS/tasks.c **** 					case eSuspended:	cStatus = tskSUSPENDED_CHAR;
4222:Src/RTOS/tasks.c **** 										break;
4223:Src/RTOS/tasks.c **** 
4224:Src/RTOS/tasks.c **** 					case eDeleted:		cStatus = tskDELETED_CHAR;
4225:Src/RTOS/tasks.c **** 										break;
4226:Src/RTOS/tasks.c **** 
4227:Src/RTOS/tasks.c **** 					default:			/* Should not get here, but it is included
4228:Src/RTOS/tasks.c **** 										to prevent static checking errors. */
4229:Src/RTOS/tasks.c **** 										cStatus = 0x00;
4230:Src/RTOS/tasks.c **** 										break;
4231:Src/RTOS/tasks.c **** 				}
4232:Src/RTOS/tasks.c **** 
4233:Src/RTOS/tasks.c **** 				/* Write the task name to the string, padding with spaces so it
4234:Src/RTOS/tasks.c **** 				can be printed in tabular form more easily. */
4235:Src/RTOS/tasks.c **** 				pcWriteBuffer = prvWriteNameToBuffer( pcWriteBuffer, pxTaskStatusArray[ x ].pcTaskName );
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 92


4236:Src/RTOS/tasks.c **** 
4237:Src/RTOS/tasks.c **** 				/* Write the rest of the string. */
4238:Src/RTOS/tasks.c **** 				sprintf( pcWriteBuffer, "\t%c\t%u\t%u\t%u\r\n", cStatus, ( unsigned int ) pxTaskStatusArray[ x 
4239:Src/RTOS/tasks.c **** 				pcWriteBuffer += strlen( pcWriteBuffer );
4240:Src/RTOS/tasks.c **** 			}
4241:Src/RTOS/tasks.c **** 
4242:Src/RTOS/tasks.c **** 			/* Free the array again.  NOTE!  If configSUPPORT_DYNAMIC_ALLOCATION
4243:Src/RTOS/tasks.c **** 			is 0 then vPortFree() will be #defined to nothing. */
4244:Src/RTOS/tasks.c **** 			vPortFree( pxTaskStatusArray );
4245:Src/RTOS/tasks.c **** 		}
4246:Src/RTOS/tasks.c **** 		else
4247:Src/RTOS/tasks.c **** 		{
4248:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
4249:Src/RTOS/tasks.c **** 		}
4250:Src/RTOS/tasks.c **** 	}
4251:Src/RTOS/tasks.c **** 
4252:Src/RTOS/tasks.c **** #endif /* ( ( configUSE_TRACE_FACILITY == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) && ( 
4253:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
4254:Src/RTOS/tasks.c **** 
4255:Src/RTOS/tasks.c **** #if ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) && ( c
4256:Src/RTOS/tasks.c **** 
4257:Src/RTOS/tasks.c **** 	void vTaskGetRunTimeStats( char *pcWriteBuffer )
4258:Src/RTOS/tasks.c **** 	{
4259:Src/RTOS/tasks.c **** 	TaskStatus_t *pxTaskStatusArray;
4260:Src/RTOS/tasks.c **** 	volatile UBaseType_t uxArraySize, x;
4261:Src/RTOS/tasks.c **** 	uint32_t ulTotalTime, ulStatsAsPercentage;
4262:Src/RTOS/tasks.c **** 
4263:Src/RTOS/tasks.c **** 		#if( configUSE_TRACE_FACILITY != 1 )
4264:Src/RTOS/tasks.c **** 		{
4265:Src/RTOS/tasks.c **** 			#error configUSE_TRACE_FACILITY must also be set to 1 in FreeRTOSConfig.h to use vTaskGetRunTime
4266:Src/RTOS/tasks.c **** 		}
4267:Src/RTOS/tasks.c **** 		#endif
4268:Src/RTOS/tasks.c **** 
4269:Src/RTOS/tasks.c **** 		/*
4270:Src/RTOS/tasks.c **** 		 * PLEASE NOTE:
4271:Src/RTOS/tasks.c **** 		 *
4272:Src/RTOS/tasks.c **** 		 * This function is provided for convenience only, and is used by many
4273:Src/RTOS/tasks.c **** 		 * of the demo applications.  Do not consider it to be part of the
4274:Src/RTOS/tasks.c **** 		 * scheduler.
4275:Src/RTOS/tasks.c **** 		 *
4276:Src/RTOS/tasks.c **** 		 * vTaskGetRunTimeStats() calls uxTaskGetSystemState(), then formats part
4277:Src/RTOS/tasks.c **** 		 * of the uxTaskGetSystemState() output into a human readable table that
4278:Src/RTOS/tasks.c **** 		 * displays the amount of time each task has spent in the Running state
4279:Src/RTOS/tasks.c **** 		 * in both absolute and percentage terms.
4280:Src/RTOS/tasks.c **** 		 *
4281:Src/RTOS/tasks.c **** 		 * vTaskGetRunTimeStats() has a dependency on the sprintf() C library
4282:Src/RTOS/tasks.c **** 		 * function that might bloat the code size, use a lot of stack, and
4283:Src/RTOS/tasks.c **** 		 * provide different results on different platforms.  An alternative,
4284:Src/RTOS/tasks.c **** 		 * tiny, third party, and limited functionality implementation of
4285:Src/RTOS/tasks.c **** 		 * sprintf() is provided in many of the FreeRTOS/Demo sub-directories in
4286:Src/RTOS/tasks.c **** 		 * a file called printf-stdarg.c (note printf-stdarg.c does not provide
4287:Src/RTOS/tasks.c **** 		 * a full snprintf() implementation!).
4288:Src/RTOS/tasks.c **** 		 *
4289:Src/RTOS/tasks.c **** 		 * It is recommended that production systems call uxTaskGetSystemState()
4290:Src/RTOS/tasks.c **** 		 * directly to get access to raw stats data, rather than indirectly
4291:Src/RTOS/tasks.c **** 		 * through a call to vTaskGetRunTimeStats().
4292:Src/RTOS/tasks.c **** 		 */
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 93


4293:Src/RTOS/tasks.c **** 
4294:Src/RTOS/tasks.c **** 		/* Make sure the write buffer does not contain a string. */
4295:Src/RTOS/tasks.c **** 		*pcWriteBuffer = 0x00;
4296:Src/RTOS/tasks.c **** 
4297:Src/RTOS/tasks.c **** 		/* Take a snapshot of the number of tasks in case it changes while this
4298:Src/RTOS/tasks.c **** 		function is executing. */
4299:Src/RTOS/tasks.c **** 		uxArraySize = uxCurrentNumberOfTasks;
4300:Src/RTOS/tasks.c **** 
4301:Src/RTOS/tasks.c **** 		/* Allocate an array index for each task.  NOTE!  If
4302:Src/RTOS/tasks.c **** 		configSUPPORT_DYNAMIC_ALLOCATION is set to 0 then pvPortMalloc() will
4303:Src/RTOS/tasks.c **** 		equate to NULL. */
4304:Src/RTOS/tasks.c **** 		pxTaskStatusArray = pvPortMalloc( uxCurrentNumberOfTasks * sizeof( TaskStatus_t ) );
4305:Src/RTOS/tasks.c **** 
4306:Src/RTOS/tasks.c **** 		if( pxTaskStatusArray != NULL )
4307:Src/RTOS/tasks.c **** 		{
4308:Src/RTOS/tasks.c **** 			/* Generate the (binary) data. */
4309:Src/RTOS/tasks.c **** 			uxArraySize = uxTaskGetSystemState( pxTaskStatusArray, uxArraySize, &ulTotalTime );
4310:Src/RTOS/tasks.c **** 
4311:Src/RTOS/tasks.c **** 			/* For percentage calculations. */
4312:Src/RTOS/tasks.c **** 			ulTotalTime /= 100UL;
4313:Src/RTOS/tasks.c **** 
4314:Src/RTOS/tasks.c **** 			/* Avoid divide by zero errors. */
4315:Src/RTOS/tasks.c **** 			if( ulTotalTime > 0 )
4316:Src/RTOS/tasks.c **** 			{
4317:Src/RTOS/tasks.c **** 				/* Create a human readable table from the binary data. */
4318:Src/RTOS/tasks.c **** 				for( x = 0; x < uxArraySize; x++ )
4319:Src/RTOS/tasks.c **** 				{
4320:Src/RTOS/tasks.c **** 					/* What percentage of the total run time has the task used?
4321:Src/RTOS/tasks.c **** 					This will always be rounded down to the nearest integer.
4322:Src/RTOS/tasks.c **** 					ulTotalRunTimeDiv100 has already been divided by 100. */
4323:Src/RTOS/tasks.c **** 					ulStatsAsPercentage = pxTaskStatusArray[ x ].ulRunTimeCounter / ulTotalTime;
4324:Src/RTOS/tasks.c **** 
4325:Src/RTOS/tasks.c **** 					/* Write the task name to the string, padding with
4326:Src/RTOS/tasks.c **** 					spaces so it can be printed in tabular form more
4327:Src/RTOS/tasks.c **** 					easily. */
4328:Src/RTOS/tasks.c **** 					pcWriteBuffer = prvWriteNameToBuffer( pcWriteBuffer, pxTaskStatusArray[ x ].pcTaskName );
4329:Src/RTOS/tasks.c **** 
4330:Src/RTOS/tasks.c **** 					if( ulStatsAsPercentage > 0UL )
4331:Src/RTOS/tasks.c **** 					{
4332:Src/RTOS/tasks.c **** 						#ifdef portLU_PRINTF_SPECIFIER_REQUIRED
4333:Src/RTOS/tasks.c **** 						{
4334:Src/RTOS/tasks.c **** 							sprintf( pcWriteBuffer, "\t%lu\t\t%lu%%\r\n", pxTaskStatusArray[ x ].ulRunTimeCounter, ulSta
4335:Src/RTOS/tasks.c **** 						}
4336:Src/RTOS/tasks.c **** 						#else
4337:Src/RTOS/tasks.c **** 						{
4338:Src/RTOS/tasks.c **** 							/* sizeof( int ) == sizeof( long ) so a smaller
4339:Src/RTOS/tasks.c **** 							printf() library can be used. */
4340:Src/RTOS/tasks.c **** 							sprintf( pcWriteBuffer, "\t%u\t\t%u%%\r\n", ( unsigned int ) pxTaskStatusArray[ x ].ulRunTim
4341:Src/RTOS/tasks.c **** 						}
4342:Src/RTOS/tasks.c **** 						#endif
4343:Src/RTOS/tasks.c **** 					}
4344:Src/RTOS/tasks.c **** 					else
4345:Src/RTOS/tasks.c **** 					{
4346:Src/RTOS/tasks.c **** 						/* If the percentage is zero here then the task has
4347:Src/RTOS/tasks.c **** 						consumed less than 1% of the total run time. */
4348:Src/RTOS/tasks.c **** 						#ifdef portLU_PRINTF_SPECIFIER_REQUIRED
4349:Src/RTOS/tasks.c **** 						{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 94


4350:Src/RTOS/tasks.c **** 							sprintf( pcWriteBuffer, "\t%lu\t\t<1%%\r\n", pxTaskStatusArray[ x ].ulRunTimeCounter );
4351:Src/RTOS/tasks.c **** 						}
4352:Src/RTOS/tasks.c **** 						#else
4353:Src/RTOS/tasks.c **** 						{
4354:Src/RTOS/tasks.c **** 							/* sizeof( int ) == sizeof( long ) so a smaller
4355:Src/RTOS/tasks.c **** 							printf() library can be used. */
4356:Src/RTOS/tasks.c **** 							sprintf( pcWriteBuffer, "\t%u\t\t<1%%\r\n", ( unsigned int ) pxTaskStatusArray[ x ].ulRunTim
4357:Src/RTOS/tasks.c **** 						}
4358:Src/RTOS/tasks.c **** 						#endif
4359:Src/RTOS/tasks.c **** 					}
4360:Src/RTOS/tasks.c **** 
4361:Src/RTOS/tasks.c **** 					pcWriteBuffer += strlen( pcWriteBuffer );
4362:Src/RTOS/tasks.c **** 				}
4363:Src/RTOS/tasks.c **** 			}
4364:Src/RTOS/tasks.c **** 			else
4365:Src/RTOS/tasks.c **** 			{
4366:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4367:Src/RTOS/tasks.c **** 			}
4368:Src/RTOS/tasks.c **** 
4369:Src/RTOS/tasks.c **** 			/* Free the array again.  NOTE!  If configSUPPORT_DYNAMIC_ALLOCATION
4370:Src/RTOS/tasks.c **** 			is 0 then vPortFree() will be #defined to nothing. */
4371:Src/RTOS/tasks.c **** 			vPortFree( pxTaskStatusArray );
4372:Src/RTOS/tasks.c **** 		}
4373:Src/RTOS/tasks.c **** 		else
4374:Src/RTOS/tasks.c **** 		{
4375:Src/RTOS/tasks.c **** 			mtCOVERAGE_TEST_MARKER();
4376:Src/RTOS/tasks.c **** 		}
4377:Src/RTOS/tasks.c **** 	}
4378:Src/RTOS/tasks.c **** 
4379:Src/RTOS/tasks.c **** #endif /* ( ( configGENERATE_RUN_TIME_STATS == 1 ) && ( configUSE_STATS_FORMATTING_FUNCTIONS > 0 ) 
4380:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4381:Src/RTOS/tasks.c **** 
4382:Src/RTOS/tasks.c **** TickType_t uxTaskResetEventItemValue( void )
4383:Src/RTOS/tasks.c **** {
4384:Src/RTOS/tasks.c **** TickType_t uxReturn;
4385:Src/RTOS/tasks.c **** 
4386:Src/RTOS/tasks.c **** 	uxReturn = listGET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ) );
4387:Src/RTOS/tasks.c **** 
4388:Src/RTOS/tasks.c **** 	/* Reset the event list item to its normal value - so it can be used with
4389:Src/RTOS/tasks.c **** 	queues and semaphores. */
4390:Src/RTOS/tasks.c **** 	listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xEventListItem ), ( ( TickType_t ) configMAX_PRIORITIES 
4391:Src/RTOS/tasks.c **** 
4392:Src/RTOS/tasks.c **** 	return uxReturn;
4393:Src/RTOS/tasks.c **** }
4394:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4395:Src/RTOS/tasks.c **** 
4396:Src/RTOS/tasks.c **** #if ( configUSE_MUTEXES == 1 )
4397:Src/RTOS/tasks.c **** 
4398:Src/RTOS/tasks.c **** 	void *pvTaskIncrementMutexHeldCount( void )
4399:Src/RTOS/tasks.c **** 	{
4400:Src/RTOS/tasks.c **** 		/* If xSemaphoreCreateMutex() is called before any tasks have been created
4401:Src/RTOS/tasks.c **** 		then pxCurrentTCB will be NULL. */
4402:Src/RTOS/tasks.c **** 		if( pxCurrentTCB != NULL )
4403:Src/RTOS/tasks.c **** 		{
4404:Src/RTOS/tasks.c **** 			( pxCurrentTCB->uxMutexesHeld )++;
4405:Src/RTOS/tasks.c **** 		}
4406:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 95


4407:Src/RTOS/tasks.c **** 		return pxCurrentTCB;
4408:Src/RTOS/tasks.c **** 	}
4409:Src/RTOS/tasks.c **** 
4410:Src/RTOS/tasks.c **** #endif /* configUSE_MUTEXES */
4411:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4412:Src/RTOS/tasks.c **** 
4413:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4414:Src/RTOS/tasks.c **** 
4415:Src/RTOS/tasks.c **** 	uint32_t ulTaskNotifyTake( BaseType_t xClearCountOnExit, TickType_t xTicksToWait )
4416:Src/RTOS/tasks.c **** 	{
4417:Src/RTOS/tasks.c **** 	uint32_t ulReturn;
4418:Src/RTOS/tasks.c **** 
4419:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4420:Src/RTOS/tasks.c **** 		{
4421:Src/RTOS/tasks.c **** 			/* Only block if the notification count is not already non-zero. */
4422:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->ulNotifiedValue == 0UL )
4423:Src/RTOS/tasks.c **** 			{
4424:Src/RTOS/tasks.c **** 				/* Mark this task as waiting for a notification. */
4425:Src/RTOS/tasks.c **** 				pxCurrentTCB->ucNotifyState = taskWAITING_NOTIFICATION;
4426:Src/RTOS/tasks.c **** 
4427:Src/RTOS/tasks.c **** 				if( xTicksToWait > ( TickType_t ) 0 )
4428:Src/RTOS/tasks.c **** 				{
4429:Src/RTOS/tasks.c **** 					prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
4430:Src/RTOS/tasks.c **** 					traceTASK_NOTIFY_TAKE_BLOCK();
4431:Src/RTOS/tasks.c **** 
4432:Src/RTOS/tasks.c **** 					/* All ports are written to allow a yield in a critical
4433:Src/RTOS/tasks.c **** 					section (some will yield immediately, others wait until the
4434:Src/RTOS/tasks.c **** 					critical section exits) - but it is not something that
4435:Src/RTOS/tasks.c **** 					application code should ever do. */
4436:Src/RTOS/tasks.c **** 					portYIELD_WITHIN_API();
4437:Src/RTOS/tasks.c **** 				}
4438:Src/RTOS/tasks.c **** 				else
4439:Src/RTOS/tasks.c **** 				{
4440:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4441:Src/RTOS/tasks.c **** 				}
4442:Src/RTOS/tasks.c **** 			}
4443:Src/RTOS/tasks.c **** 			else
4444:Src/RTOS/tasks.c **** 			{
4445:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4446:Src/RTOS/tasks.c **** 			}
4447:Src/RTOS/tasks.c **** 		}
4448:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4449:Src/RTOS/tasks.c **** 
4450:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4451:Src/RTOS/tasks.c **** 		{
4452:Src/RTOS/tasks.c **** 			traceTASK_NOTIFY_TAKE();
4453:Src/RTOS/tasks.c **** 			ulReturn = pxCurrentTCB->ulNotifiedValue;
4454:Src/RTOS/tasks.c **** 
4455:Src/RTOS/tasks.c **** 			if( ulReturn != 0UL )
4456:Src/RTOS/tasks.c **** 			{
4457:Src/RTOS/tasks.c **** 				if( xClearCountOnExit != pdFALSE )
4458:Src/RTOS/tasks.c **** 				{
4459:Src/RTOS/tasks.c **** 					pxCurrentTCB->ulNotifiedValue = 0UL;
4460:Src/RTOS/tasks.c **** 				}
4461:Src/RTOS/tasks.c **** 				else
4462:Src/RTOS/tasks.c **** 				{
4463:Src/RTOS/tasks.c **** 					pxCurrentTCB->ulNotifiedValue = ulReturn - ( uint32_t ) 1;
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 96


4464:Src/RTOS/tasks.c **** 				}
4465:Src/RTOS/tasks.c **** 			}
4466:Src/RTOS/tasks.c **** 			else
4467:Src/RTOS/tasks.c **** 			{
4468:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4469:Src/RTOS/tasks.c **** 			}
4470:Src/RTOS/tasks.c **** 
4471:Src/RTOS/tasks.c **** 			pxCurrentTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
4472:Src/RTOS/tasks.c **** 		}
4473:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4474:Src/RTOS/tasks.c **** 
4475:Src/RTOS/tasks.c **** 		return ulReturn;
4476:Src/RTOS/tasks.c **** 	}
4477:Src/RTOS/tasks.c **** 
4478:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4479:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4480:Src/RTOS/tasks.c **** 
4481:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4482:Src/RTOS/tasks.c **** 
4483:Src/RTOS/tasks.c **** 	BaseType_t xTaskNotifyWait( uint32_t ulBitsToClearOnEntry, uint32_t ulBitsToClearOnExit, uint32_t 
4484:Src/RTOS/tasks.c **** 	{
4485:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
4486:Src/RTOS/tasks.c **** 
4487:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4488:Src/RTOS/tasks.c **** 		{
4489:Src/RTOS/tasks.c **** 			/* Only block if a notification is not already pending. */
4490:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->ucNotifyState != taskNOTIFICATION_RECEIVED )
4491:Src/RTOS/tasks.c **** 			{
4492:Src/RTOS/tasks.c **** 				/* Clear bits in the task's notification value as bits may get
4493:Src/RTOS/tasks.c **** 				set	by the notifying task or interrupt.  This can be used to
4494:Src/RTOS/tasks.c **** 				clear the value to zero. */
4495:Src/RTOS/tasks.c **** 				pxCurrentTCB->ulNotifiedValue &= ~ulBitsToClearOnEntry;
4496:Src/RTOS/tasks.c **** 
4497:Src/RTOS/tasks.c **** 				/* Mark this task as waiting for a notification. */
4498:Src/RTOS/tasks.c **** 				pxCurrentTCB->ucNotifyState = taskWAITING_NOTIFICATION;
4499:Src/RTOS/tasks.c **** 
4500:Src/RTOS/tasks.c **** 				if( xTicksToWait > ( TickType_t ) 0 )
4501:Src/RTOS/tasks.c **** 				{
4502:Src/RTOS/tasks.c **** 					prvAddCurrentTaskToDelayedList( xTicksToWait, pdTRUE );
4503:Src/RTOS/tasks.c **** 					traceTASK_NOTIFY_WAIT_BLOCK();
4504:Src/RTOS/tasks.c **** 
4505:Src/RTOS/tasks.c **** 					/* All ports are written to allow a yield in a critical
4506:Src/RTOS/tasks.c **** 					section (some will yield immediately, others wait until the
4507:Src/RTOS/tasks.c **** 					critical section exits) - but it is not something that
4508:Src/RTOS/tasks.c **** 					application code should ever do. */
4509:Src/RTOS/tasks.c **** 					portYIELD_WITHIN_API();
4510:Src/RTOS/tasks.c **** 				}
4511:Src/RTOS/tasks.c **** 				else
4512:Src/RTOS/tasks.c **** 				{
4513:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4514:Src/RTOS/tasks.c **** 				}
4515:Src/RTOS/tasks.c **** 			}
4516:Src/RTOS/tasks.c **** 			else
4517:Src/RTOS/tasks.c **** 			{
4518:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4519:Src/RTOS/tasks.c **** 			}
4520:Src/RTOS/tasks.c **** 		}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 97


4521:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4522:Src/RTOS/tasks.c **** 
4523:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4524:Src/RTOS/tasks.c **** 		{
4525:Src/RTOS/tasks.c **** 			traceTASK_NOTIFY_WAIT();
4526:Src/RTOS/tasks.c **** 
4527:Src/RTOS/tasks.c **** 			if( pulNotificationValue != NULL )
4528:Src/RTOS/tasks.c **** 			{
4529:Src/RTOS/tasks.c **** 				/* Output the current notification value, which may or may not
4530:Src/RTOS/tasks.c **** 				have changed. */
4531:Src/RTOS/tasks.c **** 				*pulNotificationValue = pxCurrentTCB->ulNotifiedValue;
4532:Src/RTOS/tasks.c **** 			}
4533:Src/RTOS/tasks.c **** 
4534:Src/RTOS/tasks.c **** 			/* If ucNotifyValue is set then either the task never entered the
4535:Src/RTOS/tasks.c **** 			blocked state (because a notification was already pending) or the
4536:Src/RTOS/tasks.c **** 			task unblocked because of a notification.  Otherwise the task
4537:Src/RTOS/tasks.c **** 			unblocked because of a timeout. */
4538:Src/RTOS/tasks.c **** 			if( pxCurrentTCB->ucNotifyState != taskNOTIFICATION_RECEIVED )
4539:Src/RTOS/tasks.c **** 			{
4540:Src/RTOS/tasks.c **** 				/* A notification was not received. */
4541:Src/RTOS/tasks.c **** 				xReturn = pdFALSE;
4542:Src/RTOS/tasks.c **** 			}
4543:Src/RTOS/tasks.c **** 			else
4544:Src/RTOS/tasks.c **** 			{
4545:Src/RTOS/tasks.c **** 				/* A notification was already pending or a notification was
4546:Src/RTOS/tasks.c **** 				received while the task was waiting. */
4547:Src/RTOS/tasks.c **** 				pxCurrentTCB->ulNotifiedValue &= ~ulBitsToClearOnExit;
4548:Src/RTOS/tasks.c **** 				xReturn = pdTRUE;
4549:Src/RTOS/tasks.c **** 			}
4550:Src/RTOS/tasks.c **** 
4551:Src/RTOS/tasks.c **** 			pxCurrentTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
4552:Src/RTOS/tasks.c **** 		}
4553:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4554:Src/RTOS/tasks.c **** 
4555:Src/RTOS/tasks.c **** 		return xReturn;
4556:Src/RTOS/tasks.c **** 	}
4557:Src/RTOS/tasks.c **** 
4558:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4559:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4560:Src/RTOS/tasks.c **** 
4561:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4562:Src/RTOS/tasks.c **** 
4563:Src/RTOS/tasks.c **** 	BaseType_t xTaskGenericNotify( TaskHandle_t xTaskToNotify, uint32_t ulValue, eNotifyAction eAction
4564:Src/RTOS/tasks.c **** 	{
4565:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
4566:Src/RTOS/tasks.c **** 	BaseType_t xReturn = pdPASS;
4567:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
4568:Src/RTOS/tasks.c **** 
4569:Src/RTOS/tasks.c **** 		configASSERT( xTaskToNotify );
4570:Src/RTOS/tasks.c **** 		pxTCB = ( TCB_t * ) xTaskToNotify;
4571:Src/RTOS/tasks.c **** 
4572:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4573:Src/RTOS/tasks.c **** 		{
4574:Src/RTOS/tasks.c **** 			if( pulPreviousNotificationValue != NULL )
4575:Src/RTOS/tasks.c **** 			{
4576:Src/RTOS/tasks.c **** 				*pulPreviousNotificationValue = pxTCB->ulNotifiedValue;
4577:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 98


4578:Src/RTOS/tasks.c **** 
4579:Src/RTOS/tasks.c **** 			ucOriginalNotifyState = pxTCB->ucNotifyState;
4580:Src/RTOS/tasks.c **** 
4581:Src/RTOS/tasks.c **** 			pxTCB->ucNotifyState = taskNOTIFICATION_RECEIVED;
4582:Src/RTOS/tasks.c **** 
4583:Src/RTOS/tasks.c **** 			switch( eAction )
4584:Src/RTOS/tasks.c **** 			{
4585:Src/RTOS/tasks.c **** 				case eSetBits	:
4586:Src/RTOS/tasks.c **** 					pxTCB->ulNotifiedValue |= ulValue;
4587:Src/RTOS/tasks.c **** 					break;
4588:Src/RTOS/tasks.c **** 
4589:Src/RTOS/tasks.c **** 				case eIncrement	:
4590:Src/RTOS/tasks.c **** 					( pxTCB->ulNotifiedValue )++;
4591:Src/RTOS/tasks.c **** 					break;
4592:Src/RTOS/tasks.c **** 
4593:Src/RTOS/tasks.c **** 				case eSetValueWithOverwrite	:
4594:Src/RTOS/tasks.c **** 					pxTCB->ulNotifiedValue = ulValue;
4595:Src/RTOS/tasks.c **** 					break;
4596:Src/RTOS/tasks.c **** 
4597:Src/RTOS/tasks.c **** 				case eSetValueWithoutOverwrite :
4598:Src/RTOS/tasks.c **** 					if( ucOriginalNotifyState != taskNOTIFICATION_RECEIVED )
4599:Src/RTOS/tasks.c **** 					{
4600:Src/RTOS/tasks.c **** 						pxTCB->ulNotifiedValue = ulValue;
4601:Src/RTOS/tasks.c **** 					}
4602:Src/RTOS/tasks.c **** 					else
4603:Src/RTOS/tasks.c **** 					{
4604:Src/RTOS/tasks.c **** 						/* The value could not be written to the task. */
4605:Src/RTOS/tasks.c **** 						xReturn = pdFAIL;
4606:Src/RTOS/tasks.c **** 					}
4607:Src/RTOS/tasks.c **** 					break;
4608:Src/RTOS/tasks.c **** 
4609:Src/RTOS/tasks.c **** 				case eNoAction:
4610:Src/RTOS/tasks.c **** 					/* The task is being notified without its notify value being
4611:Src/RTOS/tasks.c **** 					updated. */
4612:Src/RTOS/tasks.c **** 					break;
4613:Src/RTOS/tasks.c **** 			}
4614:Src/RTOS/tasks.c **** 
4615:Src/RTOS/tasks.c **** 			traceTASK_NOTIFY();
4616:Src/RTOS/tasks.c **** 
4617:Src/RTOS/tasks.c **** 			/* If the task is in the blocked state specifically to wait for a
4618:Src/RTOS/tasks.c **** 			notification then unblock it now. */
4619:Src/RTOS/tasks.c **** 			if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
4620:Src/RTOS/tasks.c **** 			{
4621:Src/RTOS/tasks.c **** 				( void ) uxListRemove( &( pxTCB->xStateListItem ) );
4622:Src/RTOS/tasks.c **** 				prvAddTaskToReadyList( pxTCB );
4623:Src/RTOS/tasks.c **** 
4624:Src/RTOS/tasks.c **** 				/* The task should not have been on an event list. */
4625:Src/RTOS/tasks.c **** 				configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
4626:Src/RTOS/tasks.c **** 
4627:Src/RTOS/tasks.c **** 				#if( configUSE_TICKLESS_IDLE != 0 )
4628:Src/RTOS/tasks.c **** 				{
4629:Src/RTOS/tasks.c **** 					/* If a task is blocked waiting for a notification then
4630:Src/RTOS/tasks.c **** 					xNextTaskUnblockTime might be set to the blocked task's time
4631:Src/RTOS/tasks.c **** 					out time.  If the task is unblocked for a reason other than
4632:Src/RTOS/tasks.c **** 					a timeout xNextTaskUnblockTime is normally left unchanged,
4633:Src/RTOS/tasks.c **** 					because it will automatically get reset to a new value when
4634:Src/RTOS/tasks.c **** 					the tick count equals xNextTaskUnblockTime.  However if
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 99


4635:Src/RTOS/tasks.c **** 					tickless idling is used it might be more important to enter
4636:Src/RTOS/tasks.c **** 					sleep mode at the earliest possible time - so reset
4637:Src/RTOS/tasks.c **** 					xNextTaskUnblockTime here to ensure it is updated at the
4638:Src/RTOS/tasks.c **** 					earliest possible time. */
4639:Src/RTOS/tasks.c **** 					prvResetNextTaskUnblockTime();
4640:Src/RTOS/tasks.c **** 				}
4641:Src/RTOS/tasks.c **** 				#endif
4642:Src/RTOS/tasks.c **** 
4643:Src/RTOS/tasks.c **** 				if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
4644:Src/RTOS/tasks.c **** 				{
4645:Src/RTOS/tasks.c **** 					/* The notified task has a priority above the currently
4646:Src/RTOS/tasks.c **** 					executing task so a yield is required. */
4647:Src/RTOS/tasks.c **** 					taskYIELD_IF_USING_PREEMPTION();
4648:Src/RTOS/tasks.c **** 				}
4649:Src/RTOS/tasks.c **** 				else
4650:Src/RTOS/tasks.c **** 				{
4651:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4652:Src/RTOS/tasks.c **** 				}
4653:Src/RTOS/tasks.c **** 			}
4654:Src/RTOS/tasks.c **** 			else
4655:Src/RTOS/tasks.c **** 			{
4656:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
4657:Src/RTOS/tasks.c **** 			}
4658:Src/RTOS/tasks.c **** 		}
4659:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4660:Src/RTOS/tasks.c **** 
4661:Src/RTOS/tasks.c **** 		return xReturn;
4662:Src/RTOS/tasks.c **** 	}
4663:Src/RTOS/tasks.c **** 
4664:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4665:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4666:Src/RTOS/tasks.c **** 
4667:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4668:Src/RTOS/tasks.c **** 
4669:Src/RTOS/tasks.c **** 	BaseType_t xTaskGenericNotifyFromISR( TaskHandle_t xTaskToNotify, uint32_t ulValue, eNotifyAction 
4670:Src/RTOS/tasks.c **** 	{
4671:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
4672:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
4673:Src/RTOS/tasks.c **** 	BaseType_t xReturn = pdPASS;
4674:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
4675:Src/RTOS/tasks.c **** 
4676:Src/RTOS/tasks.c **** 		configASSERT( xTaskToNotify );
4677:Src/RTOS/tasks.c **** 
4678:Src/RTOS/tasks.c **** 		/* RTOS ports that support interrupt nesting have the concept of a
4679:Src/RTOS/tasks.c **** 		maximum	system call (or maximum API call) interrupt priority.
4680:Src/RTOS/tasks.c **** 		Interrupts that are	above the maximum system call priority are keep
4681:Src/RTOS/tasks.c **** 		permanently enabled, even when the RTOS kernel is in a critical section,
4682:Src/RTOS/tasks.c **** 		but cannot make any calls to FreeRTOS API functions.  If configASSERT()
4683:Src/RTOS/tasks.c **** 		is defined in FreeRTOSConfig.h then
4684:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
4685:Src/RTOS/tasks.c **** 		failure if a FreeRTOS API function is called from an interrupt that has
4686:Src/RTOS/tasks.c **** 		been assigned a priority above the configured maximum system call
4687:Src/RTOS/tasks.c **** 		priority.  Only FreeRTOS functions that end in FromISR can be called
4688:Src/RTOS/tasks.c **** 		from interrupts	that have been assigned a priority at or (logically)
4689:Src/RTOS/tasks.c **** 		below the maximum system call interrupt priority.  FreeRTOS maintains a
4690:Src/RTOS/tasks.c **** 		separate interrupt safe API to ensure interrupt entry is as fast and as
4691:Src/RTOS/tasks.c **** 		simple as possible.  More information (albeit Cortex-M specific) is
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 100


4692:Src/RTOS/tasks.c **** 		provided on the following link:
4693:Src/RTOS/tasks.c **** 		http://www.freertos.org/RTOS-Cortex-M3-M4.html */
4694:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
4695:Src/RTOS/tasks.c **** 
4696:Src/RTOS/tasks.c **** 		pxTCB = ( TCB_t * ) xTaskToNotify;
4697:Src/RTOS/tasks.c **** 
4698:Src/RTOS/tasks.c **** 		uxSavedInterruptStatus = portSET_INTERRUPT_MASK_FROM_ISR();
4699:Src/RTOS/tasks.c **** 		{
4700:Src/RTOS/tasks.c **** 			if( pulPreviousNotificationValue != NULL )
4701:Src/RTOS/tasks.c **** 			{
4702:Src/RTOS/tasks.c **** 				*pulPreviousNotificationValue = pxTCB->ulNotifiedValue;
4703:Src/RTOS/tasks.c **** 			}
4704:Src/RTOS/tasks.c **** 
4705:Src/RTOS/tasks.c **** 			ucOriginalNotifyState = pxTCB->ucNotifyState;
4706:Src/RTOS/tasks.c **** 			pxTCB->ucNotifyState = taskNOTIFICATION_RECEIVED;
4707:Src/RTOS/tasks.c **** 
4708:Src/RTOS/tasks.c **** 			switch( eAction )
4709:Src/RTOS/tasks.c **** 			{
4710:Src/RTOS/tasks.c **** 				case eSetBits	:
4711:Src/RTOS/tasks.c **** 					pxTCB->ulNotifiedValue |= ulValue;
4712:Src/RTOS/tasks.c **** 					break;
4713:Src/RTOS/tasks.c **** 
4714:Src/RTOS/tasks.c **** 				case eIncrement	:
4715:Src/RTOS/tasks.c **** 					( pxTCB->ulNotifiedValue )++;
4716:Src/RTOS/tasks.c **** 					break;
4717:Src/RTOS/tasks.c **** 
4718:Src/RTOS/tasks.c **** 				case eSetValueWithOverwrite	:
4719:Src/RTOS/tasks.c **** 					pxTCB->ulNotifiedValue = ulValue;
4720:Src/RTOS/tasks.c **** 					break;
4721:Src/RTOS/tasks.c **** 
4722:Src/RTOS/tasks.c **** 				case eSetValueWithoutOverwrite :
4723:Src/RTOS/tasks.c **** 					if( ucOriginalNotifyState != taskNOTIFICATION_RECEIVED )
4724:Src/RTOS/tasks.c **** 					{
4725:Src/RTOS/tasks.c **** 						pxTCB->ulNotifiedValue = ulValue;
4726:Src/RTOS/tasks.c **** 					}
4727:Src/RTOS/tasks.c **** 					else
4728:Src/RTOS/tasks.c **** 					{
4729:Src/RTOS/tasks.c **** 						/* The value could not be written to the task. */
4730:Src/RTOS/tasks.c **** 						xReturn = pdFAIL;
4731:Src/RTOS/tasks.c **** 					}
4732:Src/RTOS/tasks.c **** 					break;
4733:Src/RTOS/tasks.c **** 
4734:Src/RTOS/tasks.c **** 				case eNoAction :
4735:Src/RTOS/tasks.c **** 					/* The task is being notified without its notify value being
4736:Src/RTOS/tasks.c **** 					updated. */
4737:Src/RTOS/tasks.c **** 					break;
4738:Src/RTOS/tasks.c **** 			}
4739:Src/RTOS/tasks.c **** 
4740:Src/RTOS/tasks.c **** 			traceTASK_NOTIFY_FROM_ISR();
4741:Src/RTOS/tasks.c **** 
4742:Src/RTOS/tasks.c **** 			/* If the task is in the blocked state specifically to wait for a
4743:Src/RTOS/tasks.c **** 			notification then unblock it now. */
4744:Src/RTOS/tasks.c **** 			if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
4745:Src/RTOS/tasks.c **** 			{
4746:Src/RTOS/tasks.c **** 				/* The task should not have been on an event list. */
4747:Src/RTOS/tasks.c **** 				configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
4748:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 101


4749:Src/RTOS/tasks.c **** 				if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
4750:Src/RTOS/tasks.c **** 				{
4751:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
4752:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
4753:Src/RTOS/tasks.c **** 				}
4754:Src/RTOS/tasks.c **** 				else
4755:Src/RTOS/tasks.c **** 				{
4756:Src/RTOS/tasks.c **** 					/* The delayed and ready lists cannot be accessed, so hold
4757:Src/RTOS/tasks.c **** 					this task pending until the scheduler is resumed. */
4758:Src/RTOS/tasks.c **** 					vListInsertEnd( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
4759:Src/RTOS/tasks.c **** 				}
4760:Src/RTOS/tasks.c **** 
4761:Src/RTOS/tasks.c **** 				if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
4762:Src/RTOS/tasks.c **** 				{
4763:Src/RTOS/tasks.c **** 					/* The notified task has a priority above the currently
4764:Src/RTOS/tasks.c **** 					executing task so a yield is required. */
4765:Src/RTOS/tasks.c **** 					if( pxHigherPriorityTaskWoken != NULL )
4766:Src/RTOS/tasks.c **** 					{
4767:Src/RTOS/tasks.c **** 						*pxHigherPriorityTaskWoken = pdTRUE;
4768:Src/RTOS/tasks.c **** 					}
4769:Src/RTOS/tasks.c **** 					else
4770:Src/RTOS/tasks.c **** 					{
4771:Src/RTOS/tasks.c **** 						/* Mark that a yield is pending in case the user is not
4772:Src/RTOS/tasks.c **** 						using the "xHigherPriorityTaskWoken" parameter to an ISR
4773:Src/RTOS/tasks.c **** 						safe FreeRTOS function. */
4774:Src/RTOS/tasks.c **** 						xYieldPending = pdTRUE;
4775:Src/RTOS/tasks.c **** 					}
4776:Src/RTOS/tasks.c **** 				}
4777:Src/RTOS/tasks.c **** 				else
4778:Src/RTOS/tasks.c **** 				{
4779:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4780:Src/RTOS/tasks.c **** 				}
4781:Src/RTOS/tasks.c **** 			}
4782:Src/RTOS/tasks.c **** 		}
4783:Src/RTOS/tasks.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
4784:Src/RTOS/tasks.c **** 
4785:Src/RTOS/tasks.c **** 		return xReturn;
4786:Src/RTOS/tasks.c **** 	}
4787:Src/RTOS/tasks.c **** 
4788:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4789:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4790:Src/RTOS/tasks.c **** 
4791:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4792:Src/RTOS/tasks.c **** 
4793:Src/RTOS/tasks.c **** 	void vTaskNotifyGiveFromISR( TaskHandle_t xTaskToNotify, BaseType_t *pxHigherPriorityTaskWoken )
4794:Src/RTOS/tasks.c **** 	{
4795:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
4796:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
4797:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
4798:Src/RTOS/tasks.c **** 
4799:Src/RTOS/tasks.c **** 		configASSERT( xTaskToNotify );
4800:Src/RTOS/tasks.c **** 
4801:Src/RTOS/tasks.c **** 		/* RTOS ports that support interrupt nesting have the concept of a
4802:Src/RTOS/tasks.c **** 		maximum	system call (or maximum API call) interrupt priority.
4803:Src/RTOS/tasks.c **** 		Interrupts that are	above the maximum system call priority are keep
4804:Src/RTOS/tasks.c **** 		permanently enabled, even when the RTOS kernel is in a critical section,
4805:Src/RTOS/tasks.c **** 		but cannot make any calls to FreeRTOS API functions.  If configASSERT()
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 102


4806:Src/RTOS/tasks.c **** 		is defined in FreeRTOSConfig.h then
4807:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID() will result in an assertion
4808:Src/RTOS/tasks.c **** 		failure if a FreeRTOS API function is called from an interrupt that has
4809:Src/RTOS/tasks.c **** 		been assigned a priority above the configured maximum system call
4810:Src/RTOS/tasks.c **** 		priority.  Only FreeRTOS functions that end in FromISR can be called
4811:Src/RTOS/tasks.c **** 		from interrupts	that have been assigned a priority at or (logically)
4812:Src/RTOS/tasks.c **** 		below the maximum system call interrupt priority.  FreeRTOS maintains a
4813:Src/RTOS/tasks.c **** 		separate interrupt safe API to ensure interrupt entry is as fast and as
4814:Src/RTOS/tasks.c **** 		simple as possible.  More information (albeit Cortex-M specific) is
4815:Src/RTOS/tasks.c **** 		provided on the following link:
4816:Src/RTOS/tasks.c **** 		http://www.freertos.org/RTOS-Cortex-M3-M4.html */
4817:Src/RTOS/tasks.c **** 		portASSERT_IF_INTERRUPT_PRIORITY_INVALID();
4818:Src/RTOS/tasks.c **** 
4819:Src/RTOS/tasks.c **** 		pxTCB = ( TCB_t * ) xTaskToNotify;
4820:Src/RTOS/tasks.c **** 
4821:Src/RTOS/tasks.c **** 		uxSavedInterruptStatus = portSET_INTERRUPT_MASK_FROM_ISR();
4822:Src/RTOS/tasks.c **** 		{
4823:Src/RTOS/tasks.c **** 			ucOriginalNotifyState = pxTCB->ucNotifyState;
4824:Src/RTOS/tasks.c **** 			pxTCB->ucNotifyState = taskNOTIFICATION_RECEIVED;
4825:Src/RTOS/tasks.c **** 
4826:Src/RTOS/tasks.c **** 			/* 'Giving' is equivalent to incrementing a count in a counting
4827:Src/RTOS/tasks.c **** 			semaphore. */
4828:Src/RTOS/tasks.c **** 			( pxTCB->ulNotifiedValue )++;
4829:Src/RTOS/tasks.c **** 
4830:Src/RTOS/tasks.c **** 			traceTASK_NOTIFY_GIVE_FROM_ISR();
4831:Src/RTOS/tasks.c **** 
4832:Src/RTOS/tasks.c **** 			/* If the task is in the blocked state specifically to wait for a
4833:Src/RTOS/tasks.c **** 			notification then unblock it now. */
4834:Src/RTOS/tasks.c **** 			if( ucOriginalNotifyState == taskWAITING_NOTIFICATION )
4835:Src/RTOS/tasks.c **** 			{
4836:Src/RTOS/tasks.c **** 				/* The task should not have been on an event list. */
4837:Src/RTOS/tasks.c **** 				configASSERT( listLIST_ITEM_CONTAINER( &( pxTCB->xEventListItem ) ) == NULL );
4838:Src/RTOS/tasks.c **** 
4839:Src/RTOS/tasks.c **** 				if( uxSchedulerSuspended == ( UBaseType_t ) pdFALSE )
4840:Src/RTOS/tasks.c **** 				{
4841:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
4842:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
4843:Src/RTOS/tasks.c **** 				}
4844:Src/RTOS/tasks.c **** 				else
4845:Src/RTOS/tasks.c **** 				{
4846:Src/RTOS/tasks.c **** 					/* The delayed and ready lists cannot be accessed, so hold
4847:Src/RTOS/tasks.c **** 					this task pending until the scheduler is resumed. */
4848:Src/RTOS/tasks.c **** 					vListInsertEnd( &( xPendingReadyList ), &( pxTCB->xEventListItem ) );
4849:Src/RTOS/tasks.c **** 				}
4850:Src/RTOS/tasks.c **** 
4851:Src/RTOS/tasks.c **** 				if( pxTCB->uxPriority > pxCurrentTCB->uxPriority )
4852:Src/RTOS/tasks.c **** 				{
4853:Src/RTOS/tasks.c **** 					/* The notified task has a priority above the currently
4854:Src/RTOS/tasks.c **** 					executing task so a yield is required. */
4855:Src/RTOS/tasks.c **** 					if( pxHigherPriorityTaskWoken != NULL )
4856:Src/RTOS/tasks.c **** 					{
4857:Src/RTOS/tasks.c **** 						*pxHigherPriorityTaskWoken = pdTRUE;
4858:Src/RTOS/tasks.c **** 					}
4859:Src/RTOS/tasks.c **** 					else
4860:Src/RTOS/tasks.c **** 					{
4861:Src/RTOS/tasks.c **** 						/* Mark that a yield is pending in case the user is not
4862:Src/RTOS/tasks.c **** 						using the "xHigherPriorityTaskWoken" parameter in an ISR
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 103


4863:Src/RTOS/tasks.c **** 						safe FreeRTOS function. */
4864:Src/RTOS/tasks.c **** 						xYieldPending = pdTRUE;
4865:Src/RTOS/tasks.c **** 					}
4866:Src/RTOS/tasks.c **** 				}
4867:Src/RTOS/tasks.c **** 				else
4868:Src/RTOS/tasks.c **** 				{
4869:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4870:Src/RTOS/tasks.c **** 				}
4871:Src/RTOS/tasks.c **** 			}
4872:Src/RTOS/tasks.c **** 		}
4873:Src/RTOS/tasks.c **** 		portCLEAR_INTERRUPT_MASK_FROM_ISR( uxSavedInterruptStatus );
4874:Src/RTOS/tasks.c **** 	}
4875:Src/RTOS/tasks.c **** 
4876:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4877:Src/RTOS/tasks.c **** 
4878:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4879:Src/RTOS/tasks.c **** 
4880:Src/RTOS/tasks.c **** #if( configUSE_TASK_NOTIFICATIONS == 1 )
4881:Src/RTOS/tasks.c **** 
4882:Src/RTOS/tasks.c **** 	BaseType_t xTaskNotifyStateClear( TaskHandle_t xTask )
4883:Src/RTOS/tasks.c **** 	{
4884:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
4885:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
4886:Src/RTOS/tasks.c **** 
4887:Src/RTOS/tasks.c **** 		/* If null is passed in here then it is the calling task that is having
4888:Src/RTOS/tasks.c **** 		its notification state cleared. */
4889:Src/RTOS/tasks.c **** 		pxTCB = prvGetTCBFromHandle( xTask );
4890:Src/RTOS/tasks.c **** 
4891:Src/RTOS/tasks.c **** 		taskENTER_CRITICAL();
4892:Src/RTOS/tasks.c **** 		{
4893:Src/RTOS/tasks.c **** 			if( pxTCB->ucNotifyState == taskNOTIFICATION_RECEIVED )
4894:Src/RTOS/tasks.c **** 			{
4895:Src/RTOS/tasks.c **** 				pxTCB->ucNotifyState = taskNOT_WAITING_NOTIFICATION;
4896:Src/RTOS/tasks.c **** 				xReturn = pdPASS;
4897:Src/RTOS/tasks.c **** 			}
4898:Src/RTOS/tasks.c **** 			else
4899:Src/RTOS/tasks.c **** 			{
4900:Src/RTOS/tasks.c **** 				xReturn = pdFAIL;
4901:Src/RTOS/tasks.c **** 			}
4902:Src/RTOS/tasks.c **** 		}
4903:Src/RTOS/tasks.c **** 		taskEXIT_CRITICAL();
4904:Src/RTOS/tasks.c **** 
4905:Src/RTOS/tasks.c **** 		return xReturn;
4906:Src/RTOS/tasks.c **** 	}
4907:Src/RTOS/tasks.c **** 
4908:Src/RTOS/tasks.c **** #endif /* configUSE_TASK_NOTIFICATIONS */
4909:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
4910:Src/RTOS/tasks.c **** 
4911:Src/RTOS/tasks.c **** 
4912:Src/RTOS/tasks.c **** static void prvAddCurrentTaskToDelayedList( TickType_t xTicksToWait, const BaseType_t xCanBlockInde
4913:Src/RTOS/tasks.c **** {
 696              		.loc 1 4913 0
 697              		.cfi_startproc
 698              		@ args = 0, pretend = 0, frame = 0
 699              		@ frame_needed = 0, uses_anonymous_args = 0
 700              	.LVL62:
 701 0000 70B5     		push	{r4, r5, r6, lr}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 104


 702              	.LCFI7:
 703              		.cfi_def_cfa_offset 16
 704              		.cfi_offset 4, -16
 705              		.cfi_offset 5, -12
 706              		.cfi_offset 6, -8
 707              		.cfi_offset 14, -4
 708 0002 0446     		mov	r4, r0
 709 0004 0E46     		mov	r6, r1
4914:Src/RTOS/tasks.c **** TickType_t xTimeToWake;
4915:Src/RTOS/tasks.c **** const TickType_t xConstTickCount = xTickCount;
 710              		.loc 1 4915 0
 711 0006 1D4B     		ldr	r3, .L68
 712 0008 1D68     		ldr	r5, [r3]
 713              	.LVL63:
4916:Src/RTOS/tasks.c **** 
4917:Src/RTOS/tasks.c **** 	#if( INCLUDE_xTaskAbortDelay == 1 )
4918:Src/RTOS/tasks.c **** 	{
4919:Src/RTOS/tasks.c **** 		/* About to enter a delayed list, so ensure the ucDelayAborted flag is
4920:Src/RTOS/tasks.c **** 		reset to pdFALSE so it can be detected as having been set to pdTRUE
4921:Src/RTOS/tasks.c **** 		when the task leaves the Blocked state. */
4922:Src/RTOS/tasks.c **** 		pxCurrentTCB->ucDelayAborted = pdFALSE;
4923:Src/RTOS/tasks.c **** 	}
4924:Src/RTOS/tasks.c **** 	#endif
4925:Src/RTOS/tasks.c **** 
4926:Src/RTOS/tasks.c **** 	/* Remove the task from the ready list before adding it to the blocked list
4927:Src/RTOS/tasks.c **** 	as the same list item is used for both lists. */
4928:Src/RTOS/tasks.c **** 	if( uxListRemove( &( pxCurrentTCB->xStateListItem ) ) == ( UBaseType_t ) 0 )
 714              		.loc 1 4928 0
 715 000a 1D4B     		ldr	r3, .L68+4
 716 000c 1868     		ldr	r0, [r3]
 717              	.LVL64:
 718 000e 0430     		adds	r0, r0, #4
 719 0010 FFF7FEFF 		bl	uxListRemove
 720              	.LVL65:
 721 0014 50B9     		cbnz	r0, .L61
4929:Src/RTOS/tasks.c **** 	{
4930:Src/RTOS/tasks.c **** 		/* The current task must be in a ready list, so there is no need to
4931:Src/RTOS/tasks.c **** 		check, and the port reset macro can be called directly. */
4932:Src/RTOS/tasks.c **** 		portRESET_READY_PRIORITY( pxCurrentTCB->uxPriority, uxTopReadyPriority );
 722              		.loc 1 4932 0
 723 0016 1A4B     		ldr	r3, .L68+4
 724 0018 1B68     		ldr	r3, [r3]
 725 001a DA6A     		ldr	r2, [r3, #44]
 726 001c 0123     		movs	r3, #1
 727 001e 03FA02F2 		lsl	r2, r3, r2
 728 0022 1849     		ldr	r1, .L68+8
 729 0024 0B68     		ldr	r3, [r1]
 730 0026 23EA0203 		bic	r3, r3, r2
 731 002a 0B60     		str	r3, [r1]
 732              	.L61:
4933:Src/RTOS/tasks.c **** 	}
4934:Src/RTOS/tasks.c **** 	else
4935:Src/RTOS/tasks.c **** 	{
4936:Src/RTOS/tasks.c **** 		mtCOVERAGE_TEST_MARKER();
4937:Src/RTOS/tasks.c **** 	}
4938:Src/RTOS/tasks.c **** 
4939:Src/RTOS/tasks.c **** 	#if ( INCLUDE_vTaskSuspend == 1 )
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 105


4940:Src/RTOS/tasks.c **** 	{
4941:Src/RTOS/tasks.c **** 		if( ( xTicksToWait == portMAX_DELAY ) && ( xCanBlockIndefinitely != pdFALSE ) )
 733              		.loc 1 4941 0
 734 002c B4F1FF3F 		cmp	r4, #-1
 735 0030 13D0     		beq	.L66
 736              	.L62:
4942:Src/RTOS/tasks.c **** 		{
4943:Src/RTOS/tasks.c **** 			/* Add the task to the suspended task list instead of a delayed task
4944:Src/RTOS/tasks.c **** 			list to ensure it is not woken by a timing event.  It will block
4945:Src/RTOS/tasks.c **** 			indefinitely. */
4946:Src/RTOS/tasks.c **** 			vListInsertEnd( &xSuspendedTaskList, &( pxCurrentTCB->xStateListItem ) );
4947:Src/RTOS/tasks.c **** 		}
4948:Src/RTOS/tasks.c **** 		else
4949:Src/RTOS/tasks.c **** 		{
4950:Src/RTOS/tasks.c **** 			/* Calculate the time at which the task should be woken if the event
4951:Src/RTOS/tasks.c **** 			does not occur.  This may overflow but this doesn't matter, the
4952:Src/RTOS/tasks.c **** 			kernel will manage it correctly. */
4953:Src/RTOS/tasks.c **** 			xTimeToWake = xConstTickCount + xTicksToWait;
 737              		.loc 1 4953 0
 738 0032 2C44     		add	r4, r4, r5
 739              	.LVL66:
4954:Src/RTOS/tasks.c **** 
4955:Src/RTOS/tasks.c **** 			/* The list item will be inserted in wake time order. */
4956:Src/RTOS/tasks.c **** 			listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xStateListItem ), xTimeToWake );
 740              		.loc 1 4956 0
 741 0034 124B     		ldr	r3, .L68+4
 742 0036 1B68     		ldr	r3, [r3]
 743 0038 5C60     		str	r4, [r3, #4]
4957:Src/RTOS/tasks.c **** 
4958:Src/RTOS/tasks.c **** 			if( xTimeToWake < xConstTickCount )
 744              		.loc 1 4958 0
 745 003a A542     		cmp	r5, r4
 746 003c 16D8     		bhi	.L67
4959:Src/RTOS/tasks.c **** 			{
4960:Src/RTOS/tasks.c **** 				/* Wake time has overflowed.  Place this item in the overflow
4961:Src/RTOS/tasks.c **** 				list. */
4962:Src/RTOS/tasks.c **** 				vListInsert( pxOverflowDelayedTaskList, &( pxCurrentTCB->xStateListItem ) );
4963:Src/RTOS/tasks.c **** 			}
4964:Src/RTOS/tasks.c **** 			else
4965:Src/RTOS/tasks.c **** 			{
4966:Src/RTOS/tasks.c **** 				/* The wake time has not overflowed, so the current block list
4967:Src/RTOS/tasks.c **** 				is used. */
4968:Src/RTOS/tasks.c **** 				vListInsert( pxDelayedTaskList, &( pxCurrentTCB->xStateListItem ) );
 747              		.loc 1 4968 0
 748 003e 124B     		ldr	r3, .L68+12
 749 0040 1868     		ldr	r0, [r3]
 750 0042 0F4B     		ldr	r3, .L68+4
 751 0044 1968     		ldr	r1, [r3]
 752 0046 0431     		adds	r1, r1, #4
 753 0048 FFF7FEFF 		bl	vListInsert
 754              	.LVL67:
4969:Src/RTOS/tasks.c **** 
4970:Src/RTOS/tasks.c **** 				/* If the task entering the blocked state was placed at the
4971:Src/RTOS/tasks.c **** 				head of the list of blocked tasks then xNextTaskUnblockTime
4972:Src/RTOS/tasks.c **** 				needs to be updated too. */
4973:Src/RTOS/tasks.c **** 				if( xTimeToWake < xNextTaskUnblockTime )
 755              		.loc 1 4973 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 106


 756 004c 0F4B     		ldr	r3, .L68+16
 757 004e 1B68     		ldr	r3, [r3]
 758 0050 A342     		cmp	r3, r4
 759 0052 12D9     		bls	.L60
4974:Src/RTOS/tasks.c **** 				{
4975:Src/RTOS/tasks.c **** 					xNextTaskUnblockTime = xTimeToWake;
 760              		.loc 1 4975 0
 761 0054 0D4B     		ldr	r3, .L68+16
 762 0056 1C60     		str	r4, [r3]
4976:Src/RTOS/tasks.c **** 				}
4977:Src/RTOS/tasks.c **** 				else
4978:Src/RTOS/tasks.c **** 				{
4979:Src/RTOS/tasks.c **** 					mtCOVERAGE_TEST_MARKER();
4980:Src/RTOS/tasks.c **** 				}
4981:Src/RTOS/tasks.c **** 			}
4982:Src/RTOS/tasks.c **** 		}
4983:Src/RTOS/tasks.c **** 	}
4984:Src/RTOS/tasks.c **** 	#else /* INCLUDE_vTaskSuspend */
4985:Src/RTOS/tasks.c **** 	{
4986:Src/RTOS/tasks.c **** 		/* Calculate the time at which the task should be woken if the event
4987:Src/RTOS/tasks.c **** 		does not occur.  This may overflow but this doesn't matter, the kernel
4988:Src/RTOS/tasks.c **** 		will manage it correctly. */
4989:Src/RTOS/tasks.c **** 		xTimeToWake = xConstTickCount + xTicksToWait;
4990:Src/RTOS/tasks.c **** 
4991:Src/RTOS/tasks.c **** 		/* The list item will be inserted in wake time order. */
4992:Src/RTOS/tasks.c **** 		listSET_LIST_ITEM_VALUE( &( pxCurrentTCB->xStateListItem ), xTimeToWake );
4993:Src/RTOS/tasks.c **** 
4994:Src/RTOS/tasks.c **** 		if( xTimeToWake < xConstTickCount )
4995:Src/RTOS/tasks.c **** 		{
4996:Src/RTOS/tasks.c **** 			/* Wake time has overflowed.  Place this item in the overflow list. */
4997:Src/RTOS/tasks.c **** 			vListInsert( pxOverflowDelayedTaskList, &( pxCurrentTCB->xStateListItem ) );
4998:Src/RTOS/tasks.c **** 		}
4999:Src/RTOS/tasks.c **** 		else
5000:Src/RTOS/tasks.c **** 		{
5001:Src/RTOS/tasks.c **** 			/* The wake time has not overflowed, so the current block list is used. */
5002:Src/RTOS/tasks.c **** 			vListInsert( pxDelayedTaskList, &( pxCurrentTCB->xStateListItem ) );
5003:Src/RTOS/tasks.c **** 
5004:Src/RTOS/tasks.c **** 			/* If the task entering the blocked state was placed at the head of the
5005:Src/RTOS/tasks.c **** 			list of blocked tasks then xNextTaskUnblockTime needs to be updated
5006:Src/RTOS/tasks.c **** 			too. */
5007:Src/RTOS/tasks.c **** 			if( xTimeToWake < xNextTaskUnblockTime )
5008:Src/RTOS/tasks.c **** 			{
5009:Src/RTOS/tasks.c **** 				xNextTaskUnblockTime = xTimeToWake;
5010:Src/RTOS/tasks.c **** 			}
5011:Src/RTOS/tasks.c **** 			else
5012:Src/RTOS/tasks.c **** 			{
5013:Src/RTOS/tasks.c **** 				mtCOVERAGE_TEST_MARKER();
5014:Src/RTOS/tasks.c **** 			}
5015:Src/RTOS/tasks.c **** 		}
5016:Src/RTOS/tasks.c **** 
5017:Src/RTOS/tasks.c **** 		/* Avoid compiler warning when INCLUDE_vTaskSuspend is not 1. */
5018:Src/RTOS/tasks.c **** 		( void ) xCanBlockIndefinitely;
5019:Src/RTOS/tasks.c **** 	}
5020:Src/RTOS/tasks.c **** 	#endif /* INCLUDE_vTaskSuspend */
5021:Src/RTOS/tasks.c **** }
 763              		.loc 1 5021 0
 764 0058 0FE0     		b	.L60
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 107


 765              	.LVL68:
 766              	.L66:
4941:Src/RTOS/tasks.c **** 		{
 767              		.loc 1 4941 0 discriminator 1
 768 005a 002E     		cmp	r6, #0
 769 005c E9D0     		beq	.L62
4946:Src/RTOS/tasks.c **** 		}
 770              		.loc 1 4946 0
 771 005e 084B     		ldr	r3, .L68+4
 772 0060 1968     		ldr	r1, [r3]
 773 0062 0431     		adds	r1, r1, #4
 774 0064 0A48     		ldr	r0, .L68+20
 775 0066 FFF7FEFF 		bl	vListInsertEnd
 776              	.LVL69:
 777 006a 06E0     		b	.L60
 778              	.LVL70:
 779              	.L67:
4962:Src/RTOS/tasks.c **** 			}
 780              		.loc 1 4962 0
 781 006c 094B     		ldr	r3, .L68+24
 782 006e 1868     		ldr	r0, [r3]
 783 0070 034B     		ldr	r3, .L68+4
 784 0072 1968     		ldr	r1, [r3]
 785 0074 0431     		adds	r1, r1, #4
 786 0076 FFF7FEFF 		bl	vListInsert
 787              	.LVL71:
 788              	.L60:
 789              		.loc 1 5021 0
 790 007a 70BD     		pop	{r4, r5, r6, pc}
 791              	.LVL72:
 792              	.L69:
 793              		.align	2
 794              	.L68:
 795 007c 00000000 		.word	.LANCHOR15
 796 0080 00000000 		.word	.LANCHOR10
 797 0084 00000000 		.word	.LANCHOR13
 798 0088 00000000 		.word	.LANCHOR2
 799 008c 00000000 		.word	.LANCHOR3
 800 0090 00000000 		.word	.LANCHOR0
 801 0094 00000000 		.word	.LANCHOR8
 802              		.cfi_endproc
 803              	.LFE62:
 805              		.section	.text.xTaskCreate,"ax",%progbits
 806              		.align	1
 807              		.global	xTaskCreate
 808              		.syntax unified
 809              		.thumb
 810              		.thumb_func
 811              		.fpu fpv4-sp-d16
 813              	xTaskCreate:
 814              	.LFB5:
 738:Src/RTOS/tasks.c **** 	TCB_t *pxNewTCB;
 815              		.loc 1 738 0
 816              		.cfi_startproc
 817              		@ args = 8, pretend = 0, frame = 0
 818              		@ frame_needed = 0, uses_anonymous_args = 0
 819              	.LVL73:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 108


 820 0000 2DE9F043 		push	{r4, r5, r6, r7, r8, r9, lr}
 821              	.LCFI8:
 822              		.cfi_def_cfa_offset 28
 823              		.cfi_offset 4, -28
 824              		.cfi_offset 5, -24
 825              		.cfi_offset 6, -20
 826              		.cfi_offset 7, -16
 827              		.cfi_offset 8, -12
 828              		.cfi_offset 9, -8
 829              		.cfi_offset 14, -4
 830 0004 85B0     		sub	sp, sp, #20
 831              	.LCFI9:
 832              		.cfi_def_cfa_offset 48
 833 0006 0746     		mov	r7, r0
 834 0008 8846     		mov	r8, r1
 835 000a 1546     		mov	r5, r2
 836 000c 9946     		mov	r9, r3
 837              	.LBB109:
 772:Src/RTOS/tasks.c **** 
 838              		.loc 1 772 0
 839 000e 9000     		lsls	r0, r2, #2
 840              	.LVL74:
 841 0010 FFF7FEFF 		bl	pvPortMalloc
 842              	.LVL75:
 774:Src/RTOS/tasks.c **** 			{
 843              		.loc 1 774 0
 844 0014 F8B1     		cbz	r0, .L74
 845 0016 0646     		mov	r6, r0
 777:Src/RTOS/tasks.c **** 
 846              		.loc 1 777 0
 847 0018 5820     		movs	r0, #88
 848              	.LVL76:
 849 001a FFF7FEFF 		bl	pvPortMalloc
 850              	.LVL77:
 779:Src/RTOS/tasks.c **** 				{
 851              		.loc 1 779 0
 852 001e 0446     		mov	r4, r0
 853 0020 A8B1     		cbz	r0, .L72
 782:Src/RTOS/tasks.c **** 				}
 854              		.loc 1 782 0
 855 0022 0663     		str	r6, [r0, #48]
 856              	.LVL78:
 857              	.L73:
 858              	.LBE109:
 798:Src/RTOS/tasks.c **** 		{
 859              		.loc 1 798 0
 860 0024 D4B1     		cbz	r4, .L75
 808:Src/RTOS/tasks.c **** 			prvAddNewTaskToReadyList( pxNewTCB );
 861              		.loc 1 808 0
 862 0026 0023     		movs	r3, #0
 863 0028 0393     		str	r3, [sp, #12]
 864 002a 0294     		str	r4, [sp, #8]
 865 002c 0D9B     		ldr	r3, [sp, #52]
 866 002e 0193     		str	r3, [sp, #4]
 867 0030 0C9B     		ldr	r3, [sp, #48]
 868 0032 0093     		str	r3, [sp]
 869 0034 4B46     		mov	r3, r9
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 109


 870 0036 2A46     		mov	r2, r5
 871 0038 4146     		mov	r1, r8
 872 003a 3846     		mov	r0, r7
 873 003c FFF7FEFF 		bl	prvInitialiseNewTask
 874              	.LVL79:
 809:Src/RTOS/tasks.c **** 			xReturn = pdPASS;
 875              		.loc 1 809 0
 876 0040 2046     		mov	r0, r4
 877 0042 FFF7FEFF 		bl	prvAddNewTaskToReadyList
 878              	.LVL80:
 810:Src/RTOS/tasks.c **** 		}
 879              		.loc 1 810 0
 880 0046 0120     		movs	r0, #1
 881              	.LVL81:
 882              	.L70:
 818:Src/RTOS/tasks.c **** 
 883              		.loc 1 818 0
 884 0048 05B0     		add	sp, sp, #20
 885              	.LCFI10:
 886              		.cfi_remember_state
 887              		.cfi_def_cfa_offset 28
 888              		@ sp needed
 889 004a BDE8F083 		pop	{r4, r5, r6, r7, r8, r9, pc}
 890              	.LVL82:
 891              	.L72:
 892              	.LCFI11:
 893              		.cfi_restore_state
 894              	.LBB110:
 788:Src/RTOS/tasks.c **** 				}
 895              		.loc 1 788 0
 896 004e 3046     		mov	r0, r6
 897              	.LVL83:
 898 0050 FFF7FEFF 		bl	vPortFree
 899              	.LVL84:
 900 0054 E6E7     		b	.L73
 901              	.LVL85:
 902              	.L74:
 903              	.LBE110:
 814:Src/RTOS/tasks.c **** 		}
 904              		.loc 1 814 0
 905 0056 4FF0FF30 		mov	r0, #-1
 906              	.LVL86:
 907 005a F5E7     		b	.L70
 908              	.LVL87:
 909              	.L75:
 910 005c 4FF0FF30 		mov	r0, #-1
 911              	.LVL88:
 817:Src/RTOS/tasks.c **** 	}
 912              		.loc 1 817 0
 913 0060 F2E7     		b	.L70
 914              		.cfi_endproc
 915              	.LFE5:
 917              		.section	.text.vTaskDelete,"ax",%progbits
 918              		.align	1
 919              		.global	vTaskDelete
 920              		.syntax unified
 921              		.thumb
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 110


 922              		.thumb_func
 923              		.fpu fpv4-sp-d16
 925              	vTaskDelete:
 926              	.LFB8:
1113:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 927              		.loc 1 1113 0
 928              		.cfi_startproc
 929              		@ args = 0, pretend = 0, frame = 0
 930              		@ frame_needed = 0, uses_anonymous_args = 0
 931              	.LVL89:
 932 0000 38B5     		push	{r3, r4, r5, lr}
 933              	.LCFI12:
 934              		.cfi_def_cfa_offset 16
 935              		.cfi_offset 3, -16
 936              		.cfi_offset 4, -12
 937              		.cfi_offset 5, -8
 938              		.cfi_offset 14, -4
 939 0002 0446     		mov	r4, r0
1116:Src/RTOS/tasks.c **** 		{
 940              		.loc 1 1116 0
 941 0004 FFF7FEFF 		bl	vPortEnterCritical
 942              	.LVL90:
1120:Src/RTOS/tasks.c **** 
 943              		.loc 1 1120 0
 944 0008 002C     		cmp	r4, #0
 945 000a 34D0     		beq	.L87
 946              	.LVL91:
 947              	.L78:
1123:Src/RTOS/tasks.c **** 			{
 948              		.loc 1 1123 0 discriminator 4
 949 000c 251D     		adds	r5, r4, #4
 950 000e 2846     		mov	r0, r5
 951 0010 FFF7FEFF 		bl	uxListRemove
 952              	.LVL92:
 953 0014 70B9     		cbnz	r0, .L79
1125:Src/RTOS/tasks.c **** 			}
 954              		.loc 1 1125 0
 955 0016 E26A     		ldr	r2, [r4, #44]
 956 0018 02EB8201 		add	r1, r2, r2, lsl #2
 957 001c 8B00     		lsls	r3, r1, #2
 958 001e 2649     		ldr	r1, .L90
 959 0020 CB58     		ldr	r3, [r1, r3]
 960 0022 3BB9     		cbnz	r3, .L79
1125:Src/RTOS/tasks.c **** 			}
 961              		.loc 1 1125 0 is_stmt 0 discriminator 1
 962 0024 0123     		movs	r3, #1
 963 0026 03FA02F2 		lsl	r2, r3, r2
 964 002a 2449     		ldr	r1, .L90+4
 965 002c 0B68     		ldr	r3, [r1]
 966 002e 23EA0203 		bic	r3, r3, r2
 967 0032 0B60     		str	r3, [r1]
 968              	.L79:
1133:Src/RTOS/tasks.c **** 			{
 969              		.loc 1 1133 0 is_stmt 1
 970 0034 A36A     		ldr	r3, [r4, #40]
 971 0036 1BB1     		cbz	r3, .L80
1135:Src/RTOS/tasks.c **** 			}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 111


 972              		.loc 1 1135 0
 973 0038 04F11800 		add	r0, r4, #24
 974 003c FFF7FEFF 		bl	uxListRemove
 975              	.LVL93:
 976              	.L80:
1146:Src/RTOS/tasks.c **** 
 977              		.loc 1 1146 0
 978 0040 1F4A     		ldr	r2, .L90+8
 979 0042 1368     		ldr	r3, [r2]
 980 0044 0133     		adds	r3, r3, #1
 981 0046 1360     		str	r3, [r2]
1148:Src/RTOS/tasks.c **** 			{
 982              		.loc 1 1148 0
 983 0048 1E4B     		ldr	r3, .L90+12
 984 004a 1B68     		ldr	r3, [r3]
 985 004c A342     		cmp	r3, r4
 986 004e 15D0     		beq	.L88
1171:Src/RTOS/tasks.c **** 				prvDeleteTCB( pxTCB );
 987              		.loc 1 1171 0
 988 0050 1D4A     		ldr	r2, .L90+16
 989 0052 1368     		ldr	r3, [r2]
 990 0054 013B     		subs	r3, r3, #1
 991 0056 1360     		str	r3, [r2]
1172:Src/RTOS/tasks.c **** 
 992              		.loc 1 1172 0
 993 0058 2046     		mov	r0, r4
 994 005a FFF7FEFF 		bl	prvDeleteTCB
 995              	.LVL94:
1176:Src/RTOS/tasks.c **** 			}
 996              		.loc 1 1176 0
 997 005e FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 998              	.LVL95:
 999              	.L82:
1181:Src/RTOS/tasks.c **** 
 1000              		.loc 1 1181 0
 1001 0062 FFF7FEFF 		bl	vPortExitCritical
 1002              	.LVL96:
1185:Src/RTOS/tasks.c **** 		{
 1003              		.loc 1 1185 0
 1004 0066 194B     		ldr	r3, .L90+20
 1005 0068 1B68     		ldr	r3, [r3]
 1006 006a 1BB1     		cbz	r3, .L77
1187:Src/RTOS/tasks.c **** 			{
 1007              		.loc 1 1187 0
 1008 006c 154B     		ldr	r3, .L90+12
 1009 006e 1B68     		ldr	r3, [r3]
 1010 0070 A342     		cmp	r3, r4
 1011 0072 0CD0     		beq	.L89
 1012              	.L77:
1197:Src/RTOS/tasks.c **** 
 1013              		.loc 1 1197 0
 1014 0074 38BD     		pop	{r3, r4, r5, pc}
 1015              	.LVL97:
 1016              	.L87:
1120:Src/RTOS/tasks.c **** 
 1017              		.loc 1 1120 0 discriminator 1
 1018 0076 134B     		ldr	r3, .L90+12
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 112


 1019 0078 1C68     		ldr	r4, [r3]
 1020              	.LVL98:
 1021 007a C7E7     		b	.L78
 1022              	.LVL99:
 1023              	.L88:
1155:Src/RTOS/tasks.c **** 
 1024              		.loc 1 1155 0
 1025 007c 2946     		mov	r1, r5
 1026 007e 1448     		ldr	r0, .L90+24
 1027 0080 FFF7FEFF 		bl	vListInsertEnd
 1028              	.LVL100:
1160:Src/RTOS/tasks.c **** 
 1029              		.loc 1 1160 0
 1030 0084 134A     		ldr	r2, .L90+28
 1031 0086 1368     		ldr	r3, [r2]
 1032 0088 0133     		adds	r3, r3, #1
 1033 008a 1360     		str	r3, [r2]
 1034 008c E9E7     		b	.L82
 1035              	.L89:
1189:Src/RTOS/tasks.c **** 				portYIELD_WITHIN_API();
 1036              		.loc 1 1189 0
 1037 008e 124B     		ldr	r3, .L90+32
 1038 0090 1B68     		ldr	r3, [r3]
 1039 0092 43B1     		cbz	r3, .L84
 1040              	.LBB111:
 1041              	.LBB112:
 1042              		.loc 2 195 0
 1043              		.syntax unified
 1044              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1045 0094 4FF05003 			mov r3, #80												
 1046 0098 83F31188 		msr basepri, r3											
 1047 009c BFF36F8F 		isb														
 1048 00a0 BFF34F8F 		dsb														
 1049              	
 1050              	@ 0 "" 2
 1051              	.LVL101:
 1052              		.thumb
 1053              		.syntax unified
 1054              	.L85:
 1055 00a4 FEE7     		b	.L85
 1056              	.L84:
 1057              	.LBE112:
 1058              	.LBE111:
1190:Src/RTOS/tasks.c **** 			}
 1059              		.loc 1 1190 0
 1060 00a6 0D4B     		ldr	r3, .L90+36
 1061 00a8 4FF08052 		mov	r2, #268435456
 1062 00ac 1A60     		str	r2, [r3]
 1063              		.syntax unified
 1064              	@ 1190 "Src/RTOS/tasks.c" 1
 1065 00ae BFF34F8F 		dsb
 1066              	@ 0 "" 2
 1067              	@ 1190 "Src/RTOS/tasks.c" 1
 1068 00b2 BFF36F8F 		isb
 1069              	@ 0 "" 2
1197:Src/RTOS/tasks.c **** 
 1070              		.loc 1 1197 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 113


 1071              		.thumb
 1072              		.syntax unified
 1073 00b6 DDE7     		b	.L77
 1074              	.L91:
 1075              		.align	2
 1076              	.L90:
 1077 00b8 00000000 		.word	.LANCHOR4
 1078 00bc 00000000 		.word	.LANCHOR13
 1079 00c0 00000000 		.word	.LANCHOR12
 1080 00c4 00000000 		.word	.LANCHOR10
 1081 00c8 00000000 		.word	.LANCHOR9
 1082 00cc 00000000 		.word	.LANCHOR11
 1083 00d0 00000000 		.word	.LANCHOR7
 1084 00d4 00000000 		.word	.LANCHOR14
 1085 00d8 00000000 		.word	.LANCHOR16
 1086 00dc 04ED00E0 		.word	-536810236
 1087              		.cfi_endproc
 1088              	.LFE8:
 1090              		.section	.text.eTaskGetState,"ax",%progbits
 1091              		.align	1
 1092              		.global	eTaskGetState
 1093              		.syntax unified
 1094              		.thumb
 1095              		.thumb_func
 1096              		.fpu fpv4-sp-d16
 1098              	eTaskGetState:
 1099              	.LFB11:
1334:Src/RTOS/tasks.c **** 	eTaskState eReturn;
 1100              		.loc 1 1334 0
 1101              		.cfi_startproc
 1102              		@ args = 0, pretend = 0, frame = 0
 1103              		@ frame_needed = 0, uses_anonymous_args = 0
 1104              	.LVL102:
 1105 0000 38B5     		push	{r3, r4, r5, lr}
 1106              	.LCFI13:
 1107              		.cfi_def_cfa_offset 16
 1108              		.cfi_offset 3, -16
 1109              		.cfi_offset 4, -12
 1110              		.cfi_offset 5, -8
 1111              		.cfi_offset 14, -4
 1112              	.LVL103:
1339:Src/RTOS/tasks.c **** 
 1113              		.loc 1 1339 0
 1114 0002 D0B1     		cbz	r0, .L104
 1115 0004 0546     		mov	r5, r0
1341:Src/RTOS/tasks.c **** 		{
 1116              		.loc 1 1341 0
 1117 0006 194B     		ldr	r3, .L107
 1118 0008 1B68     		ldr	r3, [r3]
 1119 000a 8342     		cmp	r3, r0
 1120 000c 24D0     		beq	.L97
1348:Src/RTOS/tasks.c **** 			{
 1121              		.loc 1 1348 0
 1122 000e FFF7FEFF 		bl	vPortEnterCritical
 1123              	.LVL104:
1350:Src/RTOS/tasks.c **** 			}
 1124              		.loc 1 1350 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 114


 1125 0012 6C69     		ldr	r4, [r5, #20]
 1126              	.LVL105:
1352:Src/RTOS/tasks.c **** 
 1127              		.loc 1 1352 0
 1128 0014 FFF7FEFF 		bl	vPortExitCritical
 1129              	.LVL106:
1354:Src/RTOS/tasks.c **** 			{
 1130              		.loc 1 1354 0
 1131 0018 154B     		ldr	r3, .L107+4
 1132 001a 1B68     		ldr	r3, [r3]
 1133 001c A342     		cmp	r3, r4
 1134 001e 1DD0     		beq	.L98
1354:Src/RTOS/tasks.c **** 			{
 1135              		.loc 1 1354 0 is_stmt 0 discriminator 1
 1136 0020 144B     		ldr	r3, .L107+8
 1137 0022 1B68     		ldr	r3, [r3]
 1138 0024 A342     		cmp	r3, r4
 1139 0026 1BD0     		beq	.L99
1362:Src/RTOS/tasks.c **** 				{
 1140              		.loc 1 1362 0 is_stmt 1
 1141 0028 134B     		ldr	r3, .L107+12
 1142 002a 9C42     		cmp	r4, r3
 1143 002c 0ED0     		beq	.L105
1379:Src/RTOS/tasks.c **** 				{
 1144              		.loc 1 1379 0
 1145 002e 134B     		ldr	r3, .L107+16
 1146 0030 9C42     		cmp	r4, r3
 1147 0032 19D0     		beq	.L101
1379:Src/RTOS/tasks.c **** 				{
 1148              		.loc 1 1379 0 is_stmt 0 discriminator 1
 1149 0034 74B1     		cbz	r4, .L106
1392:Src/RTOS/tasks.c **** 			}
 1150              		.loc 1 1392 0 is_stmt 1
 1151 0036 0120     		movs	r0, #1
 1152 0038 0FE0     		b	.L95
 1153              	.LVL107:
 1154              	.L104:
 1155              	.LBB113:
 1156              	.LBB114:
 1157              		.loc 2 195 0
 1158              		.syntax unified
 1159              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1160 003a 4FF05003 			mov r3, #80												
 1161 003e 83F31188 		msr basepri, r3											
 1162 0042 BFF36F8F 		isb														
 1163 0046 BFF34F8F 		dsb														
 1164              	
 1165              	@ 0 "" 2
 1166              	.LVL108:
 1167              		.thumb
 1168              		.syntax unified
 1169              	.L94:
 1170 004a FEE7     		b	.L94
 1171              	.LVL109:
 1172              	.L105:
 1173              	.LBE114:
 1174              	.LBE113:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 115


1367:Src/RTOS/tasks.c **** 					{
 1175              		.loc 1 1367 0
 1176 004c AB6A     		ldr	r3, [r5, #40]
 1177 004e 4BB9     		cbnz	r3, .L100
1369:Src/RTOS/tasks.c **** 					}
 1178              		.loc 1 1369 0
 1179 0050 0320     		movs	r0, #3
 1180 0052 02E0     		b	.L95
 1181              	.L106:
1384:Src/RTOS/tasks.c **** 				}
 1182              		.loc 1 1384 0
 1183 0054 0420     		movs	r0, #4
 1184 0056 00E0     		b	.L95
 1185              	.LVL110:
 1186              	.L97:
1344:Src/RTOS/tasks.c **** 		}
 1187              		.loc 1 1344 0
 1188 0058 0020     		movs	r0, #0
 1189              	.LVL111:
 1190              	.L95:
1397:Src/RTOS/tasks.c **** 
 1191              		.loc 1 1397 0
 1192 005a 38BD     		pop	{r3, r4, r5, pc}
 1193              	.LVL112:
 1194              	.L98:
1358:Src/RTOS/tasks.c **** 			}
 1195              		.loc 1 1358 0
 1196 005c 0220     		movs	r0, #2
 1197 005e FCE7     		b	.L95
 1198              	.L99:
 1199 0060 0220     		movs	r0, #2
 1200 0062 FAE7     		b	.L95
 1201              	.L100:
1373:Src/RTOS/tasks.c **** 					}
 1202              		.loc 1 1373 0
 1203 0064 0220     		movs	r0, #2
 1204 0066 F8E7     		b	.L95
 1205              	.L101:
1384:Src/RTOS/tasks.c **** 				}
 1206              		.loc 1 1384 0
 1207 0068 0420     		movs	r0, #4
 1208 006a F6E7     		b	.L95
 1209              	.L108:
 1210              		.align	2
 1211              	.L107:
 1212 006c 00000000 		.word	.LANCHOR10
 1213 0070 00000000 		.word	.LANCHOR2
 1214 0074 00000000 		.word	.LANCHOR8
 1215 0078 00000000 		.word	.LANCHOR0
 1216 007c 00000000 		.word	.LANCHOR7
 1217              		.cfi_endproc
 1218              	.LFE11:
 1220              		.section	.text.uxTaskPriorityGet,"ax",%progbits
 1221              		.align	1
 1222              		.global	uxTaskPriorityGet
 1223              		.syntax unified
 1224              		.thumb
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 116


 1225              		.thumb_func
 1226              		.fpu fpv4-sp-d16
 1228              	uxTaskPriorityGet:
 1229              	.LFB12:
1405:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 1230              		.loc 1 1405 0
 1231              		.cfi_startproc
 1232              		@ args = 0, pretend = 0, frame = 0
 1233              		@ frame_needed = 0, uses_anonymous_args = 0
 1234              	.LVL113:
 1235 0000 10B5     		push	{r4, lr}
 1236              	.LCFI14:
 1237              		.cfi_def_cfa_offset 8
 1238              		.cfi_offset 4, -8
 1239              		.cfi_offset 14, -4
 1240 0002 0446     		mov	r4, r0
1409:Src/RTOS/tasks.c **** 		{
 1241              		.loc 1 1409 0
 1242 0004 FFF7FEFF 		bl	vPortEnterCritical
 1243              	.LVL114:
1413:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
 1244              		.loc 1 1413 0
 1245 0008 24B1     		cbz	r4, .L112
 1246              	.LVL115:
 1247              	.L110:
1414:Src/RTOS/tasks.c **** 		}
 1248              		.loc 1 1414 0 discriminator 4
 1249 000a E46A     		ldr	r4, [r4, #44]
 1250              	.LVL116:
1416:Src/RTOS/tasks.c **** 
 1251              		.loc 1 1416 0 discriminator 4
 1252 000c FFF7FEFF 		bl	vPortExitCritical
 1253              	.LVL117:
1419:Src/RTOS/tasks.c **** 
 1254              		.loc 1 1419 0 discriminator 4
 1255 0010 2046     		mov	r0, r4
 1256 0012 10BD     		pop	{r4, pc}
 1257              	.LVL118:
 1258              	.L112:
1413:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
 1259              		.loc 1 1413 0 discriminator 1
 1260 0014 014B     		ldr	r3, .L113
 1261 0016 1C68     		ldr	r4, [r3]
 1262              	.LVL119:
 1263 0018 F7E7     		b	.L110
 1264              	.L114:
 1265 001a 00BF     		.align	2
 1266              	.L113:
 1267 001c 00000000 		.word	.LANCHOR10
 1268              		.cfi_endproc
 1269              	.LFE12:
 1271              		.section	.text.uxTaskPriorityGetFromISR,"ax",%progbits
 1272              		.align	1
 1273              		.global	uxTaskPriorityGetFromISR
 1274              		.syntax unified
 1275              		.thumb
 1276              		.thumb_func
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 117


 1277              		.fpu fpv4-sp-d16
 1279              	uxTaskPriorityGetFromISR:
 1280              	.LFB13:
1427:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 1281              		.loc 1 1427 0
 1282              		.cfi_startproc
 1283              		@ args = 0, pretend = 0, frame = 0
 1284              		@ frame_needed = 0, uses_anonymous_args = 0
 1285              	.LVL120:
 1286 0000 10B5     		push	{r4, lr}
 1287              	.LCFI15:
 1288              		.cfi_def_cfa_offset 8
 1289              		.cfi_offset 4, -8
 1290              		.cfi_offset 14, -4
 1291 0002 0446     		mov	r4, r0
1447:Src/RTOS/tasks.c **** 
 1292              		.loc 1 1447 0
 1293 0004 FFF7FEFF 		bl	vPortValidateInterruptPriority
 1294              	.LVL121:
 1295              	.LBB115:
 1296              	.LBB116:
 196:Src/RTOS/Inc/portmacro.h **** 	(
 197:Src/RTOS/Inc/portmacro.h **** 		"	mov %0, %1												\n"	\
 198:Src/RTOS/Inc/portmacro.h **** 		"	msr basepri, %0											\n" \
 199:Src/RTOS/Inc/portmacro.h **** 		"	isb														\n" \
 200:Src/RTOS/Inc/portmacro.h **** 		"	dsb														\n" \
 201:Src/RTOS/Inc/portmacro.h **** 		:"=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "memory"
 202:Src/RTOS/Inc/portmacro.h **** 	);
 203:Src/RTOS/Inc/portmacro.h **** }
 204:Src/RTOS/Inc/portmacro.h **** 
 205:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 206:Src/RTOS/Inc/portmacro.h **** 
 207:Src/RTOS/Inc/portmacro.h **** portFORCE_INLINE static uint32_t ulPortRaiseBASEPRI( void )
 208:Src/RTOS/Inc/portmacro.h **** {
 209:Src/RTOS/Inc/portmacro.h **** uint32_t ulOriginalBASEPRI, ulNewBASEPRI;
 210:Src/RTOS/Inc/portmacro.h **** 
 211:Src/RTOS/Inc/portmacro.h **** 	__asm volatile
 1297              		.loc 2 211 0
 1298              		.syntax unified
 1299              	@ 211 "Src/RTOS/Inc/portmacro.h" 1
 1300 0008 EFF31183 			mrs r3, basepri											
 1301 000c 4FF05002 		mov r2, #80												
 1302 0010 82F31188 		msr basepri, r2											
 1303 0014 BFF36F8F 		isb														
 1304 0018 BFF34F8F 		dsb														
 1305              	
 1306              	@ 0 "" 2
 1307              		.thumb
 1308              		.syntax unified
 1309              	.LBE116:
 1310              	.LBE115:
1453:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
 1311              		.loc 1 1453 0
 1312 001c 1CB1     		cbz	r4, .L118
 1313              	.LVL122:
 1314              	.L116:
1454:Src/RTOS/tasks.c **** 		}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 118


 1315              		.loc 1 1454 0 discriminator 4
 1316 001e E06A     		ldr	r0, [r4, #44]
 1317              	.LVL123:
 1318              	.LBB117:
 1319              	.LBB118:
 212:Src/RTOS/Inc/portmacro.h **** 	(
 213:Src/RTOS/Inc/portmacro.h **** 		"	mrs %0, basepri											\n" \
 214:Src/RTOS/Inc/portmacro.h **** 		"	mov %1, %2												\n"	\
 215:Src/RTOS/Inc/portmacro.h **** 		"	msr basepri, %1											\n" \
 216:Src/RTOS/Inc/portmacro.h **** 		"	isb														\n" \
 217:Src/RTOS/Inc/portmacro.h **** 		"	dsb														\n" \
 218:Src/RTOS/Inc/portmacro.h **** 		:"=r" (ulOriginalBASEPRI), "=r" (ulNewBASEPRI) : "i" ( configMAX_SYSCALL_INTERRUPT_PRIORITY ) : "
 219:Src/RTOS/Inc/portmacro.h **** 	);
 220:Src/RTOS/Inc/portmacro.h **** 
 221:Src/RTOS/Inc/portmacro.h **** 	/* This return will not be reached but is necessary to prevent compiler
 222:Src/RTOS/Inc/portmacro.h **** 	warnings. */
 223:Src/RTOS/Inc/portmacro.h **** 	return ulOriginalBASEPRI;
 224:Src/RTOS/Inc/portmacro.h **** }
 225:Src/RTOS/Inc/portmacro.h **** /*-----------------------------------------------------------*/
 226:Src/RTOS/Inc/portmacro.h **** 
 227:Src/RTOS/Inc/portmacro.h **** portFORCE_INLINE static void vPortSetBASEPRI( uint32_t ulNewMaskValue )
 228:Src/RTOS/Inc/portmacro.h **** {
 229:Src/RTOS/Inc/portmacro.h **** 	__asm volatile
 1320              		.loc 2 229 0 discriminator 4
 1321              		.syntax unified
 1322              	@ 229 "Src/RTOS/Inc/portmacro.h" 1
 1323 0020 83F31188 			msr basepri, r3	
 1324              	@ 0 "" 2
 1325              	.LVL124:
 1326              		.thumb
 1327              		.syntax unified
 1328              	.LBE118:
 1329              	.LBE117:
1459:Src/RTOS/tasks.c **** 
 1330              		.loc 1 1459 0 discriminator 4
 1331 0024 10BD     		pop	{r4, pc}
 1332              	.LVL125:
 1333              	.L118:
1453:Src/RTOS/tasks.c **** 			uxReturn = pxTCB->uxPriority;
 1334              		.loc 1 1453 0 discriminator 1
 1335 0026 014A     		ldr	r2, .L119
 1336 0028 1468     		ldr	r4, [r2]
 1337              	.LVL126:
 1338 002a F8E7     		b	.L116
 1339              	.L120:
 1340              		.align	2
 1341              	.L119:
 1342 002c 00000000 		.word	.LANCHOR10
 1343              		.cfi_endproc
 1344              	.LFE13:
 1346              		.section	.text.vTaskPrioritySet,"ax",%progbits
 1347              		.align	1
 1348              		.global	vTaskPrioritySet
 1349              		.syntax unified
 1350              		.thumb
 1351              		.thumb_func
 1352              		.fpu fpv4-sp-d16
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 119


 1354              	vTaskPrioritySet:
 1355              	.LFB14:
1467:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 1356              		.loc 1 1467 0
 1357              		.cfi_startproc
 1358              		@ args = 0, pretend = 0, frame = 0
 1359              		@ frame_needed = 0, uses_anonymous_args = 0
 1360              	.LVL127:
 1361 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1362              	.LCFI16:
 1363              		.cfi_def_cfa_offset 24
 1364              		.cfi_offset 3, -24
 1365              		.cfi_offset 4, -20
 1366              		.cfi_offset 5, -16
 1367              		.cfi_offset 6, -12
 1368              		.cfi_offset 7, -8
 1369              		.cfi_offset 14, -4
 1370              	.LVL128:
1472:Src/RTOS/tasks.c **** 
 1371              		.loc 1 1472 0
 1372 0002 0429     		cmp	r1, #4
 1373 0004 08D9     		bls	.L122
 1374              	.LBB119:
 1375              	.LBB120:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1376              		.loc 2 195 0
 1377              		.syntax unified
 1378              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1379 0006 4FF05003 			mov r3, #80												
 1380 000a 83F31188 		msr basepri, r3											
 1381 000e BFF36F8F 		isb														
 1382 0012 BFF34F8F 		dsb														
 1383              	
 1384              	@ 0 "" 2
 1385              	.LVL129:
 1386              		.thumb
 1387              		.syntax unified
 1388              	.L123:
 1389 0016 FEE7     		b	.L123
 1390              	.L122:
 1391 0018 0446     		mov	r4, r0
 1392 001a 0D46     		mov	r5, r1
 1393              	.LVL130:
 1394              	.LBE120:
 1395              	.LBE119:
1484:Src/RTOS/tasks.c **** 		{
 1396              		.loc 1 1484 0
 1397 001c FFF7FEFF 		bl	vPortEnterCritical
 1398              	.LVL131:
1488:Src/RTOS/tasks.c **** 
 1399              		.loc 1 1488 0
 1400 0020 0CB9     		cbnz	r4, .L124
1488:Src/RTOS/tasks.c **** 
 1401              		.loc 1 1488 0 is_stmt 0 discriminator 1
 1402 0022 2A4B     		ldr	r3, .L136
 1403 0024 1C68     		ldr	r4, [r3]
 1404              	.LVL132:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 120


 1405              	.L124:
1494:Src/RTOS/tasks.c **** 			}
 1406              		.loc 1 1494 0 is_stmt 1 discriminator 4
 1407 0026 A36C     		ldr	r3, [r4, #72]
 1408              	.LVL133:
1502:Src/RTOS/tasks.c **** 			{
 1409              		.loc 1 1502 0 discriminator 4
 1410 0028 9D42     		cmp	r5, r3
 1411 002a 40D0     		beq	.L125
1506:Src/RTOS/tasks.c **** 				{
 1412              		.loc 1 1506 0
 1413 002c 42D9     		bls	.L126
1508:Src/RTOS/tasks.c **** 					{
 1414              		.loc 1 1508 0
 1415 002e 274A     		ldr	r2, .L136
 1416 0030 1268     		ldr	r2, [r2]
 1417 0032 A242     		cmp	r2, r4
 1418 0034 44D0     		beq	.L132
1513:Src/RTOS/tasks.c **** 						{
 1419              		.loc 1 1513 0
 1420 0036 254A     		ldr	r2, .L136
 1421 0038 1268     		ldr	r2, [r2]
 1422 003a D26A     		ldr	r2, [r2, #44]
 1423 003c AA42     		cmp	r2, r5
 1424 003e 41D9     		bls	.L133
1470:Src/RTOS/tasks.c **** 
 1425              		.loc 1 1470 0
 1426 0040 0026     		movs	r6, #0
 1427              	.L127:
 1428              	.LVL134:
1546:Src/RTOS/tasks.c **** 
 1429              		.loc 1 1546 0
 1430 0042 E76A     		ldr	r7, [r4, #44]
 1431              	.LVL135:
1552:Src/RTOS/tasks.c **** 					{
 1432              		.loc 1 1552 0
 1433 0044 BB42     		cmp	r3, r7
 1434 0046 00D1     		bne	.L128
1554:Src/RTOS/tasks.c **** 					}
 1435              		.loc 1 1554 0
 1436 0048 E562     		str	r5, [r4, #44]
 1437              	.L128:
1562:Src/RTOS/tasks.c **** 				}
 1438              		.loc 1 1562 0
 1439 004a A564     		str	r5, [r4, #72]
1572:Src/RTOS/tasks.c **** 				{
 1440              		.loc 1 1572 0
 1441 004c A369     		ldr	r3, [r4, #24]
 1442              	.LVL136:
 1443 004e 002B     		cmp	r3, #0
 1444 0050 02DB     		blt	.L129
1574:Src/RTOS/tasks.c **** 				}
 1445              		.loc 1 1574 0
 1446 0052 C5F10505 		rsb	r5, r5, #5
 1447              	.LVL137:
 1448 0056 A561     		str	r5, [r4, #24]
 1449              	.L129:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 121


1585:Src/RTOS/tasks.c **** 				{
 1450              		.loc 1 1585 0
 1451 0058 6269     		ldr	r2, [r4, #20]
 1452 005a 1D49     		ldr	r1, .L136+4
 1453 005c 1423     		movs	r3, #20
 1454 005e 03FB0713 		mla	r3, r3, r7, r1
 1455 0062 9A42     		cmp	r2, r3
 1456 0064 1AD1     		bne	.L130
1590:Src/RTOS/tasks.c **** 					{
 1457              		.loc 1 1590 0
 1458 0066 251D     		adds	r5, r4, #4
 1459 0068 2846     		mov	r0, r5
 1460 006a FFF7FEFF 		bl	uxListRemove
 1461              	.LVL138:
 1462 006e 38B9     		cbnz	r0, .L131
1595:Src/RTOS/tasks.c **** 					}
 1463              		.loc 1 1595 0
 1464 0070 0123     		movs	r3, #1
 1465 0072 03FA07F2 		lsl	r2, r3, r7
 1466 0076 1749     		ldr	r1, .L136+8
 1467 0078 0B68     		ldr	r3, [r1]
 1468 007a 23EA0203 		bic	r3, r3, r2
 1469 007e 0B60     		str	r3, [r1]
 1470              	.L131:
1601:Src/RTOS/tasks.c **** 				}
 1471              		.loc 1 1601 0
 1472 0080 E26A     		ldr	r2, [r4, #44]
 1473 0082 0123     		movs	r3, #1
 1474 0084 9340     		lsls	r3, r3, r2
 1475 0086 1349     		ldr	r1, .L136+8
 1476 0088 0868     		ldr	r0, [r1]
 1477 008a 0343     		orrs	r3, r3, r0
 1478 008c 0B60     		str	r3, [r1]
 1479 008e 2946     		mov	r1, r5
 1480 0090 0F4B     		ldr	r3, .L136+4
 1481 0092 1420     		movs	r0, #20
 1482 0094 00FB0230 		mla	r0, r0, r2, r3
 1483 0098 FFF7FEFF 		bl	vListInsertEnd
 1484              	.LVL139:
 1485              	.L130:
1608:Src/RTOS/tasks.c **** 				{
 1486              		.loc 1 1608 0
 1487 009c 3EB1     		cbz	r6, .L125
1610:Src/RTOS/tasks.c **** 				}
 1488              		.loc 1 1610 0
 1489 009e 0E4B     		ldr	r3, .L136+12
 1490 00a0 4FF08052 		mov	r2, #268435456
 1491 00a4 1A60     		str	r2, [r3]
 1492              		.syntax unified
 1493              	@ 1610 "Src/RTOS/tasks.c" 1
 1494 00a6 BFF34F8F 		dsb
 1495              	@ 0 "" 2
 1496              	@ 1610 "Src/RTOS/tasks.c" 1
 1497 00aa BFF36F8F 		isb
 1498              	@ 0 "" 2
 1499              	.LVL140:
 1500              		.thumb
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 122


 1501              		.syntax unified
 1502              	.L125:
1622:Src/RTOS/tasks.c **** 	}
 1503              		.loc 1 1622 0
 1504 00ae FFF7FEFF 		bl	vPortExitCritical
 1505              	.LVL141:
1623:Src/RTOS/tasks.c **** 
 1506              		.loc 1 1623 0
 1507 00b2 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1508              	.LVL142:
 1509              	.L126:
1529:Src/RTOS/tasks.c **** 				{
 1510              		.loc 1 1529 0
 1511 00b4 054A     		ldr	r2, .L136
 1512 00b6 1268     		ldr	r2, [r2]
 1513 00b8 A242     		cmp	r2, r4
 1514 00ba 05D0     		beq	.L134
1470:Src/RTOS/tasks.c **** 
 1515              		.loc 1 1470 0
 1516 00bc 0026     		movs	r6, #0
 1517 00be C0E7     		b	.L127
 1518              	.L132:
 1519 00c0 0026     		movs	r6, #0
 1520 00c2 BEE7     		b	.L127
 1521              	.L133:
1515:Src/RTOS/tasks.c **** 						}
 1522              		.loc 1 1515 0
 1523 00c4 0126     		movs	r6, #1
 1524 00c6 BCE7     		b	.L127
 1525              	.L134:
1534:Src/RTOS/tasks.c **** 				}
 1526              		.loc 1 1534 0
 1527 00c8 0126     		movs	r6, #1
 1528 00ca BAE7     		b	.L127
 1529              	.L137:
 1530              		.align	2
 1531              	.L136:
 1532 00cc 00000000 		.word	.LANCHOR10
 1533 00d0 00000000 		.word	.LANCHOR4
 1534 00d4 00000000 		.word	.LANCHOR13
 1535 00d8 04ED00E0 		.word	-536810236
 1536              		.cfi_endproc
 1537              	.LFE14:
 1539              		.section	.text.vTaskResume,"ax",%progbits
 1540              		.align	1
 1541              		.global	vTaskResume
 1542              		.syntax unified
 1543              		.thumb
 1544              		.thumb_func
 1545              		.fpu fpv4-sp-d16
 1547              	vTaskResume:
 1548              	.LFB17:
1778:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) xTaskToResume;
 1549              		.loc 1 1778 0
 1550              		.cfi_startproc
 1551              		@ args = 0, pretend = 0, frame = 0
 1552              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 123


 1553              	.LVL143:
 1554 0000 38B5     		push	{r3, r4, r5, lr}
 1555              	.LCFI17:
 1556              		.cfi_def_cfa_offset 16
 1557              		.cfi_offset 3, -16
 1558              		.cfi_offset 4, -12
 1559              		.cfi_offset 5, -8
 1560              		.cfi_offset 14, -4
 1561              	.LVL144:
1782:Src/RTOS/tasks.c **** 
 1562              		.loc 1 1782 0
 1563 0002 68B1     		cbz	r0, .L144
 1564 0004 0446     		mov	r4, r0
1786:Src/RTOS/tasks.c **** 		{
 1565              		.loc 1 1786 0 discriminator 1
 1566 0006 1B4B     		ldr	r3, .L146
 1567 0008 1B68     		ldr	r3, [r3]
 1568 000a 8342     		cmp	r3, r0
 1569 000c 07D0     		beq	.L138
1788:Src/RTOS/tasks.c **** 			{
 1570              		.loc 1 1788 0
 1571 000e FFF7FEFF 		bl	vPortEnterCritical
 1572              	.LVL145:
1790:Src/RTOS/tasks.c **** 				{
 1573              		.loc 1 1790 0
 1574 0012 2046     		mov	r0, r4
 1575 0014 FFF7FEFF 		bl	prvTaskIsTaskSuspended
 1576              	.LVL146:
 1577 0018 58B9     		cbnz	r0, .L145
 1578              	.L142:
1817:Src/RTOS/tasks.c **** 		}
 1579              		.loc 1 1817 0
 1580 001a FFF7FEFF 		bl	vPortExitCritical
 1581              	.LVL147:
 1582              	.L138:
1823:Src/RTOS/tasks.c **** 
 1583              		.loc 1 1823 0
 1584 001e 38BD     		pop	{r3, r4, r5, pc}
 1585              	.LVL148:
 1586              	.L144:
 1587              	.LBB121:
 1588              	.LBB122:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1589              		.loc 2 195 0
 1590              		.syntax unified
 1591              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1592 0020 4FF05003 			mov r3, #80												
 1593 0024 83F31188 		msr basepri, r3											
 1594 0028 BFF36F8F 		isb														
 1595 002c BFF34F8F 		dsb														
 1596              	
 1597              	@ 0 "" 2
 1598              	.LVL149:
 1599              		.thumb
 1600              		.syntax unified
 1601              	.L140:
 1602 0030 FEE7     		b	.L140
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 124


 1603              	.LVL150:
 1604              	.L145:
 1605              	.LBE122:
 1606              	.LBE121:
1796:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
 1607              		.loc 1 1796 0
 1608 0032 251D     		adds	r5, r4, #4
 1609 0034 2846     		mov	r0, r5
 1610 0036 FFF7FEFF 		bl	uxListRemove
 1611              	.LVL151:
1797:Src/RTOS/tasks.c **** 
 1612              		.loc 1 1797 0
 1613 003a E26A     		ldr	r2, [r4, #44]
 1614 003c 0123     		movs	r3, #1
 1615 003e 9340     		lsls	r3, r3, r2
 1616 0040 0D49     		ldr	r1, .L146+4
 1617 0042 0868     		ldr	r0, [r1]
 1618 0044 0343     		orrs	r3, r3, r0
 1619 0046 0B60     		str	r3, [r1]
 1620 0048 2946     		mov	r1, r5
 1621 004a 0C4B     		ldr	r3, .L146+8
 1622 004c 1420     		movs	r0, #20
 1623 004e 00FB0230 		mla	r0, r0, r2, r3
 1624 0052 FFF7FEFF 		bl	vListInsertEnd
 1625              	.LVL152:
1800:Src/RTOS/tasks.c **** 					{
 1626              		.loc 1 1800 0
 1627 0056 E26A     		ldr	r2, [r4, #44]
 1628 0058 064B     		ldr	r3, .L146
 1629 005a 1B68     		ldr	r3, [r3]
 1630 005c DB6A     		ldr	r3, [r3, #44]
 1631 005e 9A42     		cmp	r2, r3
 1632 0060 DBD3     		bcc	.L142
1805:Src/RTOS/tasks.c **** 					}
 1633              		.loc 1 1805 0
 1634 0062 074B     		ldr	r3, .L146+12
 1635 0064 4FF08052 		mov	r2, #268435456
 1636 0068 1A60     		str	r2, [r3]
 1637              		.syntax unified
 1638              	@ 1805 "Src/RTOS/tasks.c" 1
 1639 006a BFF34F8F 		dsb
 1640              	@ 0 "" 2
 1641              	@ 1805 "Src/RTOS/tasks.c" 1
 1642 006e BFF36F8F 		isb
 1643              	@ 0 "" 2
 1644              		.thumb
 1645              		.syntax unified
 1646 0072 D2E7     		b	.L142
 1647              	.L147:
 1648              		.align	2
 1649              	.L146:
 1650 0074 00000000 		.word	.LANCHOR10
 1651 0078 00000000 		.word	.LANCHOR13
 1652 007c 00000000 		.word	.LANCHOR4
 1653 0080 04ED00E0 		.word	-536810236
 1654              		.cfi_endproc
 1655              	.LFE17:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 125


 1657              		.section	.text.xTaskResumeFromISR,"ax",%progbits
 1658              		.align	1
 1659              		.global	xTaskResumeFromISR
 1660              		.syntax unified
 1661              		.thumb
 1662              		.thumb_func
 1663              		.fpu fpv4-sp-d16
 1665              	xTaskResumeFromISR:
 1666              	.LFB18:
1832:Src/RTOS/tasks.c **** 	BaseType_t xYieldRequired = pdFALSE;
 1667              		.loc 1 1832 0
 1668              		.cfi_startproc
 1669              		@ args = 0, pretend = 0, frame = 0
 1670              		@ frame_needed = 0, uses_anonymous_args = 0
 1671              	.LVL153:
 1672 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 1673              	.LCFI18:
 1674              		.cfi_def_cfa_offset 24
 1675              		.cfi_offset 3, -24
 1676              		.cfi_offset 4, -20
 1677              		.cfi_offset 5, -16
 1678              		.cfi_offset 6, -12
 1679              		.cfi_offset 7, -8
 1680              		.cfi_offset 14, -4
 1681              	.LVL154:
1837:Src/RTOS/tasks.c **** 
 1682              		.loc 1 1837 0
 1683 0002 40B9     		cbnz	r0, .L149
 1684              	.LBB123:
 1685              	.LBB124:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1686              		.loc 2 195 0
 1687              		.syntax unified
 1688              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1689 0004 4FF05003 			mov r3, #80												
 1690 0008 83F31188 		msr basepri, r3											
 1691 000c BFF36F8F 		isb														
 1692 0010 BFF34F8F 		dsb														
 1693              	
 1694              	@ 0 "" 2
 1695              	.LVL155:
 1696              		.thumb
 1697              		.syntax unified
 1698              	.L150:
 1699 0014 FEE7     		b	.L150
 1700              	.L149:
 1701 0016 0446     		mov	r4, r0
 1702              	.LBE124:
 1703              	.LBE123:
1855:Src/RTOS/tasks.c **** 
 1704              		.loc 1 1855 0
 1705 0018 FFF7FEFF 		bl	vPortValidateInterruptPriority
 1706              	.LVL156:
 1707              	.LBB125:
 1708              	.LBB126:
 211:Src/RTOS/Inc/portmacro.h **** 	(
 1709              		.loc 2 211 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 126


 1710              		.syntax unified
 1711              	@ 211 "Src/RTOS/Inc/portmacro.h" 1
 1712 001c EFF31187 			mrs r7, basepri											
 1713 0020 4FF05003 		mov r3, #80												
 1714 0024 83F31188 		msr basepri, r3											
 1715 0028 BFF36F8F 		isb														
 1716 002c BFF34F8F 		dsb														
 1717              	
 1718              	@ 0 "" 2
 1719              		.thumb
 1720              		.syntax unified
 1721              	.LBE126:
 1722              	.LBE125:
1859:Src/RTOS/tasks.c **** 			{
 1723              		.loc 1 1859 0
 1724 0030 2046     		mov	r0, r4
 1725 0032 FFF7FEFF 		bl	prvTaskIsTaskSuspended
 1726              	.LVL157:
 1727 0036 40B3     		cbz	r0, .L154
1864:Src/RTOS/tasks.c **** 				{
 1728              		.loc 1 1864 0
 1729 0038 154B     		ldr	r3, .L157
 1730 003a 1B68     		ldr	r3, [r3]
 1731 003c F3B9     		cbnz	r3, .L152
1868:Src/RTOS/tasks.c **** 					{
 1732              		.loc 1 1868 0
 1733 003e E26A     		ldr	r2, [r4, #44]
 1734 0040 144B     		ldr	r3, .L157+4
 1735 0042 1B68     		ldr	r3, [r3]
 1736 0044 DB6A     		ldr	r3, [r3, #44]
 1737 0046 9A42     		cmp	r2, r3
 1738 0048 16D2     		bcs	.L155
1833:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) xTaskToResume;
 1739              		.loc 1 1833 0
 1740 004a 0025     		movs	r5, #0
 1741              	.L153:
 1742              	.LVL158:
1877:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
 1743              		.loc 1 1877 0
 1744 004c 261D     		adds	r6, r4, #4
 1745 004e 3046     		mov	r0, r6
 1746 0050 FFF7FEFF 		bl	uxListRemove
 1747              	.LVL159:
1878:Src/RTOS/tasks.c **** 				}
 1748              		.loc 1 1878 0
 1749 0054 E26A     		ldr	r2, [r4, #44]
 1750 0056 0123     		movs	r3, #1
 1751 0058 9340     		lsls	r3, r3, r2
 1752 005a 0F49     		ldr	r1, .L157+8
 1753 005c 0868     		ldr	r0, [r1]
 1754 005e 0343     		orrs	r3, r3, r0
 1755 0060 0B60     		str	r3, [r1]
 1756 0062 3146     		mov	r1, r6
 1757 0064 0D4B     		ldr	r3, .L157+12
 1758 0066 1420     		movs	r0, #20
 1759 0068 00FB0230 		mla	r0, r0, r2, r3
 1760 006c FFF7FEFF 		bl	vListInsertEnd
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 127


 1761              	.LVL160:
 1762              	.L151:
 1763              	.LBB127:
 1764              	.LBB128:
 1765              		.loc 2 229 0
 1766              		.syntax unified
 1767              	@ 229 "Src/RTOS/Inc/portmacro.h" 1
 1768 0070 87F31188 			msr basepri, r7	
 1769              	@ 0 "" 2
 1770              	.LVL161:
 1771              		.thumb
 1772              		.syntax unified
 1773              	.LBE128:
 1774              	.LBE127:
1896:Src/RTOS/tasks.c **** 
 1775              		.loc 1 1896 0
 1776 0074 2846     		mov	r0, r5
 1777 0076 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 1778              	.LVL162:
 1779              	.L155:
1870:Src/RTOS/tasks.c **** 					}
 1780              		.loc 1 1870 0
 1781 0078 0125     		movs	r5, #1
 1782 007a E7E7     		b	.L153
 1783              	.L152:
1885:Src/RTOS/tasks.c **** 				}
 1784              		.loc 1 1885 0
 1785 007c 04F11801 		add	r1, r4, #24
 1786 0080 0748     		ldr	r0, .L157+16
 1787 0082 FFF7FEFF 		bl	vListInsertEnd
 1788              	.LVL163:
1833:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) xTaskToResume;
 1789              		.loc 1 1833 0
 1790 0086 0025     		movs	r5, #0
 1791 0088 F2E7     		b	.L151
 1792              	.L154:
 1793 008a 0025     		movs	r5, #0
 1794 008c F0E7     		b	.L151
 1795              	.L158:
 1796 008e 00BF     		.align	2
 1797              	.L157:
 1798 0090 00000000 		.word	.LANCHOR16
 1799 0094 00000000 		.word	.LANCHOR10
 1800 0098 00000000 		.word	.LANCHOR13
 1801 009c 00000000 		.word	.LANCHOR4
 1802 00a0 00000000 		.word	.LANCHOR1
 1803              		.cfi_endproc
 1804              	.LFE18:
 1806              		.section	.text.vTaskStartScheduler,"ax",%progbits
 1807              		.align	1
 1808              		.global	vTaskStartScheduler
 1809              		.syntax unified
 1810              		.thumb
 1811              		.thumb_func
 1812              		.fpu fpv4-sp-d16
 1814              	vTaskStartScheduler:
 1815              	.LFB19:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 128


1902:Src/RTOS/tasks.c **** BaseType_t xReturn;
 1816              		.loc 1 1902 0
 1817              		.cfi_startproc
 1818              		@ args = 0, pretend = 0, frame = 0
 1819              		@ frame_needed = 0, uses_anonymous_args = 0
 1820 0000 00B5     		push	{lr}
 1821              	.LCFI19:
 1822              		.cfi_def_cfa_offset 4
 1823              		.cfi_offset 14, -4
 1824 0002 83B0     		sub	sp, sp, #12
 1825              	.LCFI20:
 1826              		.cfi_def_cfa_offset 16
1935:Src/RTOS/tasks.c **** 								configIDLE_TASK_NAME,
 1827              		.loc 1 1935 0
 1828 0004 194B     		ldr	r3, .L168
 1829 0006 0193     		str	r3, [sp, #4]
 1830 0008 0023     		movs	r3, #0
 1831 000a 0093     		str	r3, [sp]
 1832 000c 8222     		movs	r2, #130
 1833 000e 1849     		ldr	r1, .L168+4
 1834 0010 1848     		ldr	r0, .L168+8
 1835 0012 FFF7FEFF 		bl	xTaskCreate
 1836              	.LVL164:
1946:Src/RTOS/tasks.c **** 		{
 1837              		.loc 1 1946 0
 1838 0016 0128     		cmp	r0, #1
 1839 0018 07D0     		beq	.L165
 1840              	.L160:
1957:Src/RTOS/tasks.c **** 	{
 1841              		.loc 1 1957 0
 1842 001a 0128     		cmp	r0, #1
 1843 001c 08D0     		beq	.L166
2012:Src/RTOS/tasks.c **** 	}
 1844              		.loc 1 2012 0
 1845 001e B0F1FF3F 		cmp	r0, #-1
 1846 0022 1AD0     		beq	.L167
 1847              	.LVL165:
 1848              	.L159:
2018:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 1849              		.loc 1 2018 0
 1850 0024 03B0     		add	sp, sp, #12
 1851              	.LCFI21:
 1852              		.cfi_remember_state
 1853              		.cfi_def_cfa_offset 4
 1854              		@ sp needed
 1855 0026 5DF804FB 		ldr	pc, [sp], #4
 1856              	.LVL166:
 1857              	.L165:
 1858              	.LCFI22:
 1859              		.cfi_restore_state
1948:Src/RTOS/tasks.c **** 		}
 1860              		.loc 1 1948 0
 1861 002a FFF7FEFF 		bl	xTimerCreateTimerTask
 1862              	.LVL167:
 1863 002e F4E7     		b	.L160
 1864              	.L166:
 1865              	.LBB129:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 129


 1866              	.LBB130:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1867              		.loc 2 195 0
 1868              		.syntax unified
 1869              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1870 0030 4FF05003 			mov r3, #80												
 1871 0034 83F31188 		msr basepri, r3											
 1872 0038 BFF36F8F 		isb														
 1873 003c BFF34F8F 		dsb														
 1874              	
 1875              	@ 0 "" 2
 1876              		.thumb
 1877              		.syntax unified
 1878              	.LBE130:
 1879              	.LBE129:
1983:Src/RTOS/tasks.c **** 		xSchedulerRunning = pdTRUE;
 1880              		.loc 1 1983 0
 1881 0040 0D4B     		ldr	r3, .L168+12
 1882 0042 4FF0FF32 		mov	r2, #-1
 1883 0046 1A60     		str	r2, [r3]
1984:Src/RTOS/tasks.c **** 		xTickCount = ( TickType_t ) 0U;
 1884              		.loc 1 1984 0
 1885 0048 0C4B     		ldr	r3, .L168+16
 1886 004a 0122     		movs	r2, #1
 1887 004c 1A60     		str	r2, [r3]
1985:Src/RTOS/tasks.c **** 
 1888              		.loc 1 1985 0
 1889 004e 0C4B     		ldr	r3, .L168+20
 1890 0050 0022     		movs	r2, #0
 1891 0052 1A60     		str	r2, [r3]
1997:Src/RTOS/tasks.c **** 		{
 1892              		.loc 1 1997 0
 1893 0054 FFF7FEFF 		bl	xPortStartScheduler
 1894              	.LVL168:
 1895 0058 E4E7     		b	.L159
 1896              	.LVL169:
 1897              	.L167:
 1898              	.LBB131:
 1899              	.LBB132:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1900              		.loc 2 195 0
 1901              		.syntax unified
 1902              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1903 005a 4FF05003 			mov r3, #80												
 1904 005e 83F31188 		msr basepri, r3											
 1905 0062 BFF36F8F 		isb														
 1906 0066 BFF34F8F 		dsb														
 1907              	
 1908              	@ 0 "" 2
 1909              	.LVL170:
 1910              		.thumb
 1911              		.syntax unified
 1912              	.L163:
 1913 006a FEE7     		b	.L163
 1914              	.L169:
 1915              		.align	2
 1916              	.L168:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 130


 1917 006c 00000000 		.word	.LANCHOR17
 1918 0070 00000000 		.word	.LC0
 1919 0074 00000000 		.word	prvIdleTask
 1920 0078 00000000 		.word	.LANCHOR3
 1921 007c 00000000 		.word	.LANCHOR11
 1922 0080 00000000 		.word	.LANCHOR15
 1923              	.LBE132:
 1924              	.LBE131:
 1925              		.cfi_endproc
 1926              	.LFE19:
 1928              		.section	.text.vTaskEndScheduler,"ax",%progbits
 1929              		.align	1
 1930              		.global	vTaskEndScheduler
 1931              		.syntax unified
 1932              		.thumb
 1933              		.thumb_func
 1934              		.fpu fpv4-sp-d16
 1936              	vTaskEndScheduler:
 1937              	.LFB20:
2022:Src/RTOS/tasks.c **** 	/* Stop the scheduler interrupts and call the portable scheduler end
 1938              		.loc 1 2022 0
 1939              		.cfi_startproc
 1940              		@ args = 0, pretend = 0, frame = 0
 1941              		@ frame_needed = 0, uses_anonymous_args = 0
 1942 0000 08B5     		push	{r3, lr}
 1943              	.LCFI23:
 1944              		.cfi_def_cfa_offset 8
 1945              		.cfi_offset 3, -8
 1946              		.cfi_offset 14, -4
 1947              	.LBB133:
 1948              	.LBB134:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 1949              		.loc 2 195 0
 1950              		.syntax unified
 1951              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 1952 0002 4FF05003 			mov r3, #80												
 1953 0006 83F31188 		msr basepri, r3											
 1954 000a BFF36F8F 		isb														
 1955 000e BFF34F8F 		dsb														
 1956              	
 1957              	@ 0 "" 2
 1958              		.thumb
 1959              		.syntax unified
 1960              	.LBE134:
 1961              	.LBE133:
2027:Src/RTOS/tasks.c **** 	vPortEndScheduler();
 1962              		.loc 1 2027 0
 1963 0012 034B     		ldr	r3, .L172
 1964 0014 0022     		movs	r2, #0
 1965 0016 1A60     		str	r2, [r3]
2028:Src/RTOS/tasks.c **** }
 1966              		.loc 1 2028 0
 1967 0018 FFF7FEFF 		bl	vPortEndScheduler
 1968              	.LVL171:
2029:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
 1969              		.loc 1 2029 0
 1970 001c 08BD     		pop	{r3, pc}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 131


 1971              	.L173:
 1972 001e 00BF     		.align	2
 1973              	.L172:
 1974 0020 00000000 		.word	.LANCHOR11
 1975              		.cfi_endproc
 1976              	.LFE20:
 1978              		.section	.text.vTaskSuspendAll,"ax",%progbits
 1979              		.align	1
 1980              		.global	vTaskSuspendAll
 1981              		.syntax unified
 1982              		.thumb
 1983              		.thumb_func
 1984              		.fpu fpv4-sp-d16
 1986              	vTaskSuspendAll:
 1987              	.LFB21:
2033:Src/RTOS/tasks.c **** 	/* A critical section is not required as the variable is of type
 1988              		.loc 1 2033 0
 1989              		.cfi_startproc
 1990              		@ args = 0, pretend = 0, frame = 0
 1991              		@ frame_needed = 0, uses_anonymous_args = 0
 1992              		@ link register save eliminated.
2038:Src/RTOS/tasks.c **** }
 1993              		.loc 1 2038 0
 1994 0000 024A     		ldr	r2, .L175
 1995 0002 1368     		ldr	r3, [r2]
 1996 0004 0133     		adds	r3, r3, #1
 1997 0006 1360     		str	r3, [r2]
2039:Src/RTOS/tasks.c **** /*----------------------------------------------------------*/
 1998              		.loc 1 2039 0
 1999 0008 7047     		bx	lr
 2000              	.L176:
 2001 000a 00BF     		.align	2
 2002              	.L175:
 2003 000c 00000000 		.word	.LANCHOR16
 2004              		.cfi_endproc
 2005              	.LFE21:
 2007              		.section	.text.xTaskGetTickCount,"ax",%progbits
 2008              		.align	1
 2009              		.global	xTaskGetTickCount
 2010              		.syntax unified
 2011              		.thumb
 2012              		.thumb_func
 2013              		.fpu fpv4-sp-d16
 2015              	xTaskGetTickCount:
 2016              	.LFB23:
2216:Src/RTOS/tasks.c **** TickType_t xTicks;
 2017              		.loc 1 2216 0
 2018              		.cfi_startproc
 2019              		@ args = 0, pretend = 0, frame = 0
 2020              		@ frame_needed = 0, uses_anonymous_args = 0
 2021              		@ link register save eliminated.
2222:Src/RTOS/tasks.c **** 	}
 2022              		.loc 1 2222 0
 2023 0000 014B     		ldr	r3, .L178
 2024 0002 1868     		ldr	r0, [r3]
 2025              	.LVL172:
2227:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 132


 2026              		.loc 1 2227 0
 2027 0004 7047     		bx	lr
 2028              	.L179:
 2029 0006 00BF     		.align	2
 2030              	.L178:
 2031 0008 00000000 		.word	.LANCHOR15
 2032              		.cfi_endproc
 2033              	.LFE23:
 2035              		.section	.text.xTaskGetTickCountFromISR,"ax",%progbits
 2036              		.align	1
 2037              		.global	xTaskGetTickCountFromISR
 2038              		.syntax unified
 2039              		.thumb
 2040              		.thumb_func
 2041              		.fpu fpv4-sp-d16
 2043              	xTaskGetTickCountFromISR:
 2044              	.LFB24:
2231:Src/RTOS/tasks.c **** TickType_t xReturn;
 2045              		.loc 1 2231 0
 2046              		.cfi_startproc
 2047              		@ args = 0, pretend = 0, frame = 0
 2048              		@ frame_needed = 0, uses_anonymous_args = 0
 2049 0000 08B5     		push	{r3, lr}
 2050              	.LCFI24:
 2051              		.cfi_def_cfa_offset 8
 2052              		.cfi_offset 3, -8
 2053              		.cfi_offset 14, -4
2249:Src/RTOS/tasks.c **** 
 2054              		.loc 1 2249 0
 2055 0002 FFF7FEFF 		bl	vPortValidateInterruptPriority
 2056              	.LVL173:
2253:Src/RTOS/tasks.c **** 	}
 2057              		.loc 1 2253 0
 2058 0006 014B     		ldr	r3, .L182
 2059 0008 1868     		ldr	r0, [r3]
 2060              	.LVL174:
2258:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2061              		.loc 1 2258 0
 2062 000a 08BD     		pop	{r3, pc}
 2063              	.L183:
 2064              		.align	2
 2065              	.L182:
 2066 000c 00000000 		.word	.LANCHOR15
 2067              		.cfi_endproc
 2068              	.LFE24:
 2070              		.section	.text.uxTaskGetNumberOfTasks,"ax",%progbits
 2071              		.align	1
 2072              		.global	uxTaskGetNumberOfTasks
 2073              		.syntax unified
 2074              		.thumb
 2075              		.thumb_func
 2076              		.fpu fpv4-sp-d16
 2078              	uxTaskGetNumberOfTasks:
 2079              	.LFB25:
2262:Src/RTOS/tasks.c **** 	/* A critical section is not required because the variables are of type
 2080              		.loc 1 2262 0
 2081              		.cfi_startproc
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 133


 2082              		@ args = 0, pretend = 0, frame = 0
 2083              		@ frame_needed = 0, uses_anonymous_args = 0
 2084              		@ link register save eliminated.
2265:Src/RTOS/tasks.c **** }
 2085              		.loc 1 2265 0
 2086 0000 014B     		ldr	r3, .L185
 2087 0002 1868     		ldr	r0, [r3]
2266:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2088              		.loc 1 2266 0
 2089 0004 7047     		bx	lr
 2090              	.L186:
 2091 0006 00BF     		.align	2
 2092              	.L185:
 2093 0008 00000000 		.word	.LANCHOR9
 2094              		.cfi_endproc
 2095              	.LFE25:
 2097              		.section	.text.pcTaskGetName,"ax",%progbits
 2098              		.align	1
 2099              		.global	pcTaskGetName
 2100              		.syntax unified
 2101              		.thumb
 2102              		.thumb_func
 2103              		.fpu fpv4-sp-d16
 2105              	pcTaskGetName:
 2106              	.LFB26:
2270:Src/RTOS/tasks.c **** TCB_t *pxTCB;
 2107              		.loc 1 2270 0
 2108              		.cfi_startproc
 2109              		@ args = 0, pretend = 0, frame = 0
 2110              		@ frame_needed = 0, uses_anonymous_args = 0
 2111              		@ link register save eliminated.
 2112              	.LVL175:
2275:Src/RTOS/tasks.c **** 	configASSERT( pxTCB );
 2113              		.loc 1 2275 0
 2114 0000 0346     		mov	r3, r0
 2115 0002 18B1     		cbz	r0, .L191
 2116              	.LVL176:
 2117              	.L188:
2276:Src/RTOS/tasks.c **** 	return &( pxTCB->pcTaskName[ 0 ] );
 2118              		.loc 1 2276 0 discriminator 4
 2119 0004 2BB1     		cbz	r3, .L192
2278:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2120              		.loc 1 2278 0
 2121 0006 03F13400 		add	r0, r3, #52
 2122 000a 7047     		bx	lr
 2123              	.LVL177:
 2124              	.L191:
2275:Src/RTOS/tasks.c **** 	configASSERT( pxTCB );
 2125              		.loc 1 2275 0 discriminator 1
 2126 000c 054B     		ldr	r3, .L193
 2127 000e 1B68     		ldr	r3, [r3]
 2128              	.LVL178:
 2129 0010 F8E7     		b	.L188
 2130              	.LVL179:
 2131              	.L192:
 2132              	.LBB135:
 2133              	.LBB136:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 134


 195:Src/RTOS/Inc/portmacro.h **** 	(
 2134              		.loc 2 195 0
 2135              		.syntax unified
 2136              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2137 0012 4FF05003 			mov r3, #80												
 2138 0016 83F31188 		msr basepri, r3											
 2139 001a BFF36F8F 		isb														
 2140 001e BFF34F8F 		dsb														
 2141              	
 2142              	@ 0 "" 2
 2143              	.LVL180:
 2144              		.thumb
 2145              		.syntax unified
 2146              	.L190:
 2147 0022 FEE7     		b	.L190
 2148              	.L194:
 2149              		.align	2
 2150              	.L193:
 2151 0024 00000000 		.word	.LANCHOR10
 2152              	.LBE136:
 2153              	.LBE135:
 2154              		.cfi_endproc
 2155              	.LFE26:
 2157              		.section	.text.xTaskIncrementTick,"ax",%progbits
 2158              		.align	1
 2159              		.global	xTaskIncrementTick
 2160              		.syntax unified
 2161              		.thumb
 2162              		.thumb_func
 2163              		.fpu fpv4-sp-d16
 2165              	xTaskIncrementTick:
 2166              	.LFB28:
2590:Src/RTOS/tasks.c **** TCB_t * pxTCB;
 2167              		.loc 1 2590 0
 2168              		.cfi_startproc
 2169              		@ args = 0, pretend = 0, frame = 0
 2170              		@ frame_needed = 0, uses_anonymous_args = 0
 2171 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 2172              	.LCFI25:
 2173              		.cfi_def_cfa_offset 24
 2174              		.cfi_offset 3, -24
 2175              		.cfi_offset 4, -20
 2176              		.cfi_offset 5, -16
 2177              		.cfi_offset 6, -12
 2178              		.cfi_offset 7, -8
 2179              		.cfi_offset 14, -4
 2180              	.LVL181:
2599:Src/RTOS/tasks.c **** 	{
 2181              		.loc 1 2599 0
 2182 0002 3A4B     		ldr	r3, .L216
 2183 0004 1B68     		ldr	r3, [r3]
 2184 0006 002B     		cmp	r3, #0
 2185 0008 64D1     		bne	.L196
 2186              	.LBB137:
2603:Src/RTOS/tasks.c **** 
 2187              		.loc 1 2603 0
 2188 000a 394B     		ldr	r3, .L216+4
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 135


 2189 000c 1D68     		ldr	r5, [r3]
 2190 000e 0135     		adds	r5, r5, #1
 2191              	.LVL182:
2607:Src/RTOS/tasks.c **** 
 2192              		.loc 1 2607 0
 2193 0010 1D60     		str	r5, [r3]
2609:Src/RTOS/tasks.c **** 		{
 2194              		.loc 1 2609 0
 2195 0012 C5B9     		cbnz	r5, .L197
 2196              	.LBB138:
2611:Src/RTOS/tasks.c **** 		}
 2197              		.loc 1 2611 0
 2198 0014 374B     		ldr	r3, .L216+8
 2199 0016 1B68     		ldr	r3, [r3]
 2200 0018 1B68     		ldr	r3, [r3]
 2201 001a 43B1     		cbz	r3, .L198
 2202              	.LBB139:
 2203              	.LBB140:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2204              		.loc 2 195 0
 2205              		.syntax unified
 2206              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2207 001c 4FF05003 			mov r3, #80												
 2208 0020 83F31188 		msr basepri, r3											
 2209 0024 BFF36F8F 		isb														
 2210 0028 BFF34F8F 		dsb														
 2211              	
 2212              	@ 0 "" 2
 2213              	.LVL183:
 2214              		.thumb
 2215              		.syntax unified
 2216              	.L199:
 2217 002c FEE7     		b	.L199
 2218              	.L198:
 2219              	.LBE140:
 2220              	.LBE139:
2611:Src/RTOS/tasks.c **** 		}
 2221              		.loc 1 2611 0 discriminator 2
 2222 002e 314A     		ldr	r2, .L216+8
 2223 0030 1168     		ldr	r1, [r2]
 2224              	.LVL184:
 2225 0032 314B     		ldr	r3, .L216+12
 2226 0034 1868     		ldr	r0, [r3]
 2227 0036 1060     		str	r0, [r2]
 2228 0038 1960     		str	r1, [r3]
 2229 003a 304A     		ldr	r2, .L216+16
 2230 003c 1368     		ldr	r3, [r2]
 2231 003e 0133     		adds	r3, r3, #1
 2232 0040 1360     		str	r3, [r2]
 2233 0042 FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 2234              	.LVL185:
 2235              	.L197:
 2236              	.LBE138:
2622:Src/RTOS/tasks.c **** 		{
 2237              		.loc 1 2622 0
 2238 0046 2E4B     		ldr	r3, .L216+20
 2239 0048 1B68     		ldr	r3, [r3]
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 136


 2240 004a AB42     		cmp	r3, r5
 2241 004c 38D9     		bls	.L209
 2242              	.LBE137:
2593:Src/RTOS/tasks.c **** 
 2243              		.loc 1 2593 0
 2244 004e 0024     		movs	r4, #0
 2245              	.LVL186:
 2246              	.L201:
 2247              	.LBB141:
2705:Src/RTOS/tasks.c **** 			{
 2248              		.loc 1 2705 0
 2249 0050 2C4B     		ldr	r3, .L216+24
 2250 0052 1B68     		ldr	r3, [r3]
 2251 0054 DB6A     		ldr	r3, [r3, #44]
 2252 0056 03EB8303 		add	r3, r3, r3, lsl #2
 2253 005a 9A00     		lsls	r2, r3, #2
 2254 005c 2A4B     		ldr	r3, .L216+28
 2255 005e 9B58     		ldr	r3, [r3, r2]
 2256 0060 012B     		cmp	r3, #1
 2257 0062 3CD9     		bls	.L207
2707:Src/RTOS/tasks.c **** 			}
 2258              		.loc 1 2707 0
 2259 0064 0124     		movs	r4, #1
 2260              	.LVL187:
 2261 0066 3AE0     		b	.L207
 2262              	.LVL188:
 2263              	.L210:
2688:Src/RTOS/tasks.c **** 						}
 2264              		.loc 1 2688 0
 2265 0068 0124     		movs	r4, #1
 2266              	.LVL189:
 2267              	.L200:
2626:Src/RTOS/tasks.c **** 				{
 2268              		.loc 1 2626 0
 2269 006a 224B     		ldr	r3, .L216+8
 2270 006c 1B68     		ldr	r3, [r3]
 2271 006e 1B68     		ldr	r3, [r3]
 2272 0070 43B3     		cbz	r3, .L214
2642:Src/RTOS/tasks.c **** 					xItemValue = listGET_LIST_ITEM_VALUE( &( pxTCB->xStateListItem ) );
 2273              		.loc 1 2642 0
 2274 0072 204B     		ldr	r3, .L216+8
 2275 0074 1B68     		ldr	r3, [r3]
 2276 0076 DB68     		ldr	r3, [r3, #12]
 2277 0078 DE68     		ldr	r6, [r3, #12]
 2278              	.LVL190:
2643:Src/RTOS/tasks.c **** 
 2279              		.loc 1 2643 0
 2280 007a 7368     		ldr	r3, [r6, #4]
 2281              	.LVL191:
2645:Src/RTOS/tasks.c **** 					{
 2282              		.loc 1 2645 0
 2283 007c 9D42     		cmp	r5, r3
 2284 007e 26D3     		bcc	.L215
2661:Src/RTOS/tasks.c **** 
 2285              		.loc 1 2661 0
 2286 0080 371D     		adds	r7, r6, #4
 2287 0082 3846     		mov	r0, r7
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 137


 2288 0084 FFF7FEFF 		bl	uxListRemove
 2289              	.LVL192:
2665:Src/RTOS/tasks.c **** 					{
 2290              		.loc 1 2665 0
 2291 0088 B36A     		ldr	r3, [r6, #40]
 2292 008a 1BB1     		cbz	r3, .L204
2667:Src/RTOS/tasks.c **** 					}
 2293              		.loc 1 2667 0
 2294 008c 06F11800 		add	r0, r6, #24
 2295 0090 FFF7FEFF 		bl	uxListRemove
 2296              	.LVL193:
 2297              	.L204:
2676:Src/RTOS/tasks.c **** 
 2298              		.loc 1 2676 0
 2299 0094 F36A     		ldr	r3, [r6, #44]
 2300 0096 0122     		movs	r2, #1
 2301 0098 9A40     		lsls	r2, r2, r3
 2302 009a 1C49     		ldr	r1, .L216+32
 2303 009c 0868     		ldr	r0, [r1]
 2304 009e 0243     		orrs	r2, r2, r0
 2305 00a0 0A60     		str	r2, [r1]
 2306 00a2 03EB8303 		add	r3, r3, r3, lsl #2
 2307 00a6 9A00     		lsls	r2, r3, #2
 2308 00a8 3946     		mov	r1, r7
 2309 00aa 1748     		ldr	r0, .L216+28
 2310 00ac 1044     		add	r0, r0, r2
 2311 00ae FFF7FEFF 		bl	vListInsertEnd
 2312              	.LVL194:
2686:Src/RTOS/tasks.c **** 						{
 2313              		.loc 1 2686 0
 2314 00b2 F26A     		ldr	r2, [r6, #44]
 2315 00b4 134B     		ldr	r3, .L216+24
 2316 00b6 1B68     		ldr	r3, [r3]
 2317 00b8 DB6A     		ldr	r3, [r3, #44]
 2318 00ba 9A42     		cmp	r2, r3
 2319 00bc D4D2     		bcs	.L210
 2320 00be D4E7     		b	.L200
 2321              	.LVL195:
 2322              	.L209:
 2323              	.LBE141:
2593:Src/RTOS/tasks.c **** 
 2324              		.loc 1 2593 0
 2325 00c0 0024     		movs	r4, #0
 2326 00c2 D2E7     		b	.L200
 2327              	.LVL196:
 2328              	.L214:
 2329              	.LBB142:
2633:Src/RTOS/tasks.c **** 					break;
 2330              		.loc 1 2633 0
 2331 00c4 0E4B     		ldr	r3, .L216+20
 2332 00c6 4FF0FF32 		mov	r2, #-1
 2333 00ca 1A60     		str	r2, [r3]
2634:Src/RTOS/tasks.c **** 				}
 2334              		.loc 1 2634 0
 2335 00cc C0E7     		b	.L201
 2336              	.LVL197:
 2337              	.L215:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 138


2652:Src/RTOS/tasks.c **** 						break;
 2338              		.loc 1 2652 0
 2339 00ce 0C4A     		ldr	r2, .L216+20
 2340 00d0 1360     		str	r3, [r2]
2653:Src/RTOS/tasks.c **** 					}
 2341              		.loc 1 2653 0
 2342 00d2 BDE7     		b	.L201
 2343              	.LVL198:
 2344              	.L196:
 2345              	.LBE142:
2733:Src/RTOS/tasks.c **** 
 2346              		.loc 1 2733 0
 2347 00d4 0E4A     		ldr	r2, .L216+36
 2348 00d6 1368     		ldr	r3, [r2]
 2349 00d8 0133     		adds	r3, r3, #1
 2350 00da 1360     		str	r3, [r2]
2593:Src/RTOS/tasks.c **** 
 2351              		.loc 1 2593 0
 2352 00dc 0024     		movs	r4, #0
 2353              	.LVL199:
 2354              	.L207:
2746:Src/RTOS/tasks.c **** 		{
 2355              		.loc 1 2746 0
 2356 00de 0D4B     		ldr	r3, .L216+40
 2357 00e0 1B68     		ldr	r3, [r3]
 2358 00e2 03B1     		cbz	r3, .L195
2748:Src/RTOS/tasks.c **** 		}
 2359              		.loc 1 2748 0
 2360 00e4 0124     		movs	r4, #1
 2361              	.LVL200:
 2362              	.L195:
2758:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2363              		.loc 1 2758 0
 2364 00e6 2046     		mov	r0, r4
 2365 00e8 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 2366              	.L217:
 2367 00ea 00BF     		.align	2
 2368              	.L216:
 2369 00ec 00000000 		.word	.LANCHOR16
 2370 00f0 00000000 		.word	.LANCHOR15
 2371 00f4 00000000 		.word	.LANCHOR2
 2372 00f8 00000000 		.word	.LANCHOR8
 2373 00fc 00000000 		.word	.LANCHOR18
 2374 0100 00000000 		.word	.LANCHOR3
 2375 0104 00000000 		.word	.LANCHOR10
 2376 0108 00000000 		.word	.LANCHOR4
 2377 010c 00000000 		.word	.LANCHOR13
 2378 0110 00000000 		.word	.LANCHOR19
 2379 0114 00000000 		.word	.LANCHOR20
 2380              		.cfi_endproc
 2381              	.LFE28:
 2383              		.section	.text.xTaskResumeAll,"ax",%progbits
 2384              		.align	1
 2385              		.global	xTaskResumeAll
 2386              		.syntax unified
 2387              		.thumb
 2388              		.thumb_func
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 139


 2389              		.fpu fpv4-sp-d16
 2391              	xTaskResumeAll:
 2392              	.LFB22:
2106:Src/RTOS/tasks.c **** TCB_t *pxTCB = NULL;
 2393              		.loc 1 2106 0
 2394              		.cfi_startproc
 2395              		@ args = 0, pretend = 0, frame = 0
 2396              		@ frame_needed = 0, uses_anonymous_args = 0
 2397 0000 38B5     		push	{r3, r4, r5, lr}
 2398              	.LCFI26:
 2399              		.cfi_def_cfa_offset 16
 2400              		.cfi_offset 3, -16
 2401              		.cfi_offset 4, -12
 2402              		.cfi_offset 5, -8
 2403              		.cfi_offset 14, -4
 2404              	.LVL201:
2112:Src/RTOS/tasks.c **** 
 2405              		.loc 1 2112 0
 2406 0002 334B     		ldr	r3, .L234
 2407 0004 1B68     		ldr	r3, [r3]
 2408 0006 43B9     		cbnz	r3, .L219
 2409              	.LBB143:
 2410              	.LBB144:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2411              		.loc 2 195 0
 2412              		.syntax unified
 2413              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2414 0008 4FF05003 			mov r3, #80												
 2415 000c 83F31188 		msr basepri, r3											
 2416 0010 BFF36F8F 		isb														
 2417 0014 BFF34F8F 		dsb														
 2418              	
 2419              	@ 0 "" 2
 2420              	.LVL202:
 2421              		.thumb
 2422              		.syntax unified
 2423              	.L220:
 2424 0018 FEE7     		b	.L220
 2425              	.L219:
 2426              	.LBE144:
 2427              	.LBE143:
2119:Src/RTOS/tasks.c **** 	{
 2428              		.loc 1 2119 0
 2429 001a FFF7FEFF 		bl	vPortEnterCritical
 2430              	.LVL203:
2121:Src/RTOS/tasks.c **** 
 2431              		.loc 1 2121 0
 2432 001e 2C4B     		ldr	r3, .L234
 2433 0020 1A68     		ldr	r2, [r3]
 2434 0022 013A     		subs	r2, r2, #1
 2435 0024 1A60     		str	r2, [r3]
2123:Src/RTOS/tasks.c **** 		{
 2436              		.loc 1 2123 0
 2437 0026 1B68     		ldr	r3, [r3]
 2438 0028 002B     		cmp	r3, #0
 2439 002a 4DD1     		bne	.L229
2125:Src/RTOS/tasks.c **** 			{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 140


 2440              		.loc 1 2125 0
 2441 002c 294B     		ldr	r3, .L234+4
 2442 002e 1B68     		ldr	r3, [r3]
 2443 0030 23B9     		cbnz	r3, .L230
2108:Src/RTOS/tasks.c **** 
 2444              		.loc 1 2108 0
 2445 0032 0024     		movs	r4, #0
 2446              	.LVL204:
 2447              	.L221:
2209:Src/RTOS/tasks.c **** 
 2448              		.loc 1 2209 0
 2449 0034 FFF7FEFF 		bl	vPortExitCritical
 2450              	.LVL205:
2212:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2451              		.loc 1 2212 0
 2452 0038 2046     		mov	r0, r4
 2453 003a 38BD     		pop	{r3, r4, r5, pc}
 2454              	.LVL206:
 2455              	.L230:
2107:Src/RTOS/tasks.c **** BaseType_t xAlreadyYielded = pdFALSE;
 2456              		.loc 1 2107 0
 2457 003c 0024     		movs	r4, #0
 2458              	.LVL207:
 2459              	.L222:
2129:Src/RTOS/tasks.c **** 				{
 2460              		.loc 1 2129 0
 2461 003e 264B     		ldr	r3, .L234+8
 2462 0040 1B68     		ldr	r3, [r3]
 2463 0042 1BB3     		cbz	r3, .L233
2131:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xEventListItem ) );
 2464              		.loc 1 2131 0
 2465 0044 244B     		ldr	r3, .L234+8
 2466 0046 DB68     		ldr	r3, [r3, #12]
 2467 0048 DC68     		ldr	r4, [r3, #12]
 2468              	.LVL208:
2132:Src/RTOS/tasks.c **** 					( void ) uxListRemove( &( pxTCB->xStateListItem ) );
 2469              		.loc 1 2132 0
 2470 004a 04F11800 		add	r0, r4, #24
 2471 004e FFF7FEFF 		bl	uxListRemove
 2472              	.LVL209:
2133:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
 2473              		.loc 1 2133 0
 2474 0052 251D     		adds	r5, r4, #4
 2475 0054 2846     		mov	r0, r5
 2476 0056 FFF7FEFF 		bl	uxListRemove
 2477              	.LVL210:
2134:Src/RTOS/tasks.c **** 
 2478              		.loc 1 2134 0
 2479 005a E36A     		ldr	r3, [r4, #44]
 2480 005c 0122     		movs	r2, #1
 2481 005e 9A40     		lsls	r2, r2, r3
 2482 0060 1E49     		ldr	r1, .L234+12
 2483 0062 0868     		ldr	r0, [r1]
 2484 0064 0243     		orrs	r2, r2, r0
 2485 0066 0A60     		str	r2, [r1]
 2486 0068 03EB8303 		add	r3, r3, r3, lsl #2
 2487 006c 9A00     		lsls	r2, r3, #2
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 141


 2488 006e 2946     		mov	r1, r5
 2489 0070 1B48     		ldr	r0, .L234+16
 2490 0072 1044     		add	r0, r0, r2
 2491 0074 FFF7FEFF 		bl	vListInsertEnd
 2492              	.LVL211:
2138:Src/RTOS/tasks.c **** 					{
 2493              		.loc 1 2138 0
 2494 0078 E26A     		ldr	r2, [r4, #44]
 2495 007a 1A4B     		ldr	r3, .L234+20
 2496 007c 1B68     		ldr	r3, [r3]
 2497 007e DB6A     		ldr	r3, [r3, #44]
 2498 0080 9A42     		cmp	r2, r3
 2499 0082 DCD3     		bcc	.L222
2140:Src/RTOS/tasks.c **** 					}
 2500              		.loc 1 2140 0
 2501 0084 184B     		ldr	r3, .L234+24
 2502 0086 0122     		movs	r2, #1
 2503 0088 1A60     		str	r2, [r3]
 2504 008a D8E7     		b	.L222
 2505              	.L233:
2148:Src/RTOS/tasks.c **** 				{
 2506              		.loc 1 2148 0
 2507 008c 0CB1     		cbz	r4, .L225
2156:Src/RTOS/tasks.c **** 				}
 2508              		.loc 1 2156 0
 2509 008e FFF7FEFF 		bl	prvResetNextTaskUnblockTime
 2510              	.LVL212:
 2511              	.L225:
 2512              	.LBB145:
2164:Src/RTOS/tasks.c **** 
 2513              		.loc 1 2164 0
 2514 0092 164B     		ldr	r3, .L234+28
 2515 0094 1C68     		ldr	r4, [r3]
 2516              	.LVL213:
2166:Src/RTOS/tasks.c **** 					{
 2517              		.loc 1 2166 0
 2518 0096 54B1     		cbz	r4, .L226
 2519              	.L228:
2170:Src/RTOS/tasks.c **** 							{
 2520              		.loc 1 2170 0
 2521 0098 FFF7FEFF 		bl	xTaskIncrementTick
 2522              	.LVL214:
 2523 009c 10B1     		cbz	r0, .L227
2172:Src/RTOS/tasks.c **** 							}
 2524              		.loc 1 2172 0
 2525 009e 124B     		ldr	r3, .L234+24
 2526 00a0 0122     		movs	r2, #1
 2527 00a2 1A60     		str	r2, [r3]
 2528              	.L227:
 2529              	.LVL215:
2179:Src/RTOS/tasks.c **** 
 2530              		.loc 1 2179 0
 2531 00a4 013C     		subs	r4, r4, #1
 2532              	.LVL216:
 2533 00a6 F7D1     		bne	.L228
2181:Src/RTOS/tasks.c **** 					}
 2534              		.loc 1 2181 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 142


 2535 00a8 104B     		ldr	r3, .L234+28
 2536 00aa 0022     		movs	r2, #0
 2537 00ac 1A60     		str	r2, [r3]
 2538              	.L226:
 2539              	.LBE145:
2189:Src/RTOS/tasks.c **** 				{
 2540              		.loc 1 2189 0
 2541 00ae 0E4B     		ldr	r3, .L234+24
 2542 00b0 1B68     		ldr	r3, [r3]
 2543 00b2 5BB1     		cbz	r3, .L231
 2544              	.LVL217:
2196:Src/RTOS/tasks.c **** 				}
 2545              		.loc 1 2196 0
 2546 00b4 0E4B     		ldr	r3, .L234+32
 2547 00b6 4FF08052 		mov	r2, #268435456
 2548 00ba 1A60     		str	r2, [r3]
 2549              		.syntax unified
 2550              	@ 2196 "Src/RTOS/tasks.c" 1
 2551 00bc BFF34F8F 		dsb
 2552              	@ 0 "" 2
 2553              	@ 2196 "Src/RTOS/tasks.c" 1
 2554 00c0 BFF36F8F 		isb
 2555              	@ 0 "" 2
2193:Src/RTOS/tasks.c **** 					}
 2556              		.loc 1 2193 0
 2557              		.thumb
 2558              		.syntax unified
 2559 00c4 0124     		movs	r4, #1
 2560              	.LVL218:
 2561 00c6 B5E7     		b	.L221
 2562              	.LVL219:
 2563              	.L229:
2108:Src/RTOS/tasks.c **** 
 2564              		.loc 1 2108 0
 2565 00c8 0024     		movs	r4, #0
 2566 00ca B3E7     		b	.L221
 2567              	.LVL220:
 2568              	.L231:
 2569 00cc 0024     		movs	r4, #0
 2570              	.LVL221:
 2571 00ce B1E7     		b	.L221
 2572              	.L235:
 2573              		.align	2
 2574              	.L234:
 2575 00d0 00000000 		.word	.LANCHOR16
 2576 00d4 00000000 		.word	.LANCHOR9
 2577 00d8 00000000 		.word	.LANCHOR1
 2578 00dc 00000000 		.word	.LANCHOR13
 2579 00e0 00000000 		.word	.LANCHOR4
 2580 00e4 00000000 		.word	.LANCHOR10
 2581 00e8 00000000 		.word	.LANCHOR20
 2582 00ec 00000000 		.word	.LANCHOR19
 2583 00f0 04ED00E0 		.word	-536810236
 2584              		.cfi_endproc
 2585              	.LFE22:
 2587              		.section	.text.vTaskDelayUntil,"ax",%progbits
 2588              		.align	1
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 143


 2589              		.global	vTaskDelayUntil
 2590              		.syntax unified
 2591              		.thumb
 2592              		.thumb_func
 2593              		.fpu fpv4-sp-d16
 2595              	vTaskDelayUntil:
 2596              	.LFB9:
1205:Src/RTOS/tasks.c **** 	TickType_t xTimeToWake;
 2597              		.loc 1 1205 0
 2598              		.cfi_startproc
 2599              		@ args = 0, pretend = 0, frame = 0
 2600              		@ frame_needed = 0, uses_anonymous_args = 0
 2601              	.LVL222:
 2602 0000 38B5     		push	{r3, r4, r5, lr}
 2603              	.LCFI27:
 2604              		.cfi_def_cfa_offset 16
 2605              		.cfi_offset 3, -16
 2606              		.cfi_offset 4, -12
 2607              		.cfi_offset 5, -8
 2608              		.cfi_offset 14, -4
 2609              	.LVL223:
1209:Src/RTOS/tasks.c **** 		configASSERT( ( xTimeIncrement > 0U ) );
 2610              		.loc 1 1209 0
 2611 0002 50B1     		cbz	r0, .L252
 2612 0004 0546     		mov	r5, r0
1210:Src/RTOS/tasks.c **** 		configASSERT( uxSchedulerSuspended == 0 );
 2613              		.loc 1 1210 0
 2614 0006 89B9     		cbnz	r1, .L239
 2615              	.LBB146:
 2616              	.LBB147:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2617              		.loc 2 195 0
 2618              		.syntax unified
 2619              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2620 0008 4FF05003 			mov r3, #80												
 2621 000c 83F31188 		msr basepri, r3											
 2622 0010 BFF36F8F 		isb														
 2623 0014 BFF34F8F 		dsb														
 2624              	
 2625              	@ 0 "" 2
 2626              	.LVL224:
 2627              		.thumb
 2628              		.syntax unified
 2629              	.L240:
 2630 0018 FEE7     		b	.L240
 2631              	.L252:
 2632              	.LBE147:
 2633              	.LBE146:
 2634              	.LBB148:
 2635              	.LBB149:
 2636              		.syntax unified
 2637              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2638 001a 4FF05003 			mov r3, #80												
 2639 001e 83F31188 		msr basepri, r3											
 2640 0022 BFF36F8F 		isb														
 2641 0026 BFF34F8F 		dsb														
 2642              	
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 144


 2643              	@ 0 "" 2
 2644              	.LVL225:
 2645              		.thumb
 2646              		.syntax unified
 2647              	.L238:
 2648 002a FEE7     		b	.L238
 2649              	.L239:
 2650              	.LBE149:
 2651              	.LBE148:
1211:Src/RTOS/tasks.c **** 
 2652              		.loc 1 1211 0
 2653 002c 1A4B     		ldr	r3, .L253
 2654 002e 1B68     		ldr	r3, [r3]
 2655 0030 43B1     		cbz	r3, .L241
 2656              	.LBB150:
 2657              	.LBB151:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2658              		.loc 2 195 0
 2659              		.syntax unified
 2660              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2661 0032 4FF05003 			mov r3, #80												
 2662 0036 83F31188 		msr basepri, r3											
 2663 003a BFF36F8F 		isb														
 2664 003e BFF34F8F 		dsb														
 2665              	
 2666              	@ 0 "" 2
 2667              	.LVL226:
 2668              		.thumb
 2669              		.syntax unified
 2670              	.L242:
 2671 0042 FEE7     		b	.L242
 2672              	.L241:
 2673 0044 0C46     		mov	r4, r1
 2674              	.LBE151:
 2675              	.LBE150:
1213:Src/RTOS/tasks.c **** 		{
 2676              		.loc 1 1213 0
 2677 0046 FFF7FEFF 		bl	vTaskSuspendAll
 2678              	.LVL227:
 2679              	.LBB152:
1217:Src/RTOS/tasks.c **** 
 2680              		.loc 1 1217 0
 2681 004a 144B     		ldr	r3, .L253+4
 2682 004c 1868     		ldr	r0, [r3]
 2683              	.LVL228:
1220:Src/RTOS/tasks.c **** 
 2684              		.loc 1 1220 0
 2685 004e 2A68     		ldr	r2, [r5]
 2686 0050 1444     		add	r4, r4, r2
 2687              	.LVL229:
1222:Src/RTOS/tasks.c **** 			{
 2688              		.loc 1 1222 0
 2689 0052 8242     		cmp	r2, r0
 2690 0054 18D9     		bls	.L243
1229:Src/RTOS/tasks.c **** 				{
 2691              		.loc 1 1229 0
 2692 0056 A242     		cmp	r2, r4
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 145


 2693 0058 0CD8     		bhi	.L244
1254:Src/RTOS/tasks.c **** 
 2694              		.loc 1 1254 0
 2695 005a 2C60     		str	r4, [r5]
 2696              	.LVL230:
 2697              	.L245:
 2698              	.LBE152:
1269:Src/RTOS/tasks.c **** 
 2699              		.loc 1 1269 0
 2700 005c FFF7FEFF 		bl	xTaskResumeAll
 2701              	.LVL231:
1273:Src/RTOS/tasks.c **** 		{
 2702              		.loc 1 1273 0
 2703 0060 38B9     		cbnz	r0, .L236
1275:Src/RTOS/tasks.c **** 		}
 2704              		.loc 1 1275 0
 2705 0062 0F4B     		ldr	r3, .L253+8
 2706 0064 4FF08052 		mov	r2, #268435456
 2707 0068 1A60     		str	r2, [r3]
 2708              		.syntax unified
 2709              	@ 1275 "Src/RTOS/tasks.c" 1
 2710 006a BFF34F8F 		dsb
 2711              	@ 0 "" 2
 2712              	@ 1275 "Src/RTOS/tasks.c" 1
 2713 006e BFF36F8F 		isb
 2714              	@ 0 "" 2
 2715              		.thumb
 2716              		.syntax unified
 2717              	.L236:
1281:Src/RTOS/tasks.c **** 
 2718              		.loc 1 1281 0
 2719 0072 38BD     		pop	{r3, r4, r5, pc}
 2720              	.LVL232:
 2721              	.L244:
 2722              	.LBB153:
1229:Src/RTOS/tasks.c **** 				{
 2723              		.loc 1 1229 0 discriminator 1
 2724 0074 A042     		cmp	r0, r4
 2725 0076 01D3     		bcc	.L246
1254:Src/RTOS/tasks.c **** 
 2726              		.loc 1 1254 0
 2727 0078 2C60     		str	r4, [r5]
 2728 007a EFE7     		b	.L245
 2729              	.L246:
 2730              	.LVL233:
 2731 007c 2C60     		str	r4, [r5]
 2732              	.L247:
1262:Src/RTOS/tasks.c **** 			}
 2733              		.loc 1 1262 0
 2734 007e 0021     		movs	r1, #0
 2735 0080 201A     		subs	r0, r4, r0
 2736              	.LVL234:
 2737 0082 FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 2738              	.LVL235:
 2739 0086 E9E7     		b	.L245
 2740              	.LVL236:
 2741              	.L243:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 146


1243:Src/RTOS/tasks.c **** 				{
 2742              		.loc 1 1243 0
 2743 0088 A242     		cmp	r2, r4
 2744 008a 01D8     		bhi	.L248
1243:Src/RTOS/tasks.c **** 				{
 2745              		.loc 1 1243 0 is_stmt 0 discriminator 1
 2746 008c A042     		cmp	r0, r4
 2747 008e 01D2     		bcs	.L249
 2748              	.L248:
 2749              	.LVL237:
1254:Src/RTOS/tasks.c **** 
 2750              		.loc 1 1254 0 is_stmt 1
 2751 0090 2C60     		str	r4, [r5]
 2752 0092 F4E7     		b	.L247
 2753              	.LVL238:
 2754              	.L249:
 2755 0094 2C60     		str	r4, [r5]
 2756 0096 E1E7     		b	.L245
 2757              	.L254:
 2758              		.align	2
 2759              	.L253:
 2760 0098 00000000 		.word	.LANCHOR16
 2761 009c 00000000 		.word	.LANCHOR15
 2762 00a0 04ED00E0 		.word	-536810236
 2763              	.LBE153:
 2764              		.cfi_endproc
 2765              	.LFE9:
 2767              		.section	.text.vTaskDelay,"ax",%progbits
 2768              		.align	1
 2769              		.global	vTaskDelay
 2770              		.syntax unified
 2771              		.thumb
 2772              		.thumb_func
 2773              		.fpu fpv4-sp-d16
 2775              	vTaskDelay:
 2776              	.LFB10:
1289:Src/RTOS/tasks.c **** 	BaseType_t xAlreadyYielded = pdFALSE;
 2777              		.loc 1 1289 0
 2778              		.cfi_startproc
 2779              		@ args = 0, pretend = 0, frame = 0
 2780              		@ frame_needed = 0, uses_anonymous_args = 0
 2781              	.LVL239:
 2782 0000 10B5     		push	{r4, lr}
 2783              	.LCFI28:
 2784              		.cfi_def_cfa_offset 8
 2785              		.cfi_offset 4, -8
 2786              		.cfi_offset 14, -4
 2787              	.LVL240:
1293:Src/RTOS/tasks.c **** 		{
 2788              		.loc 1 1293 0
 2789 0002 A8B1     		cbz	r0, .L256
 2790 0004 0446     		mov	r4, r0
1295:Src/RTOS/tasks.c **** 			vTaskSuspendAll();
 2791              		.loc 1 1295 0
 2792 0006 0F4B     		ldr	r3, .L261
 2793 0008 1B68     		ldr	r3, [r3]
 2794 000a 43B1     		cbz	r3, .L257
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 147


 2795              	.LBB154:
 2796              	.LBB155:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2797              		.loc 2 195 0
 2798              		.syntax unified
 2799              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2800 000c 4FF05003 			mov r3, #80												
 2801 0010 83F31188 		msr basepri, r3											
 2802 0014 BFF36F8F 		isb														
 2803 0018 BFF34F8F 		dsb														
 2804              	
 2805              	@ 0 "" 2
 2806              	.LVL241:
 2807              		.thumb
 2808              		.syntax unified
 2809              	.L258:
 2810 001c FEE7     		b	.L258
 2811              	.L257:
 2812              	.LBE155:
 2813              	.LBE154:
1296:Src/RTOS/tasks.c **** 			{
 2814              		.loc 1 1296 0
 2815 001e FFF7FEFF 		bl	vTaskSuspendAll
 2816              	.LVL242:
1307:Src/RTOS/tasks.c **** 			}
 2817              		.loc 1 1307 0
 2818 0022 0021     		movs	r1, #0
 2819 0024 2046     		mov	r0, r4
 2820 0026 FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 2821              	.LVL243:
1309:Src/RTOS/tasks.c **** 		}
 2822              		.loc 1 1309 0
 2823 002a FFF7FEFF 		bl	xTaskResumeAll
 2824              	.LVL244:
1318:Src/RTOS/tasks.c **** 		{
 2825              		.loc 1 1318 0
 2826 002e 38B9     		cbnz	r0, .L255
 2827              	.LVL245:
 2828              	.L256:
1320:Src/RTOS/tasks.c **** 		}
 2829              		.loc 1 1320 0
 2830 0030 054B     		ldr	r3, .L261+4
 2831 0032 4FF08052 		mov	r2, #268435456
 2832 0036 1A60     		str	r2, [r3]
 2833              		.syntax unified
 2834              	@ 1320 "Src/RTOS/tasks.c" 1
 2835 0038 BFF34F8F 		dsb
 2836              	@ 0 "" 2
 2837              	@ 1320 "Src/RTOS/tasks.c" 1
 2838 003c BFF36F8F 		isb
 2839              	@ 0 "" 2
 2840              		.thumb
 2841              		.syntax unified
 2842              	.L255:
1326:Src/RTOS/tasks.c **** 
 2843              		.loc 1 1326 0
 2844 0040 10BD     		pop	{r4, pc}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 148


 2845              	.L262:
 2846 0042 00BF     		.align	2
 2847              	.L261:
 2848 0044 00000000 		.word	.LANCHOR16
 2849 0048 04ED00E0 		.word	-536810236
 2850              		.cfi_endproc
 2851              	.LFE10:
 2853              		.section	.text.vTaskSwitchContext,"ax",%progbits
 2854              		.align	1
 2855              		.global	vTaskSwitchContext
 2856              		.syntax unified
 2857              		.thumb
 2858              		.thumb_func
 2859              		.fpu fpv4-sp-d16
 2861              	vTaskSwitchContext:
 2862              	.LFB29:
2852:Src/RTOS/tasks.c **** 	if( uxSchedulerSuspended != ( UBaseType_t ) pdFALSE )
 2863              		.loc 1 2852 0
 2864              		.cfi_startproc
 2865              		@ args = 0, pretend = 0, frame = 0
 2866              		@ frame_needed = 0, uses_anonymous_args = 0
 2867              		@ link register save eliminated.
2853:Src/RTOS/tasks.c **** 	{
 2868              		.loc 1 2853 0
 2869 0000 204B     		ldr	r3, .L273
 2870 0002 1B68     		ldr	r3, [r3]
 2871 0004 1BB1     		cbz	r3, .L264
2857:Src/RTOS/tasks.c **** 	}
 2872              		.loc 1 2857 0
 2873 0006 204B     		ldr	r3, .L273+4
 2874 0008 0122     		movs	r2, #1
 2875 000a 1A60     		str	r2, [r3]
 2876 000c 7047     		bx	lr
 2877              	.L264:
2861:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_OUT();
 2878              		.loc 1 2861 0
 2879 000e 1E4B     		ldr	r3, .L273+4
 2880 0010 0022     		movs	r2, #0
 2881 0012 1A60     		str	r2, [r3]
 2882              	.LBB156:
2896:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
 2883              		.loc 1 2896 0
 2884 0014 1D4B     		ldr	r3, .L273+8
 2885 0016 1B68     		ldr	r3, [r3]
 2886              	.LVL246:
 2887              	.LBB157:
 2888              	.LBB158:
 134:Src/RTOS/Inc/portmacro.h **** 		return ucReturn;
 2889              		.loc 2 134 0
 2890              		.syntax unified
 2891              	@ 134 "Src/RTOS/Inc/portmacro.h" 1
 2892 0018 B3FA83F3 		clz r3, r3
 2893              	@ 0 "" 2
 2894              	.LVL247:
 2895              		.thumb
 2896              		.syntax unified
 2897 001c DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 149


 2898              	.LBE158:
 2899              	.LBE157:
2896:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
 2900              		.loc 1 2896 0
 2901 001e C3F11F03 		rsb	r3, r3, #31
 2902              	.LVL248:
 2903 0022 03EB8301 		add	r1, r3, r3, lsl #2
 2904 0026 8A00     		lsls	r2, r1, #2
 2905 0028 1949     		ldr	r1, .L273+12
 2906 002a 8A58     		ldr	r2, [r1, r2]
 2907 002c 42B9     		cbnz	r2, .L266
 2908              	.LBB159:
 2909              	.LBB160:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 2910              		.loc 2 195 0
 2911              		.syntax unified
 2912              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 2913 002e 4FF05003 			mov r3, #80												
 2914 0032 83F31188 		msr basepri, r3											
 2915 0036 BFF36F8F 		isb														
 2916 003a BFF34F8F 		dsb														
 2917              	
 2918              	@ 0 "" 2
 2919              	.LVL249:
 2920              		.thumb
 2921              		.syntax unified
 2922              	.L267:
 2923 003e FEE7     		b	.L267
 2924              	.LVL250:
 2925              	.L266:
 2926              	.LBE160:
 2927              	.LBE159:
 2928              	.LBE156:
2852:Src/RTOS/tasks.c **** 	if( uxSchedulerSuspended != ( UBaseType_t ) pdFALSE )
 2929              		.loc 1 2852 0 discriminator 2
 2930 0040 10B4     		push	{r4}
 2931              	.LCFI29:
 2932              		.cfi_def_cfa_offset 4
 2933              		.cfi_offset 4, -4
 2934              	.LVL251:
 2935              	.LBB163:
 2936              	.LBB161:
2896:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
 2937              		.loc 1 2896 0 discriminator 2
 2938 0042 1348     		ldr	r0, .L273+12
 2939 0044 9A00     		lsls	r2, r3, #2
 2940 0046 D418     		adds	r4, r2, r3
 2941 0048 A100     		lsls	r1, r4, #2
 2942 004a 0144     		add	r1, r1, r0
 2943 004c 4C68     		ldr	r4, [r1, #4]
 2944 004e 6468     		ldr	r4, [r4, #4]
 2945 0050 4C60     		str	r4, [r1, #4]
 2946 0052 1A44     		add	r2, r2, r3
 2947 0054 9100     		lsls	r1, r2, #2
 2948 0056 0831     		adds	r1, r1, #8
 2949 0058 0844     		add	r0, r0, r1
 2950 005a 8442     		cmp	r4, r0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 150


 2951 005c 0BD0     		beq	.L272
 2952              	.L268:
2896:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
 2953              		.loc 1 2896 0 is_stmt 0 discriminator 5
 2954 005e 03EB8303 		add	r3, r3, r3, lsl #2
 2955              	.LVL252:
 2956 0062 9A00     		lsls	r2, r3, #2
 2957 0064 0A4B     		ldr	r3, .L273+12
 2958 0066 1344     		add	r3, r3, r2
 2959 0068 5B68     		ldr	r3, [r3, #4]
 2960 006a DA68     		ldr	r2, [r3, #12]
 2961 006c 094B     		ldr	r3, .L273+16
 2962 006e 1A60     		str	r2, [r3]
 2963              	.LBE161:
 2964              	.LBE163:
2907:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 2965              		.loc 1 2907 0 is_stmt 1 discriminator 5
 2966 0070 5DF8044B 		ldr	r4, [sp], #4
 2967              	.LCFI30:
 2968              		.cfi_remember_state
 2969              		.cfi_restore 4
 2970              		.cfi_def_cfa_offset 0
 2971 0074 7047     		bx	lr
 2972              	.LVL253:
 2973              	.L272:
 2974              	.LCFI31:
 2975              		.cfi_restore_state
 2976              	.LBB164:
 2977              	.LBB162:
2896:Src/RTOS/tasks.c **** 		traceTASK_SWITCHED_IN();
 2978              		.loc 1 2896 0 discriminator 3
 2979 0076 6168     		ldr	r1, [r4, #4]
 2980 0078 0548     		ldr	r0, .L273+12
 2981 007a 1422     		movs	r2, #20
 2982 007c 02FB0302 		mla	r2, r2, r3, r0
 2983 0080 5160     		str	r1, [r2, #4]
 2984 0082 ECE7     		b	.L268
 2985              	.L274:
 2986              		.align	2
 2987              	.L273:
 2988 0084 00000000 		.word	.LANCHOR16
 2989 0088 00000000 		.word	.LANCHOR20
 2990 008c 00000000 		.word	.LANCHOR13
 2991 0090 00000000 		.word	.LANCHOR4
 2992 0094 00000000 		.word	.LANCHOR10
 2993              	.LBE162:
 2994              	.LBE164:
 2995              		.cfi_endproc
 2996              	.LFE29:
 2998              		.section	.text.vTaskSuspend,"ax",%progbits
 2999              		.align	1
 3000              		.global	vTaskSuspend
 3001              		.syntax unified
 3002              		.thumb
 3003              		.thumb_func
 3004              		.fpu fpv4-sp-d16
 3006              	vTaskSuspend:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 151


 3007              	.LFB15:
1631:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 3008              		.loc 1 1631 0
 3009              		.cfi_startproc
 3010              		@ args = 0, pretend = 0, frame = 0
 3011              		@ frame_needed = 0, uses_anonymous_args = 0
 3012              	.LVL254:
 3013 0000 38B5     		push	{r3, r4, r5, lr}
 3014              	.LCFI32:
 3015              		.cfi_def_cfa_offset 16
 3016              		.cfi_offset 3, -16
 3017              		.cfi_offset 4, -12
 3018              		.cfi_offset 5, -8
 3019              		.cfi_offset 14, -4
 3020 0002 0446     		mov	r4, r0
1634:Src/RTOS/tasks.c **** 		{
 3021              		.loc 1 1634 0
 3022 0004 FFF7FEFF 		bl	vPortEnterCritical
 3023              	.LVL255:
1638:Src/RTOS/tasks.c **** 
 3024              		.loc 1 1638 0
 3025 0008 64B3     		cbz	r4, .L287
 3026              	.LVL256:
 3027              	.L276:
1644:Src/RTOS/tasks.c **** 			{
 3028              		.loc 1 1644 0 discriminator 4
 3029 000a 251D     		adds	r5, r4, #4
 3030 000c 2846     		mov	r0, r5
 3031 000e FFF7FEFF 		bl	uxListRemove
 3032              	.LVL257:
 3033 0012 70B9     		cbnz	r0, .L277
1646:Src/RTOS/tasks.c **** 			}
 3034              		.loc 1 1646 0
 3035 0014 E26A     		ldr	r2, [r4, #44]
 3036 0016 02EB8201 		add	r1, r2, r2, lsl #2
 3037 001a 8B00     		lsls	r3, r1, #2
 3038 001c 2B49     		ldr	r1, .L291
 3039 001e CB58     		ldr	r3, [r1, r3]
 3040 0020 3BB9     		cbnz	r3, .L277
1646:Src/RTOS/tasks.c **** 			}
 3041              		.loc 1 1646 0 is_stmt 0 discriminator 1
 3042 0022 0123     		movs	r3, #1
 3043 0024 03FA02F2 		lsl	r2, r3, r2
 3044 0028 2949     		ldr	r1, .L291+4
 3045 002a 0B68     		ldr	r3, [r1]
 3046 002c 23EA0203 		bic	r3, r3, r2
 3047 0030 0B60     		str	r3, [r1]
 3048              	.L277:
1654:Src/RTOS/tasks.c **** 			{
 3049              		.loc 1 1654 0 is_stmt 1
 3050 0032 A36A     		ldr	r3, [r4, #40]
 3051 0034 1BB1     		cbz	r3, .L278
1656:Src/RTOS/tasks.c **** 			}
 3052              		.loc 1 1656 0
 3053 0036 04F11800 		add	r0, r4, #24
 3054 003a FFF7FEFF 		bl	uxListRemove
 3055              	.LVL258:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 152


 3056              	.L278:
1663:Src/RTOS/tasks.c **** 
 3057              		.loc 1 1663 0
 3058 003e 2946     		mov	r1, r5
 3059 0040 2448     		ldr	r0, .L291+8
 3060 0042 FFF7FEFF 		bl	vListInsertEnd
 3061              	.LVL259:
1667:Src/RTOS/tasks.c **** 				{
 3062              		.loc 1 1667 0
 3063 0046 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 3064 004a DBB2     		uxtb	r3, r3
 3065 004c 012B     		cmp	r3, #1
 3066 004e 0CD0     		beq	.L288
 3067              	.L279:
1676:Src/RTOS/tasks.c **** 
 3068              		.loc 1 1676 0
 3069 0050 FFF7FEFF 		bl	vPortExitCritical
 3070              	.LVL260:
1678:Src/RTOS/tasks.c **** 		{
 3071              		.loc 1 1678 0
 3072 0054 204B     		ldr	r3, .L291+12
 3073 0056 1B68     		ldr	r3, [r3]
 3074 0058 5BB9     		cbnz	r3, .L289
 3075              	.L280:
1693:Src/RTOS/tasks.c **** 		{
 3076              		.loc 1 1693 0
 3077 005a 204B     		ldr	r3, .L291+16
 3078 005c 1B68     		ldr	r3, [r3]
 3079 005e A342     		cmp	r3, r4
 3080 0060 0ED0     		beq	.L290
 3081              	.L275:
1724:Src/RTOS/tasks.c **** 
 3082              		.loc 1 1724 0
 3083 0062 38BD     		pop	{r3, r4, r5, pc}
 3084              	.LVL261:
 3085              	.L287:
1638:Src/RTOS/tasks.c **** 
 3086              		.loc 1 1638 0 discriminator 1
 3087 0064 1D4B     		ldr	r3, .L291+16
 3088 0066 1C68     		ldr	r4, [r3]
 3089              	.LVL262:
 3090 0068 CFE7     		b	.L276
 3091              	.LVL263:
 3092              	.L288:
1671:Src/RTOS/tasks.c **** 				}
 3093              		.loc 1 1671 0
 3094 006a 0023     		movs	r3, #0
 3095 006c 84F85430 		strb	r3, [r4, #84]
 3096 0070 EEE7     		b	.L279
 3097              	.L289:
1682:Src/RTOS/tasks.c **** 			{
 3098              		.loc 1 1682 0
 3099 0072 FFF7FEFF 		bl	vPortEnterCritical
 3100              	.LVL264:
1684:Src/RTOS/tasks.c **** 			}
 3101              		.loc 1 1684 0
 3102 0076 FFF7FEFF 		bl	prvResetNextTaskUnblockTime
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 153


 3103              	.LVL265:
1686:Src/RTOS/tasks.c **** 		}
 3104              		.loc 1 1686 0
 3105 007a FFF7FEFF 		bl	vPortExitCritical
 3106              	.LVL266:
 3107 007e ECE7     		b	.L280
 3108              	.L290:
1695:Src/RTOS/tasks.c **** 			{
 3109              		.loc 1 1695 0
 3110 0080 154B     		ldr	r3, .L291+12
 3111 0082 1B68     		ldr	r3, [r3]
 3112 0084 A3B1     		cbz	r3, .L282
1698:Src/RTOS/tasks.c **** 				portYIELD_WITHIN_API();
 3113              		.loc 1 1698 0
 3114 0086 164B     		ldr	r3, .L291+20
 3115 0088 1B68     		ldr	r3, [r3]
 3116 008a 43B1     		cbz	r3, .L283
 3117              	.LBB165:
 3118              	.LBB166:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3119              		.loc 2 195 0
 3120              		.syntax unified
 3121              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3122 008c 4FF05003 			mov r3, #80												
 3123 0090 83F31188 		msr basepri, r3											
 3124 0094 BFF36F8F 		isb														
 3125 0098 BFF34F8F 		dsb														
 3126              	
 3127              	@ 0 "" 2
 3128              	.LVL267:
 3129              		.thumb
 3130              		.syntax unified
 3131              	.L284:
 3132 009c FEE7     		b	.L284
 3133              	.L283:
 3134              	.LBE166:
 3135              	.LBE165:
1699:Src/RTOS/tasks.c **** 			}
 3136              		.loc 1 1699 0
 3137 009e 114B     		ldr	r3, .L291+24
 3138 00a0 4FF08052 		mov	r2, #268435456
 3139 00a4 1A60     		str	r2, [r3]
 3140              		.syntax unified
 3141              	@ 1699 "Src/RTOS/tasks.c" 1
 3142 00a6 BFF34F8F 		dsb
 3143              	@ 0 "" 2
 3144              	@ 1699 "Src/RTOS/tasks.c" 1
 3145 00aa BFF36F8F 		isb
 3146              	@ 0 "" 2
 3147              		.thumb
 3148              		.syntax unified
 3149 00ae D8E7     		b	.L275
 3150              	.L282:
1706:Src/RTOS/tasks.c **** 				{
 3151              		.loc 1 1706 0
 3152 00b0 084B     		ldr	r3, .L291+8
 3153 00b2 1A68     		ldr	r2, [r3]
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 154


 3154 00b4 0C4B     		ldr	r3, .L291+28
 3155 00b6 1B68     		ldr	r3, [r3]
 3156 00b8 9A42     		cmp	r2, r3
 3157 00ba 03D1     		bne	.L285
1712:Src/RTOS/tasks.c **** 				}
 3158              		.loc 1 1712 0
 3159 00bc 074B     		ldr	r3, .L291+16
 3160 00be 0022     		movs	r2, #0
 3161 00c0 1A60     		str	r2, [r3]
 3162 00c2 CEE7     		b	.L275
 3163              	.L285:
1716:Src/RTOS/tasks.c **** 				}
 3164              		.loc 1 1716 0
 3165 00c4 FFF7FEFF 		bl	vTaskSwitchContext
 3166              	.LVL268:
1724:Src/RTOS/tasks.c **** 
 3167              		.loc 1 1724 0
 3168 00c8 CBE7     		b	.L275
 3169              	.L292:
 3170 00ca 00BF     		.align	2
 3171              	.L291:
 3172 00cc 00000000 		.word	.LANCHOR4
 3173 00d0 00000000 		.word	.LANCHOR13
 3174 00d4 00000000 		.word	.LANCHOR0
 3175 00d8 00000000 		.word	.LANCHOR11
 3176 00dc 00000000 		.word	.LANCHOR10
 3177 00e0 00000000 		.word	.LANCHOR16
 3178 00e4 04ED00E0 		.word	-536810236
 3179 00e8 00000000 		.word	.LANCHOR9
 3180              		.cfi_endproc
 3181              	.LFE15:
 3183              		.section	.text.vTaskPlaceOnEventList,"ax",%progbits
 3184              		.align	1
 3185              		.global	vTaskPlaceOnEventList
 3186              		.syntax unified
 3187              		.thumb
 3188              		.thumb_func
 3189              		.fpu fpv4-sp-d16
 3191              	vTaskPlaceOnEventList:
 3192              	.LFB30:
2911:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
 3193              		.loc 1 2911 0
 3194              		.cfi_startproc
 3195              		@ args = 0, pretend = 0, frame = 0
 3196              		@ frame_needed = 0, uses_anonymous_args = 0
 3197              	.LVL269:
2912:Src/RTOS/tasks.c **** 
 3198              		.loc 1 2912 0
 3199 0000 40B9     		cbnz	r0, .L294
 3200              	.LBB167:
 3201              	.LBB168:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3202              		.loc 2 195 0
 3203              		.syntax unified
 3204              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3205 0002 4FF05003 			mov r3, #80												
 3206 0006 83F31188 		msr basepri, r3											
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 155


 3207 000a BFF36F8F 		isb														
 3208 000e BFF34F8F 		dsb														
 3209              	
 3210              	@ 0 "" 2
 3211              	.LVL270:
 3212              		.thumb
 3213              		.syntax unified
 3214              	.L295:
 3215 0012 FEE7     		b	.L295
 3216              	.L294:
 3217              	.LBE168:
 3218              	.LBE167:
2911:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
 3219              		.loc 1 2911 0
 3220 0014 10B5     		push	{r4, lr}
 3221              	.LCFI33:
 3222              		.cfi_def_cfa_offset 8
 3223              		.cfi_offset 4, -8
 3224              		.cfi_offset 14, -4
 3225 0016 0C46     		mov	r4, r1
2921:Src/RTOS/tasks.c **** 
 3226              		.loc 1 2921 0
 3227 0018 044B     		ldr	r3, .L298
 3228 001a 1968     		ldr	r1, [r3]
 3229              	.LVL271:
 3230 001c 1831     		adds	r1, r1, #24
 3231 001e FFF7FEFF 		bl	vListInsert
 3232              	.LVL272:
2923:Src/RTOS/tasks.c **** }
 3233              		.loc 1 2923 0
 3234 0022 0121     		movs	r1, #1
 3235 0024 2046     		mov	r0, r4
 3236 0026 FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 3237              	.LVL273:
2924:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3238              		.loc 1 2924 0
 3239 002a 10BD     		pop	{r4, pc}
 3240              	.LVL274:
 3241              	.L299:
 3242              		.align	2
 3243              	.L298:
 3244 002c 00000000 		.word	.LANCHOR10
 3245              		.cfi_endproc
 3246              	.LFE30:
 3248              		.section	.text.vTaskPlaceOnUnorderedEventList,"ax",%progbits
 3249              		.align	1
 3250              		.global	vTaskPlaceOnUnorderedEventList
 3251              		.syntax unified
 3252              		.thumb
 3253              		.thumb_func
 3254              		.fpu fpv4-sp-d16
 3256              	vTaskPlaceOnUnorderedEventList:
 3257              	.LFB31:
2928:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
 3258              		.loc 1 2928 0
 3259              		.cfi_startproc
 3260              		@ args = 0, pretend = 0, frame = 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 156


 3261              		@ frame_needed = 0, uses_anonymous_args = 0
 3262              	.LVL275:
2929:Src/RTOS/tasks.c **** 
 3263              		.loc 1 2929 0
 3264 0000 40B9     		cbnz	r0, .L301
 3265              	.LBB169:
 3266              	.LBB170:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3267              		.loc 2 195 0
 3268              		.syntax unified
 3269              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3270 0002 4FF05003 			mov r3, #80												
 3271 0006 83F31188 		msr basepri, r3											
 3272 000a BFF36F8F 		isb														
 3273 000e BFF34F8F 		dsb														
 3274              	
 3275              	@ 0 "" 2
 3276              	.LVL276:
 3277              		.thumb
 3278              		.syntax unified
 3279              	.L302:
 3280 0012 FEE7     		b	.L302
 3281              	.L301:
 3282 0014 0346     		mov	r3, r0
 3283              	.LBE170:
 3284              	.LBE169:
2933:Src/RTOS/tasks.c **** 
 3285              		.loc 1 2933 0
 3286 0016 0F48     		ldr	r0, .L307
 3287              	.LVL277:
 3288 0018 0068     		ldr	r0, [r0]
 3289 001a 40B9     		cbnz	r0, .L303
 3290              	.LBB171:
 3291              	.LBB172:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3292              		.loc 2 195 0
 3293              		.syntax unified
 3294              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3295 001c 4FF05003 			mov r3, #80												
 3296 0020 83F31188 		msr basepri, r3											
 3297 0024 BFF36F8F 		isb														
 3298 0028 BFF34F8F 		dsb														
 3299              	
 3300              	@ 0 "" 2
 3301              	.LVL278:
 3302              		.thumb
 3303              		.syntax unified
 3304              	.L304:
 3305 002c FEE7     		b	.L304
 3306              	.LVL279:
 3307              	.L303:
 3308              	.LBE172:
 3309              	.LBE171:
2928:Src/RTOS/tasks.c **** 	configASSERT( pxEventList );
 3310              		.loc 1 2928 0
 3311 002e 10B5     		push	{r4, lr}
 3312              	.LCFI34:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 157


 3313              		.cfi_def_cfa_offset 8
 3314              		.cfi_offset 4, -8
 3315              		.cfi_offset 14, -4
 3316 0030 1846     		mov	r0, r3
 3317 0032 1446     		mov	r4, r2
 3318 0034 0B46     		mov	r3, r1
 3319              	.LVL280:
2938:Src/RTOS/tasks.c **** 
 3320              		.loc 1 2938 0
 3321 0036 084A     		ldr	r2, .L307+4
 3322              	.LVL281:
 3323 0038 1168     		ldr	r1, [r2]
 3324              	.LVL282:
 3325 003a 43F00043 		orr	r3, r3, #-2147483648
 3326              	.LVL283:
 3327 003e 8B61     		str	r3, [r1, #24]
2945:Src/RTOS/tasks.c **** 
 3328              		.loc 1 2945 0
 3329 0040 1168     		ldr	r1, [r2]
 3330 0042 1831     		adds	r1, r1, #24
 3331 0044 FFF7FEFF 		bl	vListInsertEnd
 3332              	.LVL284:
2947:Src/RTOS/tasks.c **** }
 3333              		.loc 1 2947 0
 3334 0048 0121     		movs	r1, #1
 3335 004a 2046     		mov	r0, r4
 3336 004c FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 3337              	.LVL285:
2948:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3338              		.loc 1 2948 0
 3339 0050 10BD     		pop	{r4, pc}
 3340              	.LVL286:
 3341              	.L308:
 3342 0052 00BF     		.align	2
 3343              	.L307:
 3344 0054 00000000 		.word	.LANCHOR16
 3345 0058 00000000 		.word	.LANCHOR10
 3346              		.cfi_endproc
 3347              	.LFE31:
 3349              		.section	.text.vTaskPlaceOnEventListRestricted,"ax",%progbits
 3350              		.align	1
 3351              		.global	vTaskPlaceOnEventListRestricted
 3352              		.syntax unified
 3353              		.thumb
 3354              		.thumb_func
 3355              		.fpu fpv4-sp-d16
 3357              	vTaskPlaceOnEventListRestricted:
 3358              	.LFB32:
2954:Src/RTOS/tasks.c **** 		configASSERT( pxEventList );
 3359              		.loc 1 2954 0
 3360              		.cfi_startproc
 3361              		@ args = 0, pretend = 0, frame = 0
 3362              		@ frame_needed = 0, uses_anonymous_args = 0
 3363              	.LVL287:
 3364 0000 38B5     		push	{r3, r4, r5, lr}
 3365              	.LCFI35:
 3366              		.cfi_def_cfa_offset 16
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 158


 3367              		.cfi_offset 3, -16
 3368              		.cfi_offset 4, -12
 3369              		.cfi_offset 5, -8
 3370              		.cfi_offset 14, -4
2955:Src/RTOS/tasks.c **** 
 3371              		.loc 1 2955 0
 3372 0002 40B9     		cbnz	r0, .L310
 3373              	.LBB173:
 3374              	.LBB174:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3375              		.loc 2 195 0
 3376              		.syntax unified
 3377              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3378 0004 4FF05003 			mov r3, #80												
 3379 0008 83F31188 		msr basepri, r3											
 3380 000c BFF36F8F 		isb														
 3381 0010 BFF34F8F 		dsb														
 3382              	
 3383              	@ 0 "" 2
 3384              	.LVL288:
 3385              		.thumb
 3386              		.syntax unified
 3387              	.L311:
 3388 0014 FEE7     		b	.L311
 3389              	.L310:
 3390 0016 0C46     		mov	r4, r1
 3391 0018 1546     		mov	r5, r2
 3392              	.LBE174:
 3393              	.LBE173:
2967:Src/RTOS/tasks.c **** 
 3394              		.loc 1 2967 0
 3395 001a 064A     		ldr	r2, .L315
 3396              	.LVL289:
 3397 001c 1168     		ldr	r1, [r2]
 3398              	.LVL290:
 3399 001e 1831     		adds	r1, r1, #24
 3400 0020 FFF7FEFF 		bl	vListInsertEnd
 3401              	.LVL291:
2972:Src/RTOS/tasks.c **** 		{
 3402              		.loc 1 2972 0
 3403 0024 0DB1     		cbz	r5, .L312
2974:Src/RTOS/tasks.c **** 		}
 3404              		.loc 1 2974 0
 3405 0026 4FF0FF34 		mov	r4, #-1
 3406              	.LVL292:
 3407              	.L312:
2978:Src/RTOS/tasks.c **** 	}
 3408              		.loc 1 2978 0
 3409 002a 2946     		mov	r1, r5
 3410 002c 2046     		mov	r0, r4
 3411 002e FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 3412              	.LVL293:
2979:Src/RTOS/tasks.c **** 
 3413              		.loc 1 2979 0
 3414 0032 38BD     		pop	{r3, r4, r5, pc}
 3415              	.LVL294:
 3416              	.L316:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 159


 3417              		.align	2
 3418              	.L315:
 3419 0034 00000000 		.word	.LANCHOR10
 3420              		.cfi_endproc
 3421              	.LFE32:
 3423              		.section	.text.xTaskRemoveFromEventList,"ax",%progbits
 3424              		.align	1
 3425              		.global	xTaskRemoveFromEventList
 3426              		.syntax unified
 3427              		.thumb
 3428              		.thumb_func
 3429              		.fpu fpv4-sp-d16
 3431              	xTaskRemoveFromEventList:
 3432              	.LFB33:
2985:Src/RTOS/tasks.c **** TCB_t *pxUnblockedTCB;
 3433              		.loc 1 2985 0
 3434              		.cfi_startproc
 3435              		@ args = 0, pretend = 0, frame = 0
 3436              		@ frame_needed = 0, uses_anonymous_args = 0
 3437              	.LVL295:
 3438 0000 38B5     		push	{r3, r4, r5, lr}
 3439              	.LCFI36:
 3440              		.cfi_def_cfa_offset 16
 3441              		.cfi_offset 3, -16
 3442              		.cfi_offset 4, -12
 3443              		.cfi_offset 5, -8
 3444              		.cfi_offset 14, -4
3002:Src/RTOS/tasks.c **** 	configASSERT( pxUnblockedTCB );
 3445              		.loc 1 3002 0
 3446 0002 C368     		ldr	r3, [r0, #12]
 3447 0004 DC68     		ldr	r4, [r3, #12]
 3448              	.LVL296:
3003:Src/RTOS/tasks.c **** 	( void ) uxListRemove( &( pxUnblockedTCB->xEventListItem ) );
 3449              		.loc 1 3003 0
 3450 0006 44B9     		cbnz	r4, .L318
 3451              	.LBB175:
 3452              	.LBB176:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3453              		.loc 2 195 0
 3454              		.syntax unified
 3455              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3456 0008 4FF05003 			mov r3, #80												
 3457 000c 83F31188 		msr basepri, r3											
 3458 0010 BFF36F8F 		isb														
 3459 0014 BFF34F8F 		dsb														
 3460              	
 3461              	@ 0 "" 2
 3462              	.LVL297:
 3463              		.thumb
 3464              		.syntax unified
 3465              	.L319:
 3466 0018 FEE7     		b	.L319
 3467              	.L318:
 3468              	.LBE176:
 3469              	.LBE175:
3004:Src/RTOS/tasks.c **** 
 3470              		.loc 1 3004 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 160


 3471 001a 04F11805 		add	r5, r4, #24
 3472 001e 2846     		mov	r0, r5
 3473              	.LVL298:
 3474 0020 FFF7FEFF 		bl	uxListRemove
 3475              	.LVL299:
3006:Src/RTOS/tasks.c **** 	{
 3476              		.loc 1 3006 0
 3477 0024 134B     		ldr	r3, .L325
 3478 0026 1B68     		ldr	r3, [r3]
 3479 0028 E3B9     		cbnz	r3, .L320
3008:Src/RTOS/tasks.c **** 		prvAddTaskToReadyList( pxUnblockedTCB );
 3480              		.loc 1 3008 0
 3481 002a 251D     		adds	r5, r4, #4
 3482 002c 2846     		mov	r0, r5
 3483 002e FFF7FEFF 		bl	uxListRemove
 3484              	.LVL300:
3009:Src/RTOS/tasks.c **** 	}
 3485              		.loc 1 3009 0
 3486 0032 E36A     		ldr	r3, [r4, #44]
 3487 0034 0122     		movs	r2, #1
 3488 0036 9A40     		lsls	r2, r2, r3
 3489 0038 0F49     		ldr	r1, .L325+4
 3490 003a 0868     		ldr	r0, [r1]
 3491 003c 0243     		orrs	r2, r2, r0
 3492 003e 0A60     		str	r2, [r1]
 3493 0040 03EB8303 		add	r3, r3, r3, lsl #2
 3494 0044 9A00     		lsls	r2, r3, #2
 3495 0046 2946     		mov	r1, r5
 3496 0048 0C48     		ldr	r0, .L325+8
 3497 004a 1044     		add	r0, r0, r2
 3498 004c FFF7FEFF 		bl	vListInsertEnd
 3499              	.LVL301:
 3500              	.L321:
3018:Src/RTOS/tasks.c **** 	{
 3501              		.loc 1 3018 0
 3502 0050 E26A     		ldr	r2, [r4, #44]
 3503 0052 0B4B     		ldr	r3, .L325+12
 3504 0054 1B68     		ldr	r3, [r3]
 3505 0056 DB6A     		ldr	r3, [r3, #44]
 3506 0058 9A42     		cmp	r2, r3
 3507 005a 08D9     		bls	.L323
 3508              	.LVL302:
3027:Src/RTOS/tasks.c **** 	}
 3509              		.loc 1 3027 0
 3510 005c 0120     		movs	r0, #1
 3511 005e 094B     		ldr	r3, .L325+16
 3512 0060 1860     		str	r0, [r3]
 3513              	.LVL303:
 3514              	.L317:
3049:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3515              		.loc 1 3049 0
 3516 0062 38BD     		pop	{r3, r4, r5, pc}
 3517              	.LVL304:
 3518              	.L320:
3015:Src/RTOS/tasks.c **** 	}
 3519              		.loc 1 3015 0
 3520 0064 2946     		mov	r1, r5
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 161


 3521 0066 0848     		ldr	r0, .L325+20
 3522 0068 FFF7FEFF 		bl	vListInsertEnd
 3523              	.LVL305:
 3524 006c F0E7     		b	.L321
 3525              	.L323:
3031:Src/RTOS/tasks.c **** 	}
 3526              		.loc 1 3031 0
 3527 006e 0020     		movs	r0, #0
 3528              	.LVL306:
3048:Src/RTOS/tasks.c **** }
 3529              		.loc 1 3048 0
 3530 0070 F7E7     		b	.L317
 3531              	.L326:
 3532 0072 00BF     		.align	2
 3533              	.L325:
 3534 0074 00000000 		.word	.LANCHOR16
 3535 0078 00000000 		.word	.LANCHOR13
 3536 007c 00000000 		.word	.LANCHOR4
 3537 0080 00000000 		.word	.LANCHOR10
 3538 0084 00000000 		.word	.LANCHOR20
 3539 0088 00000000 		.word	.LANCHOR1
 3540              		.cfi_endproc
 3541              	.LFE33:
 3543              		.section	.text.vTaskRemoveFromUnorderedEventList,"ax",%progbits
 3544              		.align	1
 3545              		.global	vTaskRemoveFromUnorderedEventList
 3546              		.syntax unified
 3547              		.thumb
 3548              		.thumb_func
 3549              		.fpu fpv4-sp-d16
 3551              	vTaskRemoveFromUnorderedEventList:
 3552              	.LFB34:
3053:Src/RTOS/tasks.c **** TCB_t *pxUnblockedTCB;
 3553              		.loc 1 3053 0
 3554              		.cfi_startproc
 3555              		@ args = 0, pretend = 0, frame = 0
 3556              		@ frame_needed = 0, uses_anonymous_args = 0
 3557              	.LVL307:
 3558 0000 38B5     		push	{r3, r4, r5, lr}
 3559              	.LCFI37:
 3560              		.cfi_def_cfa_offset 16
 3561              		.cfi_offset 3, -16
 3562              		.cfi_offset 4, -12
 3563              		.cfi_offset 5, -8
 3564              		.cfi_offset 14, -4
3058:Src/RTOS/tasks.c **** 
 3565              		.loc 1 3058 0
 3566 0002 1C4B     		ldr	r3, .L335
 3567 0004 1B68     		ldr	r3, [r3]
 3568 0006 43B9     		cbnz	r3, .L328
 3569              	.LBB177:
 3570              	.LBB178:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3571              		.loc 2 195 0
 3572              		.syntax unified
 3573              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3574 0008 4FF05003 			mov r3, #80												
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 162


 3575 000c 83F31188 		msr basepri, r3											
 3576 0010 BFF36F8F 		isb														
 3577 0014 BFF34F8F 		dsb														
 3578              	
 3579              	@ 0 "" 2
 3580              	.LVL308:
 3581              		.thumb
 3582              		.syntax unified
 3583              	.L329:
 3584 0018 FEE7     		b	.L329
 3585              	.L328:
 3586              	.LBE178:
 3587              	.LBE177:
3061:Src/RTOS/tasks.c **** 
 3588              		.loc 1 3061 0
 3589 001a 41F00041 		orr	r1, r1, #-2147483648
 3590              	.LVL309:
 3591 001e 0160     		str	r1, [r0]
3065:Src/RTOS/tasks.c **** 	configASSERT( pxUnblockedTCB );
 3592              		.loc 1 3065 0
 3593 0020 C468     		ldr	r4, [r0, #12]
 3594              	.LVL310:
3066:Src/RTOS/tasks.c **** 	( void ) uxListRemove( pxEventListItem );
 3595              		.loc 1 3066 0
 3596 0022 F4B1     		cbz	r4, .L334
3067:Src/RTOS/tasks.c **** 
 3597              		.loc 1 3067 0
 3598 0024 FFF7FEFF 		bl	uxListRemove
 3599              	.LVL311:
3072:Src/RTOS/tasks.c **** 	prvAddTaskToReadyList( pxUnblockedTCB );
 3600              		.loc 1 3072 0
 3601 0028 251D     		adds	r5, r4, #4
 3602 002a 2846     		mov	r0, r5
 3603 002c FFF7FEFF 		bl	uxListRemove
 3604              	.LVL312:
3073:Src/RTOS/tasks.c **** 
 3605              		.loc 1 3073 0
 3606 0030 E36A     		ldr	r3, [r4, #44]
 3607 0032 0122     		movs	r2, #1
 3608 0034 9A40     		lsls	r2, r2, r3
 3609 0036 1049     		ldr	r1, .L335+4
 3610 0038 0868     		ldr	r0, [r1]
 3611 003a 0243     		orrs	r2, r2, r0
 3612 003c 0A60     		str	r2, [r1]
 3613 003e 03EB8303 		add	r3, r3, r3, lsl #2
 3614 0042 9A00     		lsls	r2, r3, #2
 3615 0044 2946     		mov	r1, r5
 3616 0046 0D48     		ldr	r0, .L335+8
 3617 0048 1044     		add	r0, r0, r2
 3618 004a FFF7FEFF 		bl	vListInsertEnd
 3619              	.LVL313:
3075:Src/RTOS/tasks.c **** 	{
 3620              		.loc 1 3075 0
 3621 004e E26A     		ldr	r2, [r4, #44]
 3622 0050 0B4B     		ldr	r3, .L335+12
 3623 0052 1B68     		ldr	r3, [r3]
 3624 0054 DB6A     		ldr	r3, [r3, #44]
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 163


 3625 0056 9A42     		cmp	r2, r3
 3626 0058 02D9     		bls	.L327
3081:Src/RTOS/tasks.c **** 	}
 3627              		.loc 1 3081 0
 3628 005a 0A4B     		ldr	r3, .L335+16
 3629 005c 0122     		movs	r2, #1
 3630 005e 1A60     		str	r2, [r3]
 3631              	.L327:
3083:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3632              		.loc 1 3083 0
 3633 0060 38BD     		pop	{r3, r4, r5, pc}
 3634              	.LVL314:
 3635              	.L334:
 3636              	.LBB179:
 3637              	.LBB180:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3638              		.loc 2 195 0
 3639              		.syntax unified
 3640              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3641 0062 4FF05003 			mov r3, #80												
 3642 0066 83F31188 		msr basepri, r3											
 3643 006a BFF36F8F 		isb														
 3644 006e BFF34F8F 		dsb														
 3645              	
 3646              	@ 0 "" 2
 3647              	.LVL315:
 3648              		.thumb
 3649              		.syntax unified
 3650              	.L331:
 3651 0072 FEE7     		b	.L331
 3652              	.L336:
 3653              		.align	2
 3654              	.L335:
 3655 0074 00000000 		.word	.LANCHOR16
 3656 0078 00000000 		.word	.LANCHOR13
 3657 007c 00000000 		.word	.LANCHOR4
 3658 0080 00000000 		.word	.LANCHOR10
 3659 0084 00000000 		.word	.LANCHOR20
 3660              	.LBE180:
 3661              	.LBE179:
 3662              		.cfi_endproc
 3663              	.LFE34:
 3665              		.section	.text.vTaskSetTimeOutState,"ax",%progbits
 3666              		.align	1
 3667              		.global	vTaskSetTimeOutState
 3668              		.syntax unified
 3669              		.thumb
 3670              		.thumb_func
 3671              		.fpu fpv4-sp-d16
 3673              	vTaskSetTimeOutState:
 3674              	.LFB35:
3087:Src/RTOS/tasks.c **** 	configASSERT( pxTimeOut );
 3675              		.loc 1 3087 0
 3676              		.cfi_startproc
 3677              		@ args = 0, pretend = 0, frame = 0
 3678              		@ frame_needed = 0, uses_anonymous_args = 0
 3679              	.LVL316:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 164


3088:Src/RTOS/tasks.c **** 	taskENTER_CRITICAL();
 3680              		.loc 1 3088 0
 3681 0000 40B9     		cbnz	r0, .L338
 3682              	.LBB181:
 3683              	.LBB182:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3684              		.loc 2 195 0
 3685              		.syntax unified
 3686              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3687 0002 4FF05003 			mov r3, #80												
 3688 0006 83F31188 		msr basepri, r3											
 3689 000a BFF36F8F 		isb														
 3690 000e BFF34F8F 		dsb														
 3691              	
 3692              	@ 0 "" 2
 3693              	.LVL317:
 3694              		.thumb
 3695              		.syntax unified
 3696              	.L339:
 3697 0012 FEE7     		b	.L339
 3698              	.L338:
 3699              	.LBE182:
 3700              	.LBE181:
3087:Src/RTOS/tasks.c **** 	configASSERT( pxTimeOut );
 3701              		.loc 1 3087 0
 3702 0014 10B5     		push	{r4, lr}
 3703              	.LCFI38:
 3704              		.cfi_def_cfa_offset 8
 3705              		.cfi_offset 4, -8
 3706              		.cfi_offset 14, -4
 3707 0016 0446     		mov	r4, r0
3089:Src/RTOS/tasks.c **** 	{
 3708              		.loc 1 3089 0
 3709 0018 FFF7FEFF 		bl	vPortEnterCritical
 3710              	.LVL318:
3091:Src/RTOS/tasks.c **** 		pxTimeOut->xTimeOnEntering = xTickCount;
 3711              		.loc 1 3091 0
 3712 001c 044B     		ldr	r3, .L342
 3713 001e 1B68     		ldr	r3, [r3]
 3714 0020 2360     		str	r3, [r4]
3092:Src/RTOS/tasks.c **** 	}
 3715              		.loc 1 3092 0
 3716 0022 044B     		ldr	r3, .L342+4
 3717 0024 1B68     		ldr	r3, [r3]
 3718 0026 6360     		str	r3, [r4, #4]
3094:Src/RTOS/tasks.c **** }
 3719              		.loc 1 3094 0
 3720 0028 FFF7FEFF 		bl	vPortExitCritical
 3721              	.LVL319:
3095:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3722              		.loc 1 3095 0
 3723 002c 10BD     		pop	{r4, pc}
 3724              	.LVL320:
 3725              	.L343:
 3726 002e 00BF     		.align	2
 3727              	.L342:
 3728 0030 00000000 		.word	.LANCHOR18
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 165


 3729 0034 00000000 		.word	.LANCHOR15
 3730              		.cfi_endproc
 3731              	.LFE35:
 3733              		.section	.text.vTaskInternalSetTimeOutState,"ax",%progbits
 3734              		.align	1
 3735              		.global	vTaskInternalSetTimeOutState
 3736              		.syntax unified
 3737              		.thumb
 3738              		.thumb_func
 3739              		.fpu fpv4-sp-d16
 3741              	vTaskInternalSetTimeOutState:
 3742              	.LFB36:
3099:Src/RTOS/tasks.c **** 	/* For internal use only as it does not use a critical section. */
 3743              		.loc 1 3099 0
 3744              		.cfi_startproc
 3745              		@ args = 0, pretend = 0, frame = 0
 3746              		@ frame_needed = 0, uses_anonymous_args = 0
 3747              		@ link register save eliminated.
 3748              	.LVL321:
3101:Src/RTOS/tasks.c **** 	pxTimeOut->xTimeOnEntering = xTickCount;
 3749              		.loc 1 3101 0
 3750 0000 034B     		ldr	r3, .L345
 3751 0002 1B68     		ldr	r3, [r3]
 3752 0004 0360     		str	r3, [r0]
3102:Src/RTOS/tasks.c **** }
 3753              		.loc 1 3102 0
 3754 0006 034B     		ldr	r3, .L345+4
 3755 0008 1B68     		ldr	r3, [r3]
 3756 000a 4360     		str	r3, [r0, #4]
3103:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3757              		.loc 1 3103 0
 3758 000c 7047     		bx	lr
 3759              	.L346:
 3760 000e 00BF     		.align	2
 3761              	.L345:
 3762 0010 00000000 		.word	.LANCHOR18
 3763 0014 00000000 		.word	.LANCHOR15
 3764              		.cfi_endproc
 3765              	.LFE36:
 3767              		.section	.text.xTaskCheckForTimeOut,"ax",%progbits
 3768              		.align	1
 3769              		.global	xTaskCheckForTimeOut
 3770              		.syntax unified
 3771              		.thumb
 3772              		.thumb_func
 3773              		.fpu fpv4-sp-d16
 3775              	xTaskCheckForTimeOut:
 3776              	.LFB37:
3107:Src/RTOS/tasks.c **** BaseType_t xReturn;
 3777              		.loc 1 3107 0
 3778              		.cfi_startproc
 3779              		@ args = 0, pretend = 0, frame = 0
 3780              		@ frame_needed = 0, uses_anonymous_args = 0
 3781              	.LVL322:
 3782 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 3783              	.LCFI39:
 3784              		.cfi_def_cfa_offset 24
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 166


 3785              		.cfi_offset 3, -24
 3786              		.cfi_offset 4, -20
 3787              		.cfi_offset 5, -16
 3788              		.cfi_offset 6, -12
 3789              		.cfi_offset 7, -8
 3790              		.cfi_offset 14, -4
3110:Src/RTOS/tasks.c **** 	configASSERT( pxTicksToWait );
 3791              		.loc 1 3110 0
 3792 0002 50B1     		cbz	r0, .L358
 3793 0004 0546     		mov	r5, r0
3111:Src/RTOS/tasks.c **** 
 3794              		.loc 1 3111 0
 3795 0006 89B9     		cbnz	r1, .L350
 3796              	.LBB183:
 3797              	.LBB184:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 3798              		.loc 2 195 0
 3799              		.syntax unified
 3800              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3801 0008 4FF05003 			mov r3, #80												
 3802 000c 83F31188 		msr basepri, r3											
 3803 0010 BFF36F8F 		isb														
 3804 0014 BFF34F8F 		dsb														
 3805              	
 3806              	@ 0 "" 2
 3807              	.LVL323:
 3808              		.thumb
 3809              		.syntax unified
 3810              	.L351:
 3811 0018 FEE7     		b	.L351
 3812              	.L358:
 3813              	.LBE184:
 3814              	.LBE183:
 3815              	.LBB185:
 3816              	.LBB186:
 3817              		.syntax unified
 3818              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 3819 001a 4FF05003 			mov r3, #80												
 3820 001e 83F31188 		msr basepri, r3											
 3821 0022 BFF36F8F 		isb														
 3822 0026 BFF34F8F 		dsb														
 3823              	
 3824              	@ 0 "" 2
 3825              	.LVL324:
 3826              		.thumb
 3827              		.syntax unified
 3828              	.L349:
 3829 002a FEE7     		b	.L349
 3830              	.L350:
 3831 002c 0C46     		mov	r4, r1
 3832              	.LBE186:
 3833              	.LBE185:
3113:Src/RTOS/tasks.c **** 	{
 3834              		.loc 1 3113 0
 3835 002e FFF7FEFF 		bl	vPortEnterCritical
 3836              	.LVL325:
 3837              	.LBB187:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 167


3116:Src/RTOS/tasks.c **** 		const TickType_t xElapsedTime = xConstTickCount - pxTimeOut->xTimeOnEntering;
 3838              		.loc 1 3116 0
 3839 0032 114B     		ldr	r3, .L360
 3840 0034 1968     		ldr	r1, [r3]
 3841              	.LVL326:
3117:Src/RTOS/tasks.c **** 
 3842              		.loc 1 3117 0
 3843 0036 6868     		ldr	r0, [r5, #4]
 3844 0038 0A1A     		subs	r2, r1, r0
 3845              	.LVL327:
3131:Src/RTOS/tasks.c **** 			{
 3846              		.loc 1 3131 0
 3847 003a 2368     		ldr	r3, [r4]
 3848 003c B3F1FF3F 		cmp	r3, #-1
 3849 0040 16D0     		beq	.L355
3141:Src/RTOS/tasks.c **** 		{
 3850              		.loc 1 3141 0
 3851 0042 2F68     		ldr	r7, [r5]
 3852 0044 0D4E     		ldr	r6, .L360+4
 3853 0046 3668     		ldr	r6, [r6]
 3854 0048 B742     		cmp	r7, r6
 3855 004a 01D0     		beq	.L353
3141:Src/RTOS/tasks.c **** 		{
 3856              		.loc 1 3141 0 is_stmt 0 discriminator 1
 3857 004c 8842     		cmp	r0, r1
 3858 004e 11D9     		bls	.L356
 3859              	.L353:
3150:Src/RTOS/tasks.c **** 		{
 3860              		.loc 1 3150 0 is_stmt 1
 3861 0050 9342     		cmp	r3, r2
 3862 0052 03D8     		bhi	.L359
3159:Src/RTOS/tasks.c **** 			xReturn = pdTRUE;
 3863              		.loc 1 3159 0
 3864 0054 0023     		movs	r3, #0
 3865 0056 2360     		str	r3, [r4]
 3866              	.LVL328:
3160:Src/RTOS/tasks.c **** 		}
 3867              		.loc 1 3160 0
 3868 0058 0124     		movs	r4, #1
 3869              	.LVL329:
 3870 005a 05E0     		b	.L352
 3871              	.LVL330:
 3872              	.L359:
3153:Src/RTOS/tasks.c **** 			vTaskInternalSetTimeOutState( pxTimeOut );
 3873              		.loc 1 3153 0
 3874 005c 9B1A     		subs	r3, r3, r2
 3875 005e 2360     		str	r3, [r4]
3154:Src/RTOS/tasks.c **** 			xReturn = pdFALSE;
 3876              		.loc 1 3154 0
 3877 0060 2846     		mov	r0, r5
 3878 0062 FFF7FEFF 		bl	vTaskInternalSetTimeOutState
 3879              	.LVL331:
3155:Src/RTOS/tasks.c **** 		}
 3880              		.loc 1 3155 0
 3881 0066 0024     		movs	r4, #0
 3882              	.LVL332:
 3883              	.L352:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 168


 3884              	.LBE187:
3163:Src/RTOS/tasks.c **** 
 3885              		.loc 1 3163 0
 3886 0068 FFF7FEFF 		bl	vPortExitCritical
 3887              	.LVL333:
3166:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3888              		.loc 1 3166 0
 3889 006c 2046     		mov	r0, r4
 3890 006e F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 3891              	.LVL334:
 3892              	.L355:
 3893              	.LBB188:
3136:Src/RTOS/tasks.c **** 			}
 3894              		.loc 1 3136 0
 3895 0070 0024     		movs	r4, #0
 3896              	.LVL335:
 3897 0072 F9E7     		b	.L352
 3898              	.LVL336:
 3899              	.L356:
3148:Src/RTOS/tasks.c **** 		}
 3900              		.loc 1 3148 0
 3901 0074 0124     		movs	r4, #1
 3902              	.LVL337:
 3903 0076 F7E7     		b	.L352
 3904              	.L361:
 3905              		.align	2
 3906              	.L360:
 3907 0078 00000000 		.word	.LANCHOR15
 3908 007c 00000000 		.word	.LANCHOR18
 3909              	.LBE188:
 3910              		.cfi_endproc
 3911              	.LFE37:
 3913              		.section	.text.vTaskMissedYield,"ax",%progbits
 3914              		.align	1
 3915              		.global	vTaskMissedYield
 3916              		.syntax unified
 3917              		.thumb
 3918              		.thumb_func
 3919              		.fpu fpv4-sp-d16
 3921              	vTaskMissedYield:
 3922              	.LFB38:
3170:Src/RTOS/tasks.c **** 	xYieldPending = pdTRUE;
 3923              		.loc 1 3170 0
 3924              		.cfi_startproc
 3925              		@ args = 0, pretend = 0, frame = 0
 3926              		@ frame_needed = 0, uses_anonymous_args = 0
 3927              		@ link register save eliminated.
3171:Src/RTOS/tasks.c **** }
 3928              		.loc 1 3171 0
 3929 0000 014B     		ldr	r3, .L363
 3930 0002 0122     		movs	r2, #1
 3931 0004 1A60     		str	r2, [r3]
3172:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 3932              		.loc 1 3172 0
 3933 0006 7047     		bx	lr
 3934              	.L364:
 3935              		.align	2
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 169


 3936              	.L363:
 3937 0008 00000000 		.word	.LANCHOR20
 3938              		.cfi_endproc
 3939              	.LFE38:
 3941              		.section	.text.uxTaskGetTaskNumber,"ax",%progbits
 3942              		.align	1
 3943              		.global	uxTaskGetTaskNumber
 3944              		.syntax unified
 3945              		.thumb
 3946              		.thumb_func
 3947              		.fpu fpv4-sp-d16
 3949              	uxTaskGetTaskNumber:
 3950              	.LFB39:
3178:Src/RTOS/tasks.c **** 	UBaseType_t uxReturn;
 3951              		.loc 1 3178 0
 3952              		.cfi_startproc
 3953              		@ args = 0, pretend = 0, frame = 0
 3954              		@ frame_needed = 0, uses_anonymous_args = 0
 3955              		@ link register save eliminated.
 3956              	.LVL338:
3182:Src/RTOS/tasks.c **** 		{
 3957              		.loc 1 3182 0
 3958 0000 08B1     		cbz	r0, .L367
 3959              	.LVL339:
3185:Src/RTOS/tasks.c **** 		}
 3960              		.loc 1 3185 0
 3961 0002 406C     		ldr	r0, [r0, #68]
 3962              	.LVL340:
 3963 0004 7047     		bx	lr
 3964              	.LVL341:
 3965              	.L367:
3189:Src/RTOS/tasks.c **** 		}
 3966              		.loc 1 3189 0
 3967 0006 0020     		movs	r0, #0
 3968              	.LVL342:
3193:Src/RTOS/tasks.c **** 
 3969              		.loc 1 3193 0
 3970 0008 7047     		bx	lr
 3971              		.cfi_endproc
 3972              	.LFE39:
 3974              		.section	.text.vTaskSetTaskNumber,"ax",%progbits
 3975              		.align	1
 3976              		.global	vTaskSetTaskNumber
 3977              		.syntax unified
 3978              		.thumb
 3979              		.thumb_func
 3980              		.fpu fpv4-sp-d16
 3982              	vTaskSetTaskNumber:
 3983              	.LFB40:
3201:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 3984              		.loc 1 3201 0
 3985              		.cfi_startproc
 3986              		@ args = 0, pretend = 0, frame = 0
 3987              		@ frame_needed = 0, uses_anonymous_args = 0
 3988              		@ link register save eliminated.
 3989              	.LVL343:
3204:Src/RTOS/tasks.c **** 		{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 170


 3990              		.loc 1 3204 0
 3991 0000 00B1     		cbz	r0, .L368
 3992              	.LVL344:
3207:Src/RTOS/tasks.c **** 		}
 3993              		.loc 1 3207 0
 3994 0002 4164     		str	r1, [r0, #68]
 3995              	.LVL345:
 3996              	.L368:
3209:Src/RTOS/tasks.c **** 
 3997              		.loc 1 3209 0
 3998 0004 7047     		bx	lr
 3999              		.cfi_endproc
 4000              	.LFE40:
 4002              		.section	.text.vTaskGetInfo,"ax",%progbits
 4003              		.align	1
 4004              		.global	vTaskGetInfo
 4005              		.syntax unified
 4006              		.thumb
 4007              		.thumb_func
 4008              		.fpu fpv4-sp-d16
 4010              	vTaskGetInfo:
 4011              	.LFB44:
3500:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 4012              		.loc 1 3500 0
 4013              		.cfi_startproc
 4014              		@ args = 0, pretend = 0, frame = 0
 4015              		@ frame_needed = 0, uses_anonymous_args = 0
 4016              	.LVL346:
 4017 0000 70B5     		push	{r4, r5, r6, lr}
 4018              	.LCFI40:
 4019              		.cfi_def_cfa_offset 16
 4020              		.cfi_offset 4, -16
 4021              		.cfi_offset 5, -12
 4022              		.cfi_offset 6, -8
 4023              		.cfi_offset 14, -4
 4024 0002 0C46     		mov	r4, r1
 4025 0004 1646     		mov	r6, r2
3504:Src/RTOS/tasks.c **** 
 4026              		.loc 1 3504 0
 4027 0006 0546     		mov	r5, r0
 4028 0008 D0B1     		cbz	r0, .L379
 4029              	.LVL347:
 4030              	.L371:
3506:Src/RTOS/tasks.c **** 		pxTaskStatus->pcTaskName = ( const char * ) &( pxTCB->pcTaskName [ 0 ] );
 4031              		.loc 1 3506 0 discriminator 4
 4032 000a 2560     		str	r5, [r4]
3507:Src/RTOS/tasks.c **** 		pxTaskStatus->uxCurrentPriority = pxTCB->uxPriority;
 4033              		.loc 1 3507 0 discriminator 4
 4034 000c 05F13402 		add	r2, r5, #52
 4035 0010 6260     		str	r2, [r4, #4]
3508:Src/RTOS/tasks.c **** 		pxTaskStatus->pxStackBase = pxTCB->pxStack;
 4036              		.loc 1 3508 0 discriminator 4
 4037 0012 EA6A     		ldr	r2, [r5, #44]
 4038 0014 2261     		str	r2, [r4, #16]
3509:Src/RTOS/tasks.c **** 		pxTaskStatus->xTaskNumber = pxTCB->uxTCBNumber;
 4039              		.loc 1 3509 0 discriminator 4
 4040 0016 2A6B     		ldr	r2, [r5, #48]
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 171


 4041 0018 E261     		str	r2, [r4, #28]
3510:Src/RTOS/tasks.c **** 
 4042              		.loc 1 3510 0 discriminator 4
 4043 001a 2A6C     		ldr	r2, [r5, #64]
 4044 001c A260     		str	r2, [r4, #8]
3514:Src/RTOS/tasks.c **** 		}
 4045              		.loc 1 3514 0 discriminator 4
 4046 001e AA6C     		ldr	r2, [r5, #72]
 4047 0020 6261     		str	r2, [r4, #20]
3528:Src/RTOS/tasks.c **** 		}
 4048              		.loc 1 3528 0 discriminator 4
 4049 0022 0022     		movs	r2, #0
 4050 0024 A261     		str	r2, [r4, #24]
3535:Src/RTOS/tasks.c **** 		{
 4051              		.loc 1 3535 0 discriminator 4
 4052 0026 052B     		cmp	r3, #5
 4053 0028 19D0     		beq	.L372
3537:Src/RTOS/tasks.c **** 			{
 4054              		.loc 1 3537 0
 4055 002a 124A     		ldr	r2, .L383
 4056 002c 1268     		ldr	r2, [r2]
 4057 002e AA42     		cmp	r2, r5
 4058 0030 09D0     		beq	.L380
3543:Src/RTOS/tasks.c **** 
 4059              		.loc 1 3543 0
 4060 0032 2373     		strb	r3, [r4, #12]
3550:Src/RTOS/tasks.c **** 					{
 4061              		.loc 1 3550 0
 4062 0034 032B     		cmp	r3, #3
 4063 0036 09D0     		beq	.L381
 4064              	.LVL348:
 4065              	.L374:
3572:Src/RTOS/tasks.c **** 		{
 4066              		.loc 1 3572 0
 4067 0038 B6B9     		cbnz	r6, .L382
3586:Src/RTOS/tasks.c **** 		}
 4068              		.loc 1 3586 0
 4069 003a 0023     		movs	r3, #0
 4070 003c 2384     		strh	r3, [r4, #32]	@ movhi
 4071              	.L370:
3588:Src/RTOS/tasks.c **** 
 4072              		.loc 1 3588 0
 4073 003e 70BD     		pop	{r4, r5, r6, pc}
 4074              	.LVL349:
 4075              	.L379:
3504:Src/RTOS/tasks.c **** 
 4076              		.loc 1 3504 0 discriminator 1
 4077 0040 0C4A     		ldr	r2, .L383
 4078              	.LVL350:
 4079 0042 1568     		ldr	r5, [r2]
 4080              	.LVL351:
 4081 0044 E1E7     		b	.L371
 4082              	.LVL352:
 4083              	.L380:
3539:Src/RTOS/tasks.c **** 			}
 4084              		.loc 1 3539 0
 4085 0046 0023     		movs	r3, #0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 172


 4086              	.LVL353:
 4087 0048 2373     		strb	r3, [r4, #12]
 4088 004a F5E7     		b	.L374
 4089              	.LVL354:
 4090              	.L381:
3552:Src/RTOS/tasks.c **** 						{
 4091              		.loc 1 3552 0
 4092 004c FFF7FEFF 		bl	vTaskSuspendAll
 4093              	.LVL355:
3554:Src/RTOS/tasks.c **** 							{
 4094              		.loc 1 3554 0
 4095 0050 AB6A     		ldr	r3, [r5, #40]
 4096 0052 0BB1     		cbz	r3, .L375
3556:Src/RTOS/tasks.c **** 							}
 4097              		.loc 1 3556 0
 4098 0054 0223     		movs	r3, #2
 4099 0056 2373     		strb	r3, [r4, #12]
 4100              	.L375:
3559:Src/RTOS/tasks.c **** 					}
 4101              		.loc 1 3559 0
 4102 0058 FFF7FEFF 		bl	xTaskResumeAll
 4103              	.LVL356:
 4104 005c ECE7     		b	.L374
 4105              	.LVL357:
 4106              	.L372:
3567:Src/RTOS/tasks.c **** 		}
 4107              		.loc 1 3567 0
 4108 005e 2846     		mov	r0, r5
 4109 0060 FFF7FEFF 		bl	eTaskGetState
 4110              	.LVL358:
 4111 0064 2073     		strb	r0, [r4, #12]
 4112 0066 E7E7     		b	.L374
 4113              	.L382:
3580:Src/RTOS/tasks.c **** 			}
 4114              		.loc 1 3580 0
 4115 0068 286B     		ldr	r0, [r5, #48]
 4116 006a FFF7FEFF 		bl	prvTaskCheckFreeStackSpace
 4117              	.LVL359:
 4118 006e 2084     		strh	r0, [r4, #32]	@ movhi
 4119 0070 E5E7     		b	.L370
 4120              	.L384:
 4121 0072 00BF     		.align	2
 4122              	.L383:
 4123 0074 00000000 		.word	.LANCHOR10
 4124              		.cfi_endproc
 4125              	.LFE44:
 4127              		.section	.text.prvListTasksWithinSingleList,"ax",%progbits
 4128              		.align	1
 4129              		.syntax unified
 4130              		.thumb
 4131              		.thumb_func
 4132              		.fpu fpv4-sp-d16
 4134              	prvListTasksWithinSingleList:
 4135              	.LFB45:
3596:Src/RTOS/tasks.c **** 	configLIST_VOLATILE TCB_t *pxNextTCB, *pxFirstTCB;
 4136              		.loc 1 3596 0
 4137              		.cfi_startproc
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 173


 4138              		@ args = 0, pretend = 0, frame = 0
 4139              		@ frame_needed = 0, uses_anonymous_args = 0
 4140              	.LVL360:
 4141 0000 2DE9F047 		push	{r4, r5, r6, r7, r8, r9, r10, lr}
 4142              	.LCFI41:
 4143              		.cfi_def_cfa_offset 32
 4144              		.cfi_offset 4, -32
 4145              		.cfi_offset 5, -28
 4146              		.cfi_offset 6, -24
 4147              		.cfi_offset 7, -20
 4148              		.cfi_offset 8, -16
 4149              		.cfi_offset 9, -12
 4150              		.cfi_offset 10, -8
 4151              		.cfi_offset 14, -4
 4152              	.LVL361:
3600:Src/RTOS/tasks.c **** 		{
 4153              		.loc 1 3600 0
 4154 0004 0B68     		ldr	r3, [r1]
 4155 0006 3BB3     		cbz	r3, .L390
 4156              	.LVL362:
 4157              	.LBB189:
3602:Src/RTOS/tasks.c **** 
 4158              		.loc 1 3602 0
 4159 0008 4B68     		ldr	r3, [r1, #4]
 4160 000a 5B68     		ldr	r3, [r3, #4]
 4161 000c 4B60     		str	r3, [r1, #4]
 4162 000e 01F10809 		add	r9, r1, #8
 4163 0012 4B45     		cmp	r3, r9
 4164 0014 07D0     		beq	.L392
 4165              	.L387:
 4166 0016 9046     		mov	r8, r2
 4167 0018 0C46     		mov	r4, r1
 4168 001a 0746     		mov	r7, r0
3602:Src/RTOS/tasks.c **** 
 4169              		.loc 1 3602 0 is_stmt 0 discriminator 3
 4170 001c 4B68     		ldr	r3, [r1, #4]
 4171 001e D3F80CA0 		ldr	r10, [r3, #12]
 4172              	.LVL363:
 4173              	.LBE189:
3598:Src/RTOS/tasks.c **** 
 4174              		.loc 1 3598 0 is_stmt 1 discriminator 3
 4175 0022 0025     		movs	r5, #0
 4176 0024 10E0     		b	.L389
 4177              	.LVL364:
 4178              	.L392:
 4179              	.LBB190:
3602:Src/RTOS/tasks.c **** 
 4180              		.loc 1 3602 0 discriminator 1
 4181 0026 5B68     		ldr	r3, [r3, #4]
 4182 0028 4B60     		str	r3, [r1, #4]
 4183 002a F4E7     		b	.L387
 4184              	.LVL365:
 4185              	.L388:
 4186              	.LBE190:
 4187              	.LBB191:
3610:Src/RTOS/tasks.c **** 				vTaskGetInfo( ( TaskHandle_t ) pxNextTCB, &( pxTaskStatusArray[ uxTask ] ), pdTRUE, eState );
 4188              		.loc 1 3610 0 discriminator 3
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 174


 4189 002c 6368     		ldr	r3, [r4, #4]
 4190 002e DE68     		ldr	r6, [r3, #12]
 4191              	.LVL366:
 4192              	.LBE191:
3611:Src/RTOS/tasks.c **** 				uxTask++;
 4193              		.loc 1 3611 0 discriminator 3
 4194 0030 05EBC503 		add	r3, r5, r5, lsl #3
 4195 0034 9900     		lsls	r1, r3, #2
 4196 0036 4346     		mov	r3, r8
 4197 0038 0122     		movs	r2, #1
 4198 003a 3944     		add	r1, r1, r7
 4199 003c 3046     		mov	r0, r6
 4200 003e FFF7FEFF 		bl	vTaskGetInfo
 4201              	.LVL367:
3612:Src/RTOS/tasks.c **** 			} while( pxNextTCB != pxFirstTCB );
 4202              		.loc 1 3612 0 discriminator 3
 4203 0042 0135     		adds	r5, r5, #1
 4204              	.LVL368:
3613:Src/RTOS/tasks.c **** 		}
 4205              		.loc 1 3613 0 discriminator 3
 4206 0044 B245     		cmp	r10, r6
 4207 0046 08D0     		beq	.L385
 4208              	.LVL369:
 4209              	.L389:
 4210              	.LBB192:
3610:Src/RTOS/tasks.c **** 				vTaskGetInfo( ( TaskHandle_t ) pxNextTCB, &( pxTaskStatusArray[ uxTask ] ), pdTRUE, eState );
 4211              		.loc 1 3610 0
 4212 0048 6368     		ldr	r3, [r4, #4]
 4213 004a 5B68     		ldr	r3, [r3, #4]
 4214 004c 6360     		str	r3, [r4, #4]
 4215 004e 9945     		cmp	r9, r3
 4216 0050 ECD1     		bne	.L388
3610:Src/RTOS/tasks.c **** 				vTaskGetInfo( ( TaskHandle_t ) pxNextTCB, &( pxTaskStatusArray[ uxTask ] ), pdTRUE, eState );
 4217              		.loc 1 3610 0 is_stmt 0 discriminator 1
 4218 0052 5B68     		ldr	r3, [r3, #4]
 4219 0054 6360     		str	r3, [r4, #4]
 4220 0056 E9E7     		b	.L388
 4221              	.LVL370:
 4222              	.L390:
 4223              	.LBE192:
3598:Src/RTOS/tasks.c **** 
 4224              		.loc 1 3598 0 is_stmt 1
 4225 0058 0025     		movs	r5, #0
 4226              	.LVL371:
 4227              	.L385:
3621:Src/RTOS/tasks.c **** 
 4228              		.loc 1 3621 0
 4229 005a 2846     		mov	r0, r5
 4230 005c BDE8F087 		pop	{r4, r5, r6, r7, r8, r9, r10, pc}
 4231              		.cfi_endproc
 4232              	.LFE45:
 4234              		.section	.text.uxTaskGetSystemState,"ax",%progbits
 4235              		.align	1
 4236              		.global	uxTaskGetSystemState
 4237              		.syntax unified
 4238              		.thumb
 4239              		.thumb_func
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 175


 4240              		.fpu fpv4-sp-d16
 4242              	uxTaskGetSystemState:
 4243              	.LFB27:
2410:Src/RTOS/tasks.c **** 	UBaseType_t uxTask = 0, uxQueue = configMAX_PRIORITIES;
 4244              		.loc 1 2410 0
 4245              		.cfi_startproc
 4246              		@ args = 0, pretend = 0, frame = 0
 4247              		@ frame_needed = 0, uses_anonymous_args = 0
 4248              	.LVL372:
 4249 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 4250              	.LCFI42:
 4251              		.cfi_def_cfa_offset 24
 4252              		.cfi_offset 3, -24
 4253              		.cfi_offset 4, -20
 4254              		.cfi_offset 5, -16
 4255              		.cfi_offset 6, -12
 4256              		.cfi_offset 7, -8
 4257              		.cfi_offset 14, -4
 4258 0002 0746     		mov	r7, r0
 4259 0004 0C46     		mov	r4, r1
 4260 0006 1646     		mov	r6, r2
 4261              	.LVL373:
2413:Src/RTOS/tasks.c **** 		{
 4262              		.loc 1 2413 0
 4263 0008 FFF7FEFF 		bl	vTaskSuspendAll
 4264              	.LVL374:
2416:Src/RTOS/tasks.c **** 			{
 4265              		.loc 1 2416 0
 4266 000c 224B     		ldr	r3, .L398
 4267 000e 1B68     		ldr	r3, [r3]
 4268 0010 A342     		cmp	r3, r4
 4269 0012 3BD8     		bhi	.L396
2411:Src/RTOS/tasks.c **** 
 4270              		.loc 1 2411 0
 4271 0014 0525     		movs	r5, #5
 4272 0016 0024     		movs	r4, #0
 4273              	.LVL375:
 4274              	.L395:
2422:Src/RTOS/tasks.c **** 					uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), &( pxReadyTasksLists
 4275              		.loc 1 2422 0 discriminator 1
 4276 0018 013D     		subs	r5, r5, #1
 4277              	.LVL376:
2423:Src/RTOS/tasks.c **** 
 4278              		.loc 1 2423 0 discriminator 1
 4279 001a 04EBC403 		add	r3, r4, r4, lsl #3
 4280 001e 9800     		lsls	r0, r3, #2
 4281 0020 05EB8502 		add	r2, r5, r5, lsl #2
 4282 0024 9300     		lsls	r3, r2, #2
 4283 0026 0122     		movs	r2, #1
 4284 0028 1C49     		ldr	r1, .L398+4
 4285 002a 1944     		add	r1, r1, r3
 4286 002c 3844     		add	r0, r0, r7
 4287 002e FFF7FEFF 		bl	prvListTasksWithinSingleList
 4288              	.LVL377:
 4289 0032 0444     		add	r4, r4, r0
 4290              	.LVL378:
2425:Src/RTOS/tasks.c **** 
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 176


 4291              		.loc 1 2425 0 discriminator 1
 4292 0034 002D     		cmp	r5, #0
 4293 0036 EFD1     		bne	.L395
2429:Src/RTOS/tasks.c **** 				uxTask += prvListTasksWithinSingleList( &( pxTaskStatusArray[ uxTask ] ), ( List_t * ) pxOverfl
 4294              		.loc 1 2429 0
 4295 0038 04EBC403 		add	r3, r4, r4, lsl #3
 4296 003c 9800     		lsls	r0, r3, #2
 4297 003e 184B     		ldr	r3, .L398+8
 4298 0040 1968     		ldr	r1, [r3]
 4299 0042 0222     		movs	r2, #2
 4300 0044 3844     		add	r0, r0, r7
 4301 0046 FFF7FEFF 		bl	prvListTasksWithinSingleList
 4302              	.LVL379:
 4303 004a 0444     		add	r4, r4, r0
 4304              	.LVL380:
2430:Src/RTOS/tasks.c **** 
 4305              		.loc 1 2430 0
 4306 004c 04EBC403 		add	r3, r4, r4, lsl #3
 4307 0050 9800     		lsls	r0, r3, #2
 4308 0052 144B     		ldr	r3, .L398+12
 4309 0054 1968     		ldr	r1, [r3]
 4310 0056 0222     		movs	r2, #2
 4311 0058 3844     		add	r0, r0, r7
 4312 005a FFF7FEFF 		bl	prvListTasksWithinSingleList
 4313              	.LVL381:
 4314 005e 0444     		add	r4, r4, r0
 4315              	.LVL382:
2436:Src/RTOS/tasks.c **** 				}
 4316              		.loc 1 2436 0
 4317 0060 04EBC403 		add	r3, r4, r4, lsl #3
 4318 0064 9800     		lsls	r0, r3, #2
 4319 0066 0422     		movs	r2, #4
 4320 0068 0F49     		ldr	r1, .L398+16
 4321 006a 3844     		add	r0, r0, r7
 4322 006c FFF7FEFF 		bl	prvListTasksWithinSingleList
 4323              	.LVL383:
 4324 0070 0444     		add	r4, r4, r0
 4325              	.LVL384:
2444:Src/RTOS/tasks.c **** 				}
 4326              		.loc 1 2444 0
 4327 0072 04EBC403 		add	r3, r4, r4, lsl #3
 4328 0076 9800     		lsls	r0, r3, #2
 4329 0078 0322     		movs	r2, #3
 4330 007a 0C49     		ldr	r1, .L398+20
 4331 007c 3844     		add	r0, r0, r7
 4332 007e FFF7FEFF 		bl	prvListTasksWithinSingleList
 4333              	.LVL385:
 4334 0082 0444     		add	r4, r4, r0
 4335              	.LVL386:
2461:Src/RTOS/tasks.c **** 					{
 4336              		.loc 1 2461 0
 4337 0084 1EB1     		cbz	r6, .L394
2463:Src/RTOS/tasks.c **** 					}
 4338              		.loc 1 2463 0
 4339 0086 0023     		movs	r3, #0
 4340 0088 3360     		str	r3, [r6]
 4341 008a 00E0     		b	.L394
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 177


 4342              	.LVL387:
 4343              	.L396:
2411:Src/RTOS/tasks.c **** 
 4344              		.loc 1 2411 0
 4345 008c 0024     		movs	r4, #0
 4346              	.LVL388:
 4347              	.L394:
2473:Src/RTOS/tasks.c **** 
 4348              		.loc 1 2473 0
 4349 008e FFF7FEFF 		bl	xTaskResumeAll
 4350              	.LVL389:
2476:Src/RTOS/tasks.c **** 
 4351              		.loc 1 2476 0
 4352 0092 2046     		mov	r0, r4
 4353 0094 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 4354              	.LVL390:
 4355              	.L399:
 4356 0096 00BF     		.align	2
 4357              	.L398:
 4358 0098 00000000 		.word	.LANCHOR9
 4359 009c 00000000 		.word	.LANCHOR4
 4360 00a0 00000000 		.word	.LANCHOR2
 4361 00a4 00000000 		.word	.LANCHOR8
 4362 00a8 00000000 		.word	.LANCHOR7
 4363 00ac 00000000 		.word	.LANCHOR0
 4364              		.cfi_endproc
 4365              	.LFE27:
 4367              		.section	.text.xTaskGetCurrentTaskHandle,"ax",%progbits
 4368              		.align	1
 4369              		.global	xTaskGetCurrentTaskHandle
 4370              		.syntax unified
 4371              		.thumb
 4372              		.thumb_func
 4373              		.fpu fpv4-sp-d16
 4375              	xTaskGetCurrentTaskHandle:
 4376              	.LFB49:
3757:Src/RTOS/tasks.c **** 	TaskHandle_t xReturn;
 4377              		.loc 1 3757 0
 4378              		.cfi_startproc
 4379              		@ args = 0, pretend = 0, frame = 0
 4380              		@ frame_needed = 0, uses_anonymous_args = 0
 4381              		@ link register save eliminated.
3763:Src/RTOS/tasks.c **** 
 4382              		.loc 1 3763 0
 4383 0000 014B     		ldr	r3, .L401
 4384 0002 1868     		ldr	r0, [r3]
 4385              	.LVL391:
3766:Src/RTOS/tasks.c **** 
 4386              		.loc 1 3766 0
 4387 0004 7047     		bx	lr
 4388              	.L402:
 4389 0006 00BF     		.align	2
 4390              	.L401:
 4391 0008 00000000 		.word	.LANCHOR10
 4392              		.cfi_endproc
 4393              	.LFE49:
 4395              		.section	.text.xTaskGetSchedulerState,"ax",%progbits
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 178


 4396              		.align	1
 4397              		.global	xTaskGetSchedulerState
 4398              		.syntax unified
 4399              		.thumb
 4400              		.thumb_func
 4401              		.fpu fpv4-sp-d16
 4403              	xTaskGetSchedulerState:
 4404              	.LFB50:
3774:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
 4405              		.loc 1 3774 0
 4406              		.cfi_startproc
 4407              		@ args = 0, pretend = 0, frame = 0
 4408              		@ frame_needed = 0, uses_anonymous_args = 0
 4409              		@ link register save eliminated.
3777:Src/RTOS/tasks.c **** 		{
 4410              		.loc 1 3777 0
 4411 0000 054B     		ldr	r3, .L408
 4412 0002 1B68     		ldr	r3, [r3]
 4413 0004 33B1     		cbz	r3, .L405
3783:Src/RTOS/tasks.c **** 			{
 4414              		.loc 1 3783 0
 4415 0006 054B     		ldr	r3, .L408+4
 4416 0008 1B68     		ldr	r3, [r3]
 4417 000a 0BB1     		cbz	r3, .L407
3789:Src/RTOS/tasks.c **** 			}
 4418              		.loc 1 3789 0
 4419 000c 0020     		movs	r0, #0
 4420              	.LVL392:
3794:Src/RTOS/tasks.c **** 
 4421              		.loc 1 3794 0
 4422 000e 7047     		bx	lr
 4423              	.LVL393:
 4424              	.L407:
3785:Src/RTOS/tasks.c **** 			}
 4425              		.loc 1 3785 0
 4426 0010 0220     		movs	r0, #2
 4427 0012 7047     		bx	lr
 4428              	.L405:
3779:Src/RTOS/tasks.c **** 		}
 4429              		.loc 1 3779 0
 4430 0014 0120     		movs	r0, #1
 4431 0016 7047     		bx	lr
 4432              	.L409:
 4433              		.align	2
 4434              	.L408:
 4435 0018 00000000 		.word	.LANCHOR11
 4436 001c 00000000 		.word	.LANCHOR16
 4437              		.cfi_endproc
 4438              	.LFE50:
 4440              		.section	.text.xTaskPriorityInherit,"ax",%progbits
 4441              		.align	1
 4442              		.global	xTaskPriorityInherit
 4443              		.syntax unified
 4444              		.thumb
 4445              		.thumb_func
 4446              		.fpu fpv4-sp-d16
 4448              	xTaskPriorityInherit:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 179


 4449              	.LFB51:
3802:Src/RTOS/tasks.c **** 	TCB_t * const pxMutexHolderTCB = ( TCB_t * ) pxMutexHolder;
 4450              		.loc 1 3802 0
 4451              		.cfi_startproc
 4452              		@ args = 0, pretend = 0, frame = 0
 4453              		@ frame_needed = 0, uses_anonymous_args = 0
 4454              	.LVL394:
3809:Src/RTOS/tasks.c **** 		{
 4455              		.loc 1 3809 0
 4456 0000 0028     		cmp	r0, #0
 4457 0002 50D0     		beq	.L417
3802:Src/RTOS/tasks.c **** 	TCB_t * const pxMutexHolderTCB = ( TCB_t * ) pxMutexHolder;
 4458              		.loc 1 3802 0
 4459 0004 38B5     		push	{r3, r4, r5, lr}
 4460              	.LCFI43:
 4461              		.cfi_def_cfa_offset 16
 4462              		.cfi_offset 3, -16
 4463              		.cfi_offset 4, -12
 4464              		.cfi_offset 5, -8
 4465              		.cfi_offset 14, -4
 4466 0006 0446     		mov	r4, r0
3814:Src/RTOS/tasks.c **** 			{
 4467              		.loc 1 3814 0
 4468 0008 C26A     		ldr	r2, [r0, #44]
 4469 000a 2849     		ldr	r1, .L425
 4470 000c 0968     		ldr	r1, [r1]
 4471 000e C96A     		ldr	r1, [r1, #44]
 4472 0010 8A42     		cmp	r2, r1
 4473 0012 3ED2     		bcs	.L412
3819:Src/RTOS/tasks.c **** 				{
 4474              		.loc 1 3819 0
 4475 0014 8169     		ldr	r1, [r0, #24]
 4476 0016 0029     		cmp	r1, #0
 4477 0018 05DB     		blt	.L413
3821:Src/RTOS/tasks.c **** 				}
 4478              		.loc 1 3821 0
 4479 001a 2449     		ldr	r1, .L425
 4480 001c 0968     		ldr	r1, [r1]
 4481 001e C96A     		ldr	r1, [r1, #44]
 4482 0020 C1F10501 		rsb	r1, r1, #5
 4483 0024 8161     		str	r1, [r0, #24]
 4484              	.L413:
3830:Src/RTOS/tasks.c **** 				{
 4485              		.loc 1 3830 0
 4486 0026 6069     		ldr	r0, [r4, #20]
 4487              	.LVL395:
 4488 0028 02EB8202 		add	r2, r2, r2, lsl #2
 4489 002c 9100     		lsls	r1, r2, #2
 4490 002e 204A     		ldr	r2, .L425+4
 4491 0030 0A44     		add	r2, r2, r1
 4492 0032 9042     		cmp	r0, r2
 4493 0034 05D0     		beq	.L423
3848:Src/RTOS/tasks.c **** 				}
 4494              		.loc 1 3848 0
 4495 0036 1D4A     		ldr	r2, .L425
 4496 0038 1268     		ldr	r2, [r2]
 4497 003a D26A     		ldr	r2, [r2, #44]
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 180


 4498 003c E262     		str	r2, [r4, #44]
3854:Src/RTOS/tasks.c **** 			}
 4499              		.loc 1 3854 0
 4500 003e 0120     		movs	r0, #1
 4501              	.LVL396:
 4502              	.L410:
3881:Src/RTOS/tasks.c **** 
 4503              		.loc 1 3881 0
 4504 0040 38BD     		pop	{r3, r4, r5, pc}
 4505              	.LVL397:
 4506              	.L423:
3832:Src/RTOS/tasks.c **** 					{
 4507              		.loc 1 3832 0
 4508 0042 251D     		adds	r5, r4, #4
 4509 0044 2846     		mov	r0, r5
 4510 0046 FFF7FEFF 		bl	uxListRemove
 4511              	.LVL398:
 4512 004a 68B9     		cbnz	r0, .L416
3834:Src/RTOS/tasks.c **** 					}
 4513              		.loc 1 3834 0
 4514 004c E36A     		ldr	r3, [r4, #44]
 4515 004e 03EB8301 		add	r1, r3, r3, lsl #2
 4516 0052 8A00     		lsls	r2, r1, #2
 4517 0054 1649     		ldr	r1, .L425+4
 4518 0056 8A58     		ldr	r2, [r1, r2]
 4519 0058 32B9     		cbnz	r2, .L416
3834:Src/RTOS/tasks.c **** 					}
 4520              		.loc 1 3834 0 is_stmt 0 discriminator 1
 4521 005a 0122     		movs	r2, #1
 4522 005c 9A40     		lsls	r2, r2, r3
 4523 005e 1549     		ldr	r1, .L425+8
 4524 0060 0B68     		ldr	r3, [r1]
 4525 0062 23EA0203 		bic	r3, r3, r2
 4526 0066 0B60     		str	r3, [r1]
 4527              	.L416:
3842:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxMutexHolderTCB );
 4528              		.loc 1 3842 0 is_stmt 1
 4529 0068 104B     		ldr	r3, .L425
 4530 006a 1B68     		ldr	r3, [r3]
 4531 006c DB6A     		ldr	r3, [r3, #44]
 4532 006e E362     		str	r3, [r4, #44]
3843:Src/RTOS/tasks.c **** 				}
 4533              		.loc 1 3843 0
 4534 0070 0124     		movs	r4, #1
 4535              	.LVL399:
 4536 0072 04FA03F2 		lsl	r2, r4, r3
 4537 0076 0F49     		ldr	r1, .L425+8
 4538 0078 0868     		ldr	r0, [r1]
 4539 007a 0243     		orrs	r2, r2, r0
 4540 007c 0A60     		str	r2, [r1]
 4541 007e 03EB8303 		add	r3, r3, r3, lsl #2
 4542 0082 9A00     		lsls	r2, r3, #2
 4543 0084 2946     		mov	r1, r5
 4544 0086 0A48     		ldr	r0, .L425+4
 4545 0088 1044     		add	r0, r0, r2
 4546 008a FFF7FEFF 		bl	vListInsertEnd
 4547              	.LVL400:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 181


3854:Src/RTOS/tasks.c **** 			}
 4548              		.loc 1 3854 0
 4549 008e 2046     		mov	r0, r4
 4550 0090 D6E7     		b	.L410
 4551              	.LVL401:
 4552              	.L412:
3858:Src/RTOS/tasks.c **** 				{
 4553              		.loc 1 3858 0
 4554 0092 826C     		ldr	r2, [r0, #72]
 4555 0094 054B     		ldr	r3, .L425
 4556 0096 1B68     		ldr	r3, [r3]
 4557 0098 DB6A     		ldr	r3, [r3, #44]
 4558 009a 9A42     		cmp	r2, r3
 4559 009c 01D2     		bcs	.L424
3867:Src/RTOS/tasks.c **** 				}
 4560              		.loc 1 3867 0
 4561 009e 0120     		movs	r0, #1
 4562              	.LVL402:
3880:Src/RTOS/tasks.c **** 	}
 4563              		.loc 1 3880 0
 4564 00a0 CEE7     		b	.L410
 4565              	.LVL403:
 4566              	.L424:
3804:Src/RTOS/tasks.c **** 
 4567              		.loc 1 3804 0
 4568 00a2 0020     		movs	r0, #0
 4569              	.LVL404:
 4570 00a4 CCE7     		b	.L410
 4571              	.LVL405:
 4572              	.L417:
 4573              	.LCFI44:
 4574              		.cfi_def_cfa_offset 0
 4575              		.cfi_restore 3
 4576              		.cfi_restore 4
 4577              		.cfi_restore 5
 4578              		.cfi_restore 14
 4579 00a6 0020     		movs	r0, #0
 4580              	.LVL406:
3881:Src/RTOS/tasks.c **** 
 4581              		.loc 1 3881 0
 4582 00a8 7047     		bx	lr
 4583              	.L426:
 4584 00aa 00BF     		.align	2
 4585              	.L425:
 4586 00ac 00000000 		.word	.LANCHOR10
 4587 00b0 00000000 		.word	.LANCHOR4
 4588 00b4 00000000 		.word	.LANCHOR13
 4589              		.cfi_endproc
 4590              	.LFE51:
 4592              		.section	.text.xTaskPriorityDisinherit,"ax",%progbits
 4593              		.align	1
 4594              		.global	xTaskPriorityDisinherit
 4595              		.syntax unified
 4596              		.thumb
 4597              		.thumb_func
 4598              		.fpu fpv4-sp-d16
 4600              	xTaskPriorityDisinherit:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 182


 4601              	.LFB52:
3889:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
 4602              		.loc 1 3889 0
 4603              		.cfi_startproc
 4604              		@ args = 0, pretend = 0, frame = 0
 4605              		@ frame_needed = 0, uses_anonymous_args = 0
 4606              	.LVL407:
3893:Src/RTOS/tasks.c **** 		{
 4607              		.loc 1 3893 0
 4608 0000 0028     		cmp	r0, #0
 4609 0002 49D0     		beq	.L434
3889:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
 4610              		.loc 1 3889 0
 4611 0004 38B5     		push	{r3, r4, r5, lr}
 4612              	.LCFI45:
 4613              		.cfi_def_cfa_offset 16
 4614              		.cfi_offset 3, -16
 4615              		.cfi_offset 4, -12
 4616              		.cfi_offset 5, -8
 4617              		.cfi_offset 14, -4
 4618 0006 0446     		mov	r4, r0
3899:Src/RTOS/tasks.c **** 			configASSERT( pxTCB->uxMutexesHeld );
 4619              		.loc 1 3899 0
 4620 0008 264A     		ldr	r2, .L441
 4621 000a 1268     		ldr	r2, [r2]
 4622 000c 8242     		cmp	r2, r0
 4623 000e 08D0     		beq	.L429
 4624              	.LBB193:
 4625              	.LBB194:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 4626              		.loc 2 195 0
 4627              		.syntax unified
 4628              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 4629 0010 4FF05003 			mov r3, #80												
 4630 0014 83F31188 		msr basepri, r3											
 4631 0018 BFF36F8F 		isb														
 4632 001c BFF34F8F 		dsb														
 4633              	
 4634              	@ 0 "" 2
 4635              	.LVL408:
 4636              		.thumb
 4637              		.syntax unified
 4638              	.L430:
 4639 0020 FEE7     		b	.L430
 4640              	.L429:
 4641              	.LBE194:
 4642              	.LBE193:
3900:Src/RTOS/tasks.c **** 			( pxTCB->uxMutexesHeld )--;
 4643              		.loc 1 3900 0
 4644 0022 C26C     		ldr	r2, [r0, #76]
 4645 0024 42B9     		cbnz	r2, .L431
 4646              	.LBB195:
 4647              	.LBB196:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 4648              		.loc 2 195 0
 4649              		.syntax unified
 4650              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 183


 4651 0026 4FF05003 			mov r3, #80												
 4652 002a 83F31188 		msr basepri, r3											
 4653 002e BFF36F8F 		isb														
 4654 0032 BFF34F8F 		dsb														
 4655              	
 4656              	@ 0 "" 2
 4657              	.LVL409:
 4658              		.thumb
 4659              		.syntax unified
 4660              	.L432:
 4661 0036 FEE7     		b	.L432
 4662              	.L431:
 4663              	.LBE196:
 4664              	.LBE195:
3901:Src/RTOS/tasks.c **** 
 4665              		.loc 1 3901 0
 4666 0038 013A     		subs	r2, r2, #1
 4667 003a C264     		str	r2, [r0, #76]
3905:Src/RTOS/tasks.c **** 			{
 4668              		.loc 1 3905 0
 4669 003c C06A     		ldr	r0, [r0, #44]
 4670              	.LVL410:
 4671 003e A16C     		ldr	r1, [r4, #72]
 4672 0040 8842     		cmp	r0, r1
 4673 0042 2BD0     		beq	.L435
3908:Src/RTOS/tasks.c **** 				{
 4674              		.loc 1 3908 0
 4675 0044 62BB     		cbnz	r2, .L436
3915:Src/RTOS/tasks.c **** 					{
 4676              		.loc 1 3915 0
 4677 0046 251D     		adds	r5, r4, #4
 4678 0048 2846     		mov	r0, r5
 4679 004a FFF7FEFF 		bl	uxListRemove
 4680              	.LVL411:
 4681 004e 70B9     		cbnz	r0, .L433
3917:Src/RTOS/tasks.c **** 					}
 4682              		.loc 1 3917 0
 4683 0050 E26A     		ldr	r2, [r4, #44]
 4684 0052 1423     		movs	r3, #20
 4685 0054 03FB02F3 		mul	r3, r3, r2
 4686 0058 1349     		ldr	r1, .L441+4
 4687 005a CB58     		ldr	r3, [r1, r3]
 4688 005c 3BB9     		cbnz	r3, .L433
3917:Src/RTOS/tasks.c **** 					}
 4689              		.loc 1 3917 0 is_stmt 0 discriminator 1
 4690 005e 0123     		movs	r3, #1
 4691 0060 03FA02F2 		lsl	r2, r3, r2
 4692 0064 1149     		ldr	r1, .L441+8
 4693 0066 0B68     		ldr	r3, [r1]
 4694 0068 23EA0203 		bic	r3, r3, r2
 4695 006c 0B60     		str	r3, [r1]
 4696              	.L433:
3927:Src/RTOS/tasks.c **** 
 4697              		.loc 1 3927 0 is_stmt 1
 4698 006e A36C     		ldr	r3, [r4, #72]
 4699 0070 E362     		str	r3, [r4, #44]
3932:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 184


 4700              		.loc 1 3932 0
 4701 0072 C3F10502 		rsb	r2, r3, #5
 4702 0076 A261     		str	r2, [r4, #24]
3933:Src/RTOS/tasks.c **** 
 4703              		.loc 1 3933 0
 4704 0078 0124     		movs	r4, #1
 4705              	.LVL412:
 4706 007a 04FA03F2 		lsl	r2, r4, r3
 4707 007e 0B49     		ldr	r1, .L441+8
 4708 0080 0868     		ldr	r0, [r1]
 4709 0082 0243     		orrs	r2, r2, r0
 4710 0084 0A60     		str	r2, [r1]
 4711 0086 2946     		mov	r1, r5
 4712 0088 074A     		ldr	r2, .L441+4
 4713 008a 1420     		movs	r0, #20
 4714 008c 00FB0320 		mla	r0, r0, r3, r2
 4715 0090 FFF7FEFF 		bl	vListInsertEnd
 4716              	.LVL413:
3943:Src/RTOS/tasks.c **** 				}
 4717              		.loc 1 3943 0
 4718 0094 2046     		mov	r0, r4
 4719              	.LVL414:
 4720              	.L427:
3961:Src/RTOS/tasks.c **** 
 4721              		.loc 1 3961 0
 4722 0096 38BD     		pop	{r3, r4, r5, pc}
 4723              	.LVL415:
 4724              	.L434:
 4725              	.LCFI46:
 4726              		.cfi_def_cfa_offset 0
 4727              		.cfi_restore 3
 4728              		.cfi_restore 4
 4729              		.cfi_restore 5
 4730              		.cfi_restore 14
3891:Src/RTOS/tasks.c **** 
 4731              		.loc 1 3891 0
 4732 0098 0020     		movs	r0, #0
 4733              	.LVL416:
3961:Src/RTOS/tasks.c **** 
 4734              		.loc 1 3961 0
 4735 009a 7047     		bx	lr
 4736              	.LVL417:
 4737              	.L435:
 4738              	.LCFI47:
 4739              		.cfi_def_cfa_offset 16
 4740              		.cfi_offset 3, -16
 4741              		.cfi_offset 4, -12
 4742              		.cfi_offset 5, -8
 4743              		.cfi_offset 14, -4
3891:Src/RTOS/tasks.c **** 
 4744              		.loc 1 3891 0
 4745 009c 0020     		movs	r0, #0
 4746 009e FAE7     		b	.L427
 4747              	.L436:
 4748 00a0 0020     		movs	r0, #0
3960:Src/RTOS/tasks.c **** 	}
 4749              		.loc 1 3960 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 185


 4750 00a2 F8E7     		b	.L427
 4751              	.L442:
 4752              		.align	2
 4753              	.L441:
 4754 00a4 00000000 		.word	.LANCHOR10
 4755 00a8 00000000 		.word	.LANCHOR4
 4756 00ac 00000000 		.word	.LANCHOR13
 4757              		.cfi_endproc
 4758              	.LFE52:
 4760              		.section	.text.vTaskPriorityDisinheritAfterTimeout,"ax",%progbits
 4761              		.align	1
 4762              		.global	vTaskPriorityDisinheritAfterTimeout
 4763              		.syntax unified
 4764              		.thumb
 4765              		.thumb_func
 4766              		.fpu fpv4-sp-d16
 4768              	vTaskPriorityDisinheritAfterTimeout:
 4769              	.LFB53:
3969:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
 4770              		.loc 1 3969 0
 4771              		.cfi_startproc
 4772              		@ args = 0, pretend = 0, frame = 0
 4773              		@ frame_needed = 0, uses_anonymous_args = 0
 4774              	.LVL418:
3974:Src/RTOS/tasks.c **** 		{
 4775              		.loc 1 3974 0
 4776 0000 0028     		cmp	r0, #0
 4777 0002 55D0     		beq	.L453
3969:Src/RTOS/tasks.c **** 	TCB_t * const pxTCB = ( TCB_t * ) pxMutexHolder;
 4778              		.loc 1 3969 0
 4779 0004 38B5     		push	{r3, r4, r5, lr}
 4780              	.LCFI48:
 4781              		.cfi_def_cfa_offset 16
 4782              		.cfi_offset 3, -16
 4783              		.cfi_offset 4, -12
 4784              		.cfi_offset 5, -8
 4785              		.cfi_offset 14, -4
 4786 0006 0346     		mov	r3, r0
3978:Src/RTOS/tasks.c **** 
 4787              		.loc 1 3978 0
 4788 0008 C06C     		ldr	r0, [r0, #76]
 4789              	.LVL419:
 4790 000a 40B9     		cbnz	r0, .L445
 4791              	.LBB197:
 4792              	.LBB198:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 4793              		.loc 2 195 0
 4794              		.syntax unified
 4795              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 4796 000c 4FF05003 			mov r3, #80												
 4797 0010 83F31188 		msr basepri, r3											
 4798 0014 BFF36F8F 		isb														
 4799 0018 BFF34F8F 		dsb														
 4800              	
 4801              	@ 0 "" 2
 4802              	.LVL420:
 4803              		.thumb
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 186


 4804              		.syntax unified
 4805              	.L446:
 4806 001c FEE7     		b	.L446
 4807              	.LVL421:
 4808              	.L445:
 4809              	.LBE198:
 4810              	.LBE197:
3984:Src/RTOS/tasks.c **** 			{
 4811              		.loc 1 3984 0
 4812 001e 9A6C     		ldr	r2, [r3, #72]
 4813 0020 8A42     		cmp	r2, r1
 4814 0022 00D2     		bcs	.L447
3986:Src/RTOS/tasks.c **** 			}
 4815              		.loc 1 3986 0
 4816 0024 0A46     		mov	r2, r1
 4817              	.L447:
 4818              	.LVL422:
3994:Src/RTOS/tasks.c **** 			{
 4819              		.loc 1 3994 0
 4820 0026 D96A     		ldr	r1, [r3, #44]
 4821              	.LVL423:
 4822 0028 9142     		cmp	r1, r2
 4823 002a 01D0     		beq	.L443
4000:Src/RTOS/tasks.c **** 				{
 4824              		.loc 1 4000 0
 4825 002c 0128     		cmp	r0, #1
 4826 002e 00D0     		beq	.L456
 4827              	.LVL424:
 4828              	.L443:
4063:Src/RTOS/tasks.c **** 
 4829              		.loc 1 4063 0
 4830 0030 38BD     		pop	{r3, r4, r5, pc}
 4831              	.LVL425:
 4832              	.L456:
4005:Src/RTOS/tasks.c **** 
 4833              		.loc 1 4005 0
 4834 0032 2048     		ldr	r0, .L457
 4835 0034 0068     		ldr	r0, [r0]
 4836 0036 9842     		cmp	r0, r3
 4837 0038 08D1     		bne	.L448
 4838              	.LBB199:
 4839              	.LBB200:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 4840              		.loc 2 195 0
 4841              		.syntax unified
 4842              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 4843 003a 4FF05003 			mov r3, #80												
 4844 003e 83F31188 		msr basepri, r3											
 4845 0042 BFF36F8F 		isb														
 4846 0046 BFF34F8F 		dsb														
 4847              	
 4848              	@ 0 "" 2
 4849              	.LVL426:
 4850              		.thumb
 4851              		.syntax unified
 4852              	.L449:
 4853 004a FEE7     		b	.L449
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 187


 4854              	.LVL427:
 4855              	.L448:
 4856              	.LBE200:
 4857              	.LBE199:
4012:Src/RTOS/tasks.c **** 
 4858              		.loc 1 4012 0
 4859 004c DA62     		str	r2, [r3, #44]
4016:Src/RTOS/tasks.c **** 					{
 4860              		.loc 1 4016 0
 4861 004e 9869     		ldr	r0, [r3, #24]
 4862 0050 0028     		cmp	r0, #0
 4863 0052 02DB     		blt	.L450
4018:Src/RTOS/tasks.c **** 					}
 4864              		.loc 1 4018 0
 4865 0054 C2F10502 		rsb	r2, r2, #5
 4866              	.LVL428:
 4867 0058 9A61     		str	r2, [r3, #24]
 4868              	.L450:
4031:Src/RTOS/tasks.c **** 					{
 4869              		.loc 1 4031 0
 4870 005a 5A69     		ldr	r2, [r3, #20]
 4871 005c 1648     		ldr	r0, .L457+4
 4872 005e 1424     		movs	r4, #20
 4873 0060 04FB0101 		mla	r1, r4, r1, r0
 4874              	.LVL429:
 4875 0064 8A42     		cmp	r2, r1
 4876 0066 E3D1     		bne	.L443
 4877 0068 1C46     		mov	r4, r3
4033:Src/RTOS/tasks.c **** 						{
 4878              		.loc 1 4033 0
 4879 006a 1D1D     		adds	r5, r3, #4
 4880 006c 2846     		mov	r0, r5
 4881 006e FFF7FEFF 		bl	uxListRemove
 4882              	.LVL430:
 4883 0072 70B9     		cbnz	r0, .L451
4035:Src/RTOS/tasks.c **** 						}
 4884              		.loc 1 4035 0
 4885 0074 E26A     		ldr	r2, [r4, #44]
 4886 0076 1423     		movs	r3, #20
 4887 0078 03FB02F3 		mul	r3, r3, r2
 4888 007c 0E49     		ldr	r1, .L457+4
 4889 007e CB58     		ldr	r3, [r1, r3]
 4890 0080 3BB9     		cbnz	r3, .L451
4035:Src/RTOS/tasks.c **** 						}
 4891              		.loc 1 4035 0 is_stmt 0 discriminator 1
 4892 0082 0123     		movs	r3, #1
 4893 0084 03FA02F2 		lsl	r2, r3, r2
 4894 0088 0C49     		ldr	r1, .L457+8
 4895 008a 0B68     		ldr	r3, [r1]
 4896 008c 23EA0203 		bic	r3, r3, r2
 4897 0090 0B60     		str	r3, [r1]
 4898              	.L451:
4042:Src/RTOS/tasks.c **** 					}
 4899              		.loc 1 4042 0 is_stmt 1
 4900 0092 E26A     		ldr	r2, [r4, #44]
 4901 0094 0123     		movs	r3, #1
 4902 0096 9340     		lsls	r3, r3, r2
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 188


 4903 0098 0849     		ldr	r1, .L457+8
 4904 009a 0868     		ldr	r0, [r1]
 4905 009c 0343     		orrs	r3, r3, r0
 4906 009e 0B60     		str	r3, [r1]
 4907 00a0 2946     		mov	r1, r5
 4908 00a2 054B     		ldr	r3, .L457+4
 4909 00a4 1420     		movs	r0, #20
 4910 00a6 00FB0230 		mla	r0, r0, r2, r3
 4911 00aa FFF7FEFF 		bl	vListInsertEnd
 4912              	.LVL431:
4063:Src/RTOS/tasks.c **** 
 4913              		.loc 1 4063 0
 4914 00ae BFE7     		b	.L443
 4915              	.LVL432:
 4916              	.L453:
 4917              	.LCFI49:
 4918              		.cfi_def_cfa_offset 0
 4919              		.cfi_restore 3
 4920              		.cfi_restore 4
 4921              		.cfi_restore 5
 4922              		.cfi_restore 14
 4923 00b0 7047     		bx	lr
 4924              	.L458:
 4925 00b2 00BF     		.align	2
 4926              	.L457:
 4927 00b4 00000000 		.word	.LANCHOR10
 4928 00b8 00000000 		.word	.LANCHOR4
 4929 00bc 00000000 		.word	.LANCHOR13
 4930              		.cfi_endproc
 4931              	.LFE53:
 4933              		.section	.text.uxTaskResetEventItemValue,"ax",%progbits
 4934              		.align	1
 4935              		.global	uxTaskResetEventItemValue
 4936              		.syntax unified
 4937              		.thumb
 4938              		.thumb_func
 4939              		.fpu fpv4-sp-d16
 4941              	uxTaskResetEventItemValue:
 4942              	.LFB54:
4383:Src/RTOS/tasks.c **** TickType_t uxReturn;
 4943              		.loc 1 4383 0
 4944              		.cfi_startproc
 4945              		@ args = 0, pretend = 0, frame = 0
 4946              		@ frame_needed = 0, uses_anonymous_args = 0
 4947              		@ link register save eliminated.
4386:Src/RTOS/tasks.c **** 
 4948              		.loc 1 4386 0
 4949 0000 044A     		ldr	r2, .L460
 4950 0002 1368     		ldr	r3, [r2]
 4951 0004 9869     		ldr	r0, [r3, #24]
 4952              	.LVL433:
4390:Src/RTOS/tasks.c **** 
 4953              		.loc 1 4390 0
 4954 0006 1368     		ldr	r3, [r2]
 4955 0008 DB6A     		ldr	r3, [r3, #44]
 4956 000a 1268     		ldr	r2, [r2]
 4957 000c C3F10503 		rsb	r3, r3, #5
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 189


 4958 0010 9361     		str	r3, [r2, #24]
4393:Src/RTOS/tasks.c **** /*-----------------------------------------------------------*/
 4959              		.loc 1 4393 0
 4960 0012 7047     		bx	lr
 4961              	.L461:
 4962              		.align	2
 4963              	.L460:
 4964 0014 00000000 		.word	.LANCHOR10
 4965              		.cfi_endproc
 4966              	.LFE54:
 4968              		.section	.text.pvTaskIncrementMutexHeldCount,"ax",%progbits
 4969              		.align	1
 4970              		.global	pvTaskIncrementMutexHeldCount
 4971              		.syntax unified
 4972              		.thumb
 4973              		.thumb_func
 4974              		.fpu fpv4-sp-d16
 4976              	pvTaskIncrementMutexHeldCount:
 4977              	.LFB55:
4399:Src/RTOS/tasks.c **** 		/* If xSemaphoreCreateMutex() is called before any tasks have been created
 4978              		.loc 1 4399 0
 4979              		.cfi_startproc
 4980              		@ args = 0, pretend = 0, frame = 0
 4981              		@ frame_needed = 0, uses_anonymous_args = 0
 4982              		@ link register save eliminated.
4402:Src/RTOS/tasks.c **** 		{
 4983              		.loc 1 4402 0
 4984 0000 054B     		ldr	r3, .L464
 4985 0002 1B68     		ldr	r3, [r3]
 4986 0004 23B1     		cbz	r3, .L463
4404:Src/RTOS/tasks.c **** 		}
 4987              		.loc 1 4404 0
 4988 0006 044B     		ldr	r3, .L464
 4989 0008 1A68     		ldr	r2, [r3]
 4990 000a D36C     		ldr	r3, [r2, #76]
 4991 000c 0133     		adds	r3, r3, #1
 4992 000e D364     		str	r3, [r2, #76]
 4993              	.L463:
4407:Src/RTOS/tasks.c **** 	}
 4994              		.loc 1 4407 0
 4995 0010 014B     		ldr	r3, .L464
 4996 0012 1868     		ldr	r0, [r3]
4408:Src/RTOS/tasks.c **** 
 4997              		.loc 1 4408 0
 4998 0014 7047     		bx	lr
 4999              	.L465:
 5000 0016 00BF     		.align	2
 5001              	.L464:
 5002 0018 00000000 		.word	.LANCHOR10
 5003              		.cfi_endproc
 5004              	.LFE55:
 5006              		.section	.text.ulTaskNotifyTake,"ax",%progbits
 5007              		.align	1
 5008              		.global	ulTaskNotifyTake
 5009              		.syntax unified
 5010              		.thumb
 5011              		.thumb_func
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 190


 5012              		.fpu fpv4-sp-d16
 5014              	ulTaskNotifyTake:
 5015              	.LFB56:
4416:Src/RTOS/tasks.c **** 	uint32_t ulReturn;
 5016              		.loc 1 4416 0
 5017              		.cfi_startproc
 5018              		@ args = 0, pretend = 0, frame = 0
 5019              		@ frame_needed = 0, uses_anonymous_args = 0
 5020              	.LVL434:
 5021 0000 38B5     		push	{r3, r4, r5, lr}
 5022              	.LCFI50:
 5023              		.cfi_def_cfa_offset 16
 5024              		.cfi_offset 3, -16
 5025              		.cfi_offset 4, -12
 5026              		.cfi_offset 5, -8
 5027              		.cfi_offset 14, -4
 5028 0002 0546     		mov	r5, r0
 5029 0004 0C46     		mov	r4, r1
4419:Src/RTOS/tasks.c **** 		{
 5030              		.loc 1 4419 0
 5031 0006 FFF7FEFF 		bl	vPortEnterCritical
 5032              	.LVL435:
4422:Src/RTOS/tasks.c **** 			{
 5033              		.loc 1 4422 0
 5034 000a 194B     		ldr	r3, .L473
 5035 000c 1B68     		ldr	r3, [r3]
 5036 000e 1B6D     		ldr	r3, [r3, #80]
 5037 0010 2BB9     		cbnz	r3, .L467
4425:Src/RTOS/tasks.c **** 
 5038              		.loc 1 4425 0
 5039 0012 174B     		ldr	r3, .L473
 5040 0014 1B68     		ldr	r3, [r3]
 5041 0016 0122     		movs	r2, #1
 5042 0018 83F85420 		strb	r2, [r3, #84]
4427:Src/RTOS/tasks.c **** 				{
 5043              		.loc 1 4427 0
 5044 001c ACB9     		cbnz	r4, .L471
 5045              	.L467:
4448:Src/RTOS/tasks.c **** 
 5046              		.loc 1 4448 0
 5047 001e FFF7FEFF 		bl	vPortExitCritical
 5048              	.LVL436:
4450:Src/RTOS/tasks.c **** 		{
 5049              		.loc 1 4450 0
 5050 0022 FFF7FEFF 		bl	vPortEnterCritical
 5051              	.LVL437:
4453:Src/RTOS/tasks.c **** 
 5052              		.loc 1 4453 0
 5053 0026 124B     		ldr	r3, .L473
 5054 0028 1B68     		ldr	r3, [r3]
 5055 002a 1C6D     		ldr	r4, [r3, #80]
 5056              	.LVL438:
4455:Src/RTOS/tasks.c **** 			{
 5057              		.loc 1 4455 0
 5058 002c 24B1     		cbz	r4, .L468
4457:Src/RTOS/tasks.c **** 				{
 5059              		.loc 1 4457 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 191


 5060 002e CDB9     		cbnz	r5, .L472
4463:Src/RTOS/tasks.c **** 				}
 5061              		.loc 1 4463 0
 5062 0030 0F4B     		ldr	r3, .L473
 5063 0032 1B68     		ldr	r3, [r3]
 5064 0034 621E     		subs	r2, r4, #1
 5065 0036 1A65     		str	r2, [r3, #80]
 5066              	.L468:
4471:Src/RTOS/tasks.c **** 		}
 5067              		.loc 1 4471 0
 5068 0038 0D4B     		ldr	r3, .L473
 5069 003a 1B68     		ldr	r3, [r3]
 5070 003c 0022     		movs	r2, #0
 5071 003e 83F85420 		strb	r2, [r3, #84]
4473:Src/RTOS/tasks.c **** 
 5072              		.loc 1 4473 0
 5073 0042 FFF7FEFF 		bl	vPortExitCritical
 5074              	.LVL439:
4476:Src/RTOS/tasks.c **** 
 5075              		.loc 1 4476 0
 5076 0046 2046     		mov	r0, r4
 5077 0048 38BD     		pop	{r3, r4, r5, pc}
 5078              	.LVL440:
 5079              	.L471:
4429:Src/RTOS/tasks.c **** 					traceTASK_NOTIFY_TAKE_BLOCK();
 5080              		.loc 1 4429 0
 5081 004a 1146     		mov	r1, r2
 5082 004c 2046     		mov	r0, r4
 5083 004e FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 5084              	.LVL441:
4436:Src/RTOS/tasks.c **** 				}
 5085              		.loc 1 4436 0
 5086 0052 084B     		ldr	r3, .L473+4
 5087 0054 4FF08052 		mov	r2, #268435456
 5088 0058 1A60     		str	r2, [r3]
 5089              		.syntax unified
 5090              	@ 4436 "Src/RTOS/tasks.c" 1
 5091 005a BFF34F8F 		dsb
 5092              	@ 0 "" 2
 5093              	@ 4436 "Src/RTOS/tasks.c" 1
 5094 005e BFF36F8F 		isb
 5095              	@ 0 "" 2
 5096              		.thumb
 5097              		.syntax unified
 5098 0062 DCE7     		b	.L467
 5099              	.LVL442:
 5100              	.L472:
4459:Src/RTOS/tasks.c **** 				}
 5101              		.loc 1 4459 0
 5102 0064 024B     		ldr	r3, .L473
 5103 0066 1B68     		ldr	r3, [r3]
 5104 0068 0022     		movs	r2, #0
 5105 006a 1A65     		str	r2, [r3, #80]
 5106 006c E4E7     		b	.L468
 5107              	.L474:
 5108 006e 00BF     		.align	2
 5109              	.L473:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 192


 5110 0070 00000000 		.word	.LANCHOR10
 5111 0074 04ED00E0 		.word	-536810236
 5112              		.cfi_endproc
 5113              	.LFE56:
 5115              		.section	.text.xTaskNotifyWait,"ax",%progbits
 5116              		.align	1
 5117              		.global	xTaskNotifyWait
 5118              		.syntax unified
 5119              		.thumb
 5120              		.thumb_func
 5121              		.fpu fpv4-sp-d16
 5123              	xTaskNotifyWait:
 5124              	.LFB57:
4484:Src/RTOS/tasks.c **** 	BaseType_t xReturn;
 5125              		.loc 1 4484 0
 5126              		.cfi_startproc
 5127              		@ args = 0, pretend = 0, frame = 0
 5128              		@ frame_needed = 0, uses_anonymous_args = 0
 5129              	.LVL443:
 5130 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5131              	.LCFI51:
 5132              		.cfi_def_cfa_offset 24
 5133              		.cfi_offset 3, -24
 5134              		.cfi_offset 4, -20
 5135              		.cfi_offset 5, -16
 5136              		.cfi_offset 6, -12
 5137              		.cfi_offset 7, -8
 5138              		.cfi_offset 14, -4
 5139 0002 0746     		mov	r7, r0
 5140 0004 0D46     		mov	r5, r1
 5141 0006 1446     		mov	r4, r2
 5142 0008 1E46     		mov	r6, r3
4487:Src/RTOS/tasks.c **** 		{
 5143              		.loc 1 4487 0
 5144 000a FFF7FEFF 		bl	vPortEnterCritical
 5145              	.LVL444:
4490:Src/RTOS/tasks.c **** 			{
 5146              		.loc 1 4490 0
 5147 000e 204B     		ldr	r3, .L483
 5148 0010 1B68     		ldr	r3, [r3]
 5149 0012 93F85430 		ldrb	r3, [r3, #84]	@ zero_extendqisi2
 5150 0016 DBB2     		uxtb	r3, r3
 5151 0018 022B     		cmp	r3, #2
 5152 001a 0AD0     		beq	.L476
4495:Src/RTOS/tasks.c **** 
 5153              		.loc 1 4495 0
 5154 001c 1C4B     		ldr	r3, .L483
 5155 001e 1A68     		ldr	r2, [r3]
 5156 0020 106D     		ldr	r0, [r2, #80]
 5157 0022 20EA0700 		bic	r0, r0, r7
 5158 0026 1065     		str	r0, [r2, #80]
4498:Src/RTOS/tasks.c **** 
 5159              		.loc 1 4498 0
 5160 0028 1B68     		ldr	r3, [r3]
 5161 002a 0122     		movs	r2, #1
 5162 002c 83F85420 		strb	r2, [r3, #84]
4500:Src/RTOS/tasks.c **** 				{
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 193


 5163              		.loc 1 4500 0
 5164 0030 CEB9     		cbnz	r6, .L481
 5165              	.L476:
4521:Src/RTOS/tasks.c **** 
 5166              		.loc 1 4521 0
 5167 0032 FFF7FEFF 		bl	vPortExitCritical
 5168              	.LVL445:
4523:Src/RTOS/tasks.c **** 		{
 5169              		.loc 1 4523 0
 5170 0036 FFF7FEFF 		bl	vPortEnterCritical
 5171              	.LVL446:
4527:Src/RTOS/tasks.c **** 			{
 5172              		.loc 1 4527 0
 5173 003a 1CB1     		cbz	r4, .L477
4531:Src/RTOS/tasks.c **** 			}
 5174              		.loc 1 4531 0
 5175 003c 144B     		ldr	r3, .L483
 5176 003e 1B68     		ldr	r3, [r3]
 5177 0040 1B6D     		ldr	r3, [r3, #80]
 5178 0042 2360     		str	r3, [r4]
 5179              	.L477:
4538:Src/RTOS/tasks.c **** 			{
 5180              		.loc 1 4538 0
 5181 0044 124B     		ldr	r3, .L483
 5182 0046 1B68     		ldr	r3, [r3]
 5183 0048 93F85430 		ldrb	r3, [r3, #84]	@ zero_extendqisi2
 5184 004c DBB2     		uxtb	r3, r3
 5185 004e 022B     		cmp	r3, #2
 5186 0050 16D0     		beq	.L482
4541:Src/RTOS/tasks.c **** 			}
 5187              		.loc 1 4541 0
 5188 0052 0024     		movs	r4, #0
 5189              	.LVL447:
 5190              	.L478:
4551:Src/RTOS/tasks.c **** 		}
 5191              		.loc 1 4551 0
 5192 0054 0E4B     		ldr	r3, .L483
 5193 0056 1B68     		ldr	r3, [r3]
 5194 0058 0022     		movs	r2, #0
 5195 005a 83F85420 		strb	r2, [r3, #84]
4553:Src/RTOS/tasks.c **** 
 5196              		.loc 1 4553 0
 5197 005e FFF7FEFF 		bl	vPortExitCritical
 5198              	.LVL448:
4556:Src/RTOS/tasks.c **** 
 5199              		.loc 1 4556 0
 5200 0062 2046     		mov	r0, r4
 5201 0064 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5202              	.LVL449:
 5203              	.L481:
4502:Src/RTOS/tasks.c **** 					traceTASK_NOTIFY_WAIT_BLOCK();
 5204              		.loc 1 4502 0
 5205 0066 1146     		mov	r1, r2
 5206 0068 3046     		mov	r0, r6
 5207 006a FFF7FEFF 		bl	prvAddCurrentTaskToDelayedList
 5208              	.LVL450:
4509:Src/RTOS/tasks.c **** 				}
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 194


 5209              		.loc 1 4509 0
 5210 006e 094B     		ldr	r3, .L483+4
 5211 0070 4FF08052 		mov	r2, #268435456
 5212 0074 1A60     		str	r2, [r3]
 5213              		.syntax unified
 5214              	@ 4509 "Src/RTOS/tasks.c" 1
 5215 0076 BFF34F8F 		dsb
 5216              	@ 0 "" 2
 5217              	@ 4509 "Src/RTOS/tasks.c" 1
 5218 007a BFF36F8F 		isb
 5219              	@ 0 "" 2
 5220              		.thumb
 5221              		.syntax unified
 5222 007e D8E7     		b	.L476
 5223              	.L482:
4547:Src/RTOS/tasks.c **** 				xReturn = pdTRUE;
 5224              		.loc 1 4547 0
 5225 0080 034B     		ldr	r3, .L483
 5226 0082 1A68     		ldr	r2, [r3]
 5227 0084 136D     		ldr	r3, [r2, #80]
 5228 0086 23EA0505 		bic	r5, r3, r5
 5229              	.LVL451:
 5230 008a 1565     		str	r5, [r2, #80]
 5231              	.LVL452:
4548:Src/RTOS/tasks.c **** 			}
 5232              		.loc 1 4548 0
 5233 008c 0124     		movs	r4, #1
 5234              	.LVL453:
 5235 008e E1E7     		b	.L478
 5236              	.L484:
 5237              		.align	2
 5238              	.L483:
 5239 0090 00000000 		.word	.LANCHOR10
 5240 0094 04ED00E0 		.word	-536810236
 5241              		.cfi_endproc
 5242              	.LFE57:
 5244              		.section	.text.xTaskGenericNotify,"ax",%progbits
 5245              		.align	1
 5246              		.global	xTaskGenericNotify
 5247              		.syntax unified
 5248              		.thumb
 5249              		.thumb_func
 5250              		.fpu fpv4-sp-d16
 5252              	xTaskGenericNotify:
 5253              	.LFB58:
4564:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
 5254              		.loc 1 4564 0
 5255              		.cfi_startproc
 5256              		@ args = 0, pretend = 0, frame = 0
 5257              		@ frame_needed = 0, uses_anonymous_args = 0
 5258              	.LVL454:
 5259 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5260              	.LCFI52:
 5261              		.cfi_def_cfa_offset 24
 5262              		.cfi_offset 3, -24
 5263              		.cfi_offset 4, -20
 5264              		.cfi_offset 5, -16
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 195


 5265              		.cfi_offset 6, -12
 5266              		.cfi_offset 7, -8
 5267              		.cfi_offset 14, -4
 5268              	.LVL455:
4569:Src/RTOS/tasks.c **** 		pxTCB = ( TCB_t * ) xTaskToNotify;
 5269              		.loc 1 4569 0
 5270 0002 40B9     		cbnz	r0, .L486
 5271              	.LBB201:
 5272              	.LBB202:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5273              		.loc 2 195 0
 5274              		.syntax unified
 5275              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5276 0004 4FF05003 			mov r3, #80												
 5277 0008 83F31188 		msr basepri, r3											
 5278 000c BFF36F8F 		isb														
 5279 0010 BFF34F8F 		dsb														
 5280              	
 5281              	@ 0 "" 2
 5282              	.LVL456:
 5283              		.thumb
 5284              		.syntax unified
 5285              	.L487:
 5286 0014 FEE7     		b	.L487
 5287              	.LVL457:
 5288              	.L486:
 5289 0016 0446     		mov	r4, r0
 5290 0018 1F46     		mov	r7, r3
 5291 001a 1546     		mov	r5, r2
 5292 001c 0E46     		mov	r6, r1
 5293              	.LVL458:
 5294              	.LBE202:
 5295              	.LBE201:
4572:Src/RTOS/tasks.c **** 		{
 5296              		.loc 1 4572 0
 5297 001e FFF7FEFF 		bl	vPortEnterCritical
 5298              	.LVL459:
4574:Src/RTOS/tasks.c **** 			{
 5299              		.loc 1 4574 0
 5300 0022 0FB1     		cbz	r7, .L488
4576:Src/RTOS/tasks.c **** 			}
 5301              		.loc 1 4576 0
 5302 0024 236D     		ldr	r3, [r4, #80]
 5303 0026 3B60     		str	r3, [r7]
 5304              	.L488:
4579:Src/RTOS/tasks.c **** 
 5305              		.loc 1 4579 0
 5306 0028 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 5307 002c DBB2     		uxtb	r3, r3
 5308              	.LVL460:
4581:Src/RTOS/tasks.c **** 
 5309              		.loc 1 4581 0
 5310 002e 0222     		movs	r2, #2
 5311 0030 84F85420 		strb	r2, [r4, #84]
4583:Src/RTOS/tasks.c **** 			{
 5312              		.loc 1 4583 0
 5313 0034 6A1E     		subs	r2, r5, #1
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 196


 5314 0036 032A     		cmp	r2, #3
 5315 0038 1AD8     		bhi	.L498
 5316 003a DFE802F0 		tbb	[pc, r2]
 5317              	.L491:
 5318 003e 02       		.byte	(.L490-.L491)/2
 5319 003f 0C       		.byte	(.L492-.L491)/2
 5320 0040 11       		.byte	(.L493-.L491)/2
 5321 0041 14       		.byte	(.L494-.L491)/2
 5322              		.p2align 1
 5323              	.L490:
4586:Src/RTOS/tasks.c **** 					break;
 5324              		.loc 1 4586 0
 5325 0042 226D     		ldr	r2, [r4, #80]
 5326 0044 1643     		orrs	r6, r6, r2
 5327              	.LVL461:
 5328 0046 2665     		str	r6, [r4, #80]
4566:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
 5329              		.loc 1 4566 0
 5330 0048 0125     		movs	r5, #1
 5331              	.L489:
 5332              	.LVL462:
4619:Src/RTOS/tasks.c **** 			{
 5333              		.loc 1 4619 0
 5334 004a 012B     		cmp	r3, #1
 5335 004c 14D0     		beq	.L501
 5336              	.LVL463:
 5337              	.L495:
4659:Src/RTOS/tasks.c **** 
 5338              		.loc 1 4659 0
 5339 004e FFF7FEFF 		bl	vPortExitCritical
 5340              	.LVL464:
4662:Src/RTOS/tasks.c **** 
 5341              		.loc 1 4662 0
 5342 0052 2846     		mov	r0, r5
 5343 0054 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5344              	.LVL465:
 5345              	.L492:
4590:Src/RTOS/tasks.c **** 					break;
 5346              		.loc 1 4590 0
 5347 0056 226D     		ldr	r2, [r4, #80]
 5348 0058 0132     		adds	r2, r2, #1
 5349 005a 2265     		str	r2, [r4, #80]
4566:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
 5350              		.loc 1 4566 0
 5351 005c 0125     		movs	r5, #1
4591:Src/RTOS/tasks.c **** 
 5352              		.loc 1 4591 0
 5353 005e F4E7     		b	.L489
 5354              	.L493:
4594:Src/RTOS/tasks.c **** 					break;
 5355              		.loc 1 4594 0
 5356 0060 2665     		str	r6, [r4, #80]
4566:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
 5357              		.loc 1 4566 0
 5358 0062 0125     		movs	r5, #1
4595:Src/RTOS/tasks.c **** 
 5359              		.loc 1 4595 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 197


 5360 0064 F1E7     		b	.L489
 5361              	.L494:
4598:Src/RTOS/tasks.c **** 					{
 5362              		.loc 1 4598 0
 5363 0066 022B     		cmp	r3, #2
 5364 0068 04D0     		beq	.L499
4600:Src/RTOS/tasks.c **** 					}
 5365              		.loc 1 4600 0
 5366 006a 2665     		str	r6, [r4, #80]
4566:Src/RTOS/tasks.c **** 	uint8_t ucOriginalNotifyState;
 5367              		.loc 1 4566 0
 5368 006c 0125     		movs	r5, #1
 5369 006e ECE7     		b	.L489
 5370              	.L498:
 5371 0070 0125     		movs	r5, #1
 5372 0072 EAE7     		b	.L489
 5373              	.L499:
4605:Src/RTOS/tasks.c **** 					}
 5374              		.loc 1 4605 0
 5375 0074 0025     		movs	r5, #0
 5376 0076 E8E7     		b	.L489
 5377              	.LVL466:
 5378              	.L501:
4621:Src/RTOS/tasks.c **** 				prvAddTaskToReadyList( pxTCB );
 5379              		.loc 1 4621 0
 5380 0078 261D     		adds	r6, r4, #4
 5381 007a 3046     		mov	r0, r6
 5382 007c FFF7FEFF 		bl	uxListRemove
 5383              	.LVL467:
4622:Src/RTOS/tasks.c **** 
 5384              		.loc 1 4622 0
 5385 0080 E26A     		ldr	r2, [r4, #44]
 5386 0082 0123     		movs	r3, #1
 5387 0084 9340     		lsls	r3, r3, r2
 5388 0086 1249     		ldr	r1, .L502
 5389 0088 0868     		ldr	r0, [r1]
 5390 008a 0343     		orrs	r3, r3, r0
 5391 008c 0B60     		str	r3, [r1]
 5392 008e 3146     		mov	r1, r6
 5393 0090 104B     		ldr	r3, .L502+4
 5394 0092 1420     		movs	r0, #20
 5395 0094 00FB0230 		mla	r0, r0, r2, r3
 5396 0098 FFF7FEFF 		bl	vListInsertEnd
 5397              	.LVL468:
4625:Src/RTOS/tasks.c **** 
 5398              		.loc 1 4625 0
 5399 009c A36A     		ldr	r3, [r4, #40]
 5400 009e 43B1     		cbz	r3, .L496
 5401              	.LBB203:
 5402              	.LBB204:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5403              		.loc 2 195 0
 5404              		.syntax unified
 5405              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5406 00a0 4FF05003 			mov r3, #80												
 5407 00a4 83F31188 		msr basepri, r3											
 5408 00a8 BFF36F8F 		isb														
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 198


 5409 00ac BFF34F8F 		dsb														
 5410              	
 5411              	@ 0 "" 2
 5412              	.LVL469:
 5413              		.thumb
 5414              		.syntax unified
 5415              	.L497:
 5416 00b0 FEE7     		b	.L497
 5417              	.L496:
 5418              	.LBE204:
 5419              	.LBE203:
4643:Src/RTOS/tasks.c **** 				{
 5420              		.loc 1 4643 0
 5421 00b2 E26A     		ldr	r2, [r4, #44]
 5422 00b4 084B     		ldr	r3, .L502+8
 5423 00b6 1B68     		ldr	r3, [r3]
 5424 00b8 DB6A     		ldr	r3, [r3, #44]
 5425 00ba 9A42     		cmp	r2, r3
 5426 00bc C7D9     		bls	.L495
4647:Src/RTOS/tasks.c **** 				}
 5427              		.loc 1 4647 0
 5428 00be 074B     		ldr	r3, .L502+12
 5429 00c0 4FF08052 		mov	r2, #268435456
 5430 00c4 1A60     		str	r2, [r3]
 5431              		.syntax unified
 5432              	@ 4647 "Src/RTOS/tasks.c" 1
 5433 00c6 BFF34F8F 		dsb
 5434              	@ 0 "" 2
 5435              	@ 4647 "Src/RTOS/tasks.c" 1
 5436 00ca BFF36F8F 		isb
 5437              	@ 0 "" 2
 5438              		.thumb
 5439              		.syntax unified
 5440 00ce BEE7     		b	.L495
 5441              	.L503:
 5442              		.align	2
 5443              	.L502:
 5444 00d0 00000000 		.word	.LANCHOR13
 5445 00d4 00000000 		.word	.LANCHOR4
 5446 00d8 00000000 		.word	.LANCHOR10
 5447 00dc 04ED00E0 		.word	-536810236
 5448              		.cfi_endproc
 5449              	.LFE58:
 5451              		.section	.text.xTaskGenericNotifyFromISR,"ax",%progbits
 5452              		.align	1
 5453              		.global	xTaskGenericNotifyFromISR
 5454              		.syntax unified
 5455              		.thumb
 5456              		.thumb_func
 5457              		.fpu fpv4-sp-d16
 5459              	xTaskGenericNotifyFromISR:
 5460              	.LFB59:
4670:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
 5461              		.loc 1 4670 0
 5462              		.cfi_startproc
 5463              		@ args = 4, pretend = 0, frame = 0
 5464              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 199


 5465              	.LVL470:
 5466 0000 2DE9F843 		push	{r3, r4, r5, r6, r7, r8, r9, lr}
 5467              	.LCFI53:
 5468              		.cfi_def_cfa_offset 32
 5469              		.cfi_offset 3, -32
 5470              		.cfi_offset 4, -28
 5471              		.cfi_offset 5, -24
 5472              		.cfi_offset 6, -20
 5473              		.cfi_offset 7, -16
 5474              		.cfi_offset 8, -12
 5475              		.cfi_offset 9, -8
 5476              		.cfi_offset 14, -4
 5477 0004 089E     		ldr	r6, [sp, #32]
 5478              	.LVL471:
4676:Src/RTOS/tasks.c **** 
 5479              		.loc 1 4676 0
 5480 0006 40B9     		cbnz	r0, .L505
 5481              	.LBB205:
 5482              	.LBB206:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5483              		.loc 2 195 0
 5484              		.syntax unified
 5485              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5486 0008 4FF05003 			mov r3, #80												
 5487 000c 83F31188 		msr basepri, r3											
 5488 0010 BFF36F8F 		isb														
 5489 0014 BFF34F8F 		dsb														
 5490              	
 5491              	@ 0 "" 2
 5492              	.LVL472:
 5493              		.thumb
 5494              		.syntax unified
 5495              	.L506:
 5496 0018 FEE7     		b	.L506
 5497              	.LVL473:
 5498              	.L505:
 5499 001a 0446     		mov	r4, r0
 5500 001c 9946     		mov	r9, r3
 5501 001e 1546     		mov	r5, r2
 5502 0020 8846     		mov	r8, r1
 5503              	.LBE206:
 5504              	.LBE205:
4694:Src/RTOS/tasks.c **** 
 5505              		.loc 1 4694 0
 5506 0022 FFF7FEFF 		bl	vPortValidateInterruptPriority
 5507              	.LVL474:
 5508              	.LBB207:
 5509              	.LBB208:
 211:Src/RTOS/Inc/portmacro.h **** 	(
 5510              		.loc 2 211 0
 5511              		.syntax unified
 5512              	@ 211 "Src/RTOS/Inc/portmacro.h" 1
 5513 0026 EFF31187 			mrs r7, basepri											
 5514 002a 4FF05003 		mov r3, #80												
 5515 002e 83F31188 		msr basepri, r3											
 5516 0032 BFF36F8F 		isb														
 5517 0036 BFF34F8F 		dsb														
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 200


 5518              	
 5519              	@ 0 "" 2
 5520              		.thumb
 5521              		.syntax unified
 5522              	.LBE208:
 5523              	.LBE207:
4700:Src/RTOS/tasks.c **** 			{
 5524              		.loc 1 4700 0
 5525 003a B9F1000F 		cmp	r9, #0
 5526 003e 02D0     		beq	.L507
4702:Src/RTOS/tasks.c **** 			}
 5527              		.loc 1 4702 0
 5528 0040 236D     		ldr	r3, [r4, #80]
 5529 0042 C9F80030 		str	r3, [r9]
 5530              	.L507:
4705:Src/RTOS/tasks.c **** 			pxTCB->ucNotifyState = taskNOTIFICATION_RECEIVED;
 5531              		.loc 1 4705 0
 5532 0046 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 5533 004a DBB2     		uxtb	r3, r3
 5534              	.LVL475:
4706:Src/RTOS/tasks.c **** 
 5535              		.loc 1 4706 0
 5536 004c 0222     		movs	r2, #2
 5537 004e 84F85420 		strb	r2, [r4, #84]
4708:Src/RTOS/tasks.c **** 			{
 5538              		.loc 1 4708 0
 5539 0052 6A1E     		subs	r2, r5, #1
 5540 0054 032A     		cmp	r2, #3
 5541 0056 1ED8     		bhi	.L520
 5542 0058 DFE802F0 		tbb	[pc, r2]
 5543              	.L510:
 5544 005c 02       		.byte	(.L509-.L510)/2
 5545 005d 0E       		.byte	(.L511-.L510)/2
 5546 005e 13       		.byte	(.L512-.L510)/2
 5547 005f 17       		.byte	(.L513-.L510)/2
 5548              		.p2align 1
 5549              	.L509:
4711:Src/RTOS/tasks.c **** 					break;
 5550              		.loc 1 4711 0
 5551 0060 226D     		ldr	r2, [r4, #80]
 5552 0062 42EA0802 		orr	r2, r2, r8
 5553 0066 2265     		str	r2, [r4, #80]
4673:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
 5554              		.loc 1 4673 0
 5555 0068 0125     		movs	r5, #1
 5556              	.L508:
 5557              	.LVL476:
4744:Src/RTOS/tasks.c **** 			{
 5558              		.loc 1 4744 0
 5559 006a 012B     		cmp	r3, #1
 5560 006c 17D0     		beq	.L523
 5561              	.LVL477:
 5562              	.L514:
 5563              	.LBB209:
 5564              	.LBB210:
 5565              		.loc 2 229 0
 5566              		.syntax unified
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 201


 5567              	@ 229 "Src/RTOS/Inc/portmacro.h" 1
 5568 006e 87F31188 			msr basepri, r7	
 5569              	@ 0 "" 2
 5570              	.LVL478:
 5571              		.thumb
 5572              		.syntax unified
 5573              	.LBE210:
 5574              	.LBE209:
4786:Src/RTOS/tasks.c **** 
 5575              		.loc 1 4786 0
 5576 0072 2846     		mov	r0, r5
 5577 0074 BDE8F883 		pop	{r3, r4, r5, r6, r7, r8, r9, pc}
 5578              	.LVL479:
 5579              	.L511:
4715:Src/RTOS/tasks.c **** 					break;
 5580              		.loc 1 4715 0
 5581 0078 226D     		ldr	r2, [r4, #80]
 5582 007a 0132     		adds	r2, r2, #1
 5583 007c 2265     		str	r2, [r4, #80]
4673:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
 5584              		.loc 1 4673 0
 5585 007e 0125     		movs	r5, #1
4716:Src/RTOS/tasks.c **** 
 5586              		.loc 1 4716 0
 5587 0080 F3E7     		b	.L508
 5588              	.L512:
4719:Src/RTOS/tasks.c **** 					break;
 5589              		.loc 1 4719 0
 5590 0082 C4F85080 		str	r8, [r4, #80]
4673:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
 5591              		.loc 1 4673 0
 5592 0086 0125     		movs	r5, #1
4720:Src/RTOS/tasks.c **** 
 5593              		.loc 1 4720 0
 5594 0088 EFE7     		b	.L508
 5595              	.L513:
4723:Src/RTOS/tasks.c **** 					{
 5596              		.loc 1 4723 0
 5597 008a 022B     		cmp	r3, #2
 5598 008c 05D0     		beq	.L521
4725:Src/RTOS/tasks.c **** 					}
 5599              		.loc 1 4725 0
 5600 008e C4F85080 		str	r8, [r4, #80]
4673:Src/RTOS/tasks.c **** 	UBaseType_t uxSavedInterruptStatus;
 5601              		.loc 1 4673 0
 5602 0092 0125     		movs	r5, #1
 5603 0094 E9E7     		b	.L508
 5604              	.L520:
 5605 0096 0125     		movs	r5, #1
 5606 0098 E7E7     		b	.L508
 5607              	.L521:
4730:Src/RTOS/tasks.c **** 					}
 5608              		.loc 1 4730 0
 5609 009a 0025     		movs	r5, #0
 5610 009c E5E7     		b	.L508
 5611              	.LVL480:
 5612              	.L523:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 202


4747:Src/RTOS/tasks.c **** 
 5613              		.loc 1 4747 0
 5614 009e A36A     		ldr	r3, [r4, #40]
 5615              	.LVL481:
 5616 00a0 43B1     		cbz	r3, .L515
 5617              	.LBB211:
 5618              	.LBB212:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5619              		.loc 2 195 0
 5620              		.syntax unified
 5621              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5622 00a2 4FF05003 			mov r3, #80												
 5623 00a6 83F31188 		msr basepri, r3											
 5624 00aa BFF36F8F 		isb														
 5625 00ae BFF34F8F 		dsb														
 5626              	
 5627              	@ 0 "" 2
 5628              	.LVL482:
 5629              		.thumb
 5630              		.syntax unified
 5631              	.L516:
 5632 00b2 FEE7     		b	.L516
 5633              	.L515:
 5634              	.LBE212:
 5635              	.LBE211:
4749:Src/RTOS/tasks.c **** 				{
 5636              		.loc 1 4749 0
 5637 00b4 144B     		ldr	r3, .L524
 5638 00b6 1B68     		ldr	r3, [r3]
 5639 00b8 E3B9     		cbnz	r3, .L517
4751:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
 5640              		.loc 1 4751 0
 5641 00ba 04F10408 		add	r8, r4, #4
 5642              	.LVL483:
 5643 00be 4046     		mov	r0, r8
 5644 00c0 FFF7FEFF 		bl	uxListRemove
 5645              	.LVL484:
4752:Src/RTOS/tasks.c **** 				}
 5646              		.loc 1 4752 0
 5647 00c4 E26A     		ldr	r2, [r4, #44]
 5648 00c6 0123     		movs	r3, #1
 5649 00c8 9340     		lsls	r3, r3, r2
 5650 00ca 1049     		ldr	r1, .L524+4
 5651 00cc 0868     		ldr	r0, [r1]
 5652 00ce 0343     		orrs	r3, r3, r0
 5653 00d0 0B60     		str	r3, [r1]
 5654 00d2 4146     		mov	r1, r8
 5655 00d4 0E4B     		ldr	r3, .L524+8
 5656 00d6 1420     		movs	r0, #20
 5657 00d8 00FB0230 		mla	r0, r0, r2, r3
 5658 00dc FFF7FEFF 		bl	vListInsertEnd
 5659              	.LVL485:
 5660              	.L518:
4761:Src/RTOS/tasks.c **** 				{
 5661              		.loc 1 4761 0
 5662 00e0 E26A     		ldr	r2, [r4, #44]
 5663 00e2 0C4B     		ldr	r3, .L524+12
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 203


 5664 00e4 1B68     		ldr	r3, [r3]
 5665 00e6 DB6A     		ldr	r3, [r3, #44]
 5666 00e8 9A42     		cmp	r2, r3
 5667 00ea C0D9     		bls	.L514
4765:Src/RTOS/tasks.c **** 					{
 5668              		.loc 1 4765 0
 5669 00ec 46B1     		cbz	r6, .L519
4767:Src/RTOS/tasks.c **** 					}
 5670              		.loc 1 4767 0
 5671 00ee 0123     		movs	r3, #1
 5672 00f0 3360     		str	r3, [r6]
 5673 00f2 BCE7     		b	.L514
 5674              	.LVL486:
 5675              	.L517:
4758:Src/RTOS/tasks.c **** 				}
 5676              		.loc 1 4758 0
 5677 00f4 04F11801 		add	r1, r4, #24
 5678 00f8 0748     		ldr	r0, .L524+16
 5679 00fa FFF7FEFF 		bl	vListInsertEnd
 5680              	.LVL487:
 5681 00fe EFE7     		b	.L518
 5682              	.LVL488:
 5683              	.L519:
4774:Src/RTOS/tasks.c **** 					}
 5684              		.loc 1 4774 0
 5685 0100 064B     		ldr	r3, .L524+20
 5686 0102 0122     		movs	r2, #1
 5687 0104 1A60     		str	r2, [r3]
 5688 0106 B2E7     		b	.L514
 5689              	.L525:
 5690              		.align	2
 5691              	.L524:
 5692 0108 00000000 		.word	.LANCHOR16
 5693 010c 00000000 		.word	.LANCHOR13
 5694 0110 00000000 		.word	.LANCHOR4
 5695 0114 00000000 		.word	.LANCHOR10
 5696 0118 00000000 		.word	.LANCHOR1
 5697 011c 00000000 		.word	.LANCHOR20
 5698              		.cfi_endproc
 5699              	.LFE59:
 5701              		.section	.text.vTaskNotifyGiveFromISR,"ax",%progbits
 5702              		.align	1
 5703              		.global	vTaskNotifyGiveFromISR
 5704              		.syntax unified
 5705              		.thumb
 5706              		.thumb_func
 5707              		.fpu fpv4-sp-d16
 5709              	vTaskNotifyGiveFromISR:
 5710              	.LFB60:
4794:Src/RTOS/tasks.c **** 	TCB_t * pxTCB;
 5711              		.loc 1 4794 0
 5712              		.cfi_startproc
 5713              		@ args = 0, pretend = 0, frame = 0
 5714              		@ frame_needed = 0, uses_anonymous_args = 0
 5715              	.LVL489:
 5716 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 5717              	.LCFI54:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 204


 5718              		.cfi_def_cfa_offset 24
 5719              		.cfi_offset 3, -24
 5720              		.cfi_offset 4, -20
 5721              		.cfi_offset 5, -16
 5722              		.cfi_offset 6, -12
 5723              		.cfi_offset 7, -8
 5724              		.cfi_offset 14, -4
4799:Src/RTOS/tasks.c **** 
 5725              		.loc 1 4799 0
 5726 0002 40B9     		cbnz	r0, .L527
 5727              	.LBB213:
 5728              	.LBB214:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5729              		.loc 2 195 0
 5730              		.syntax unified
 5731              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5732 0004 4FF05003 			mov r3, #80												
 5733 0008 83F31188 		msr basepri, r3											
 5734 000c BFF36F8F 		isb														
 5735 0010 BFF34F8F 		dsb														
 5736              	
 5737              	@ 0 "" 2
 5738              	.LVL490:
 5739              		.thumb
 5740              		.syntax unified
 5741              	.L528:
 5742 0014 FEE7     		b	.L528
 5743              	.L527:
 5744 0016 0446     		mov	r4, r0
 5745 0018 0D46     		mov	r5, r1
 5746              	.LBE214:
 5747              	.LBE213:
4817:Src/RTOS/tasks.c **** 
 5748              		.loc 1 4817 0
 5749 001a FFF7FEFF 		bl	vPortValidateInterruptPriority
 5750              	.LVL491:
 5751              	.LBB215:
 5752              	.LBB216:
 211:Src/RTOS/Inc/portmacro.h **** 	(
 5753              		.loc 2 211 0
 5754              		.syntax unified
 5755              	@ 211 "Src/RTOS/Inc/portmacro.h" 1
 5756 001e EFF31186 			mrs r6, basepri											
 5757 0022 4FF05003 		mov r3, #80												
 5758 0026 83F31188 		msr basepri, r3											
 5759 002a BFF36F8F 		isb														
 5760 002e BFF34F8F 		dsb														
 5761              	
 5762              	@ 0 "" 2
 5763              		.thumb
 5764              		.syntax unified
 5765              	.LBE216:
 5766              	.LBE215:
4823:Src/RTOS/tasks.c **** 			pxTCB->ucNotifyState = taskNOTIFICATION_RECEIVED;
 5767              		.loc 1 4823 0
 5768 0032 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 5769 0036 DBB2     		uxtb	r3, r3
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 205


 5770              	.LVL492:
4824:Src/RTOS/tasks.c **** 
 5771              		.loc 1 4824 0
 5772 0038 0222     		movs	r2, #2
 5773 003a 84F85420 		strb	r2, [r4, #84]
4828:Src/RTOS/tasks.c **** 
 5774              		.loc 1 4828 0
 5775 003e 226D     		ldr	r2, [r4, #80]
 5776 0040 0132     		adds	r2, r2, #1
 5777 0042 2265     		str	r2, [r4, #80]
4834:Src/RTOS/tasks.c **** 			{
 5778              		.loc 1 4834 0
 5779 0044 012B     		cmp	r3, #1
 5780 0046 02D0     		beq	.L536
 5781              	.LVL493:
 5782              	.L529:
 5783              	.LBB217:
 5784              	.LBB218:
 5785              		.loc 2 229 0
 5786              		.syntax unified
 5787              	@ 229 "Src/RTOS/Inc/portmacro.h" 1
 5788 0048 86F31188 			msr basepri, r6	
 5789              	@ 0 "" 2
 5790              	.LVL494:
 5791              		.thumb
 5792              		.syntax unified
 5793              	.LBE218:
 5794              	.LBE217:
4874:Src/RTOS/tasks.c **** 
 5795              		.loc 1 4874 0
 5796 004c F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 5797              	.LVL495:
 5798              	.L536:
4837:Src/RTOS/tasks.c **** 
 5799              		.loc 1 4837 0
 5800 004e A36A     		ldr	r3, [r4, #40]
 5801              	.LVL496:
 5802 0050 43B1     		cbz	r3, .L530
 5803              	.LBB219:
 5804              	.LBB220:
 195:Src/RTOS/Inc/portmacro.h **** 	(
 5805              		.loc 2 195 0
 5806              		.syntax unified
 5807              	@ 195 "Src/RTOS/Inc/portmacro.h" 1
 5808 0052 4FF05003 			mov r3, #80												
 5809 0056 83F31188 		msr basepri, r3											
 5810 005a BFF36F8F 		isb														
 5811 005e BFF34F8F 		dsb														
 5812              	
 5813              	@ 0 "" 2
 5814              	.LVL497:
 5815              		.thumb
 5816              		.syntax unified
 5817              	.L531:
 5818 0062 FEE7     		b	.L531
 5819              	.L530:
 5820              	.LBE220:
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 206


 5821              	.LBE219:
4839:Src/RTOS/tasks.c **** 				{
 5822              		.loc 1 4839 0
 5823 0064 144B     		ldr	r3, .L537
 5824 0066 1B68     		ldr	r3, [r3]
 5825 0068 DBB9     		cbnz	r3, .L532
4841:Src/RTOS/tasks.c **** 					prvAddTaskToReadyList( pxTCB );
 5826              		.loc 1 4841 0
 5827 006a 271D     		adds	r7, r4, #4
 5828 006c 3846     		mov	r0, r7
 5829 006e FFF7FEFF 		bl	uxListRemove
 5830              	.LVL498:
4842:Src/RTOS/tasks.c **** 				}
 5831              		.loc 1 4842 0
 5832 0072 E26A     		ldr	r2, [r4, #44]
 5833 0074 0123     		movs	r3, #1
 5834 0076 9340     		lsls	r3, r3, r2
 5835 0078 1049     		ldr	r1, .L537+4
 5836 007a 0868     		ldr	r0, [r1]
 5837 007c 0343     		orrs	r3, r3, r0
 5838 007e 0B60     		str	r3, [r1]
 5839 0080 3946     		mov	r1, r7
 5840 0082 0F4B     		ldr	r3, .L537+8
 5841 0084 1420     		movs	r0, #20
 5842 0086 00FB0230 		mla	r0, r0, r2, r3
 5843 008a FFF7FEFF 		bl	vListInsertEnd
 5844              	.LVL499:
 5845              	.L533:
4851:Src/RTOS/tasks.c **** 				{
 5846              		.loc 1 4851 0
 5847 008e E26A     		ldr	r2, [r4, #44]
 5848 0090 0C4B     		ldr	r3, .L537+12
 5849 0092 1B68     		ldr	r3, [r3]
 5850 0094 DB6A     		ldr	r3, [r3, #44]
 5851 0096 9A42     		cmp	r2, r3
 5852 0098 D6D9     		bls	.L529
4855:Src/RTOS/tasks.c **** 					{
 5853              		.loc 1 4855 0
 5854 009a 45B1     		cbz	r5, .L534
4857:Src/RTOS/tasks.c **** 					}
 5855              		.loc 1 4857 0
 5856 009c 0123     		movs	r3, #1
 5857 009e 2B60     		str	r3, [r5]
 5858 00a0 D2E7     		b	.L529
 5859              	.L532:
4848:Src/RTOS/tasks.c **** 				}
 5860              		.loc 1 4848 0
 5861 00a2 04F11801 		add	r1, r4, #24
 5862 00a6 0848     		ldr	r0, .L537+16
 5863 00a8 FFF7FEFF 		bl	vListInsertEnd
 5864              	.LVL500:
 5865 00ac EFE7     		b	.L533
 5866              	.L534:
4864:Src/RTOS/tasks.c **** 					}
 5867              		.loc 1 4864 0
 5868 00ae 074B     		ldr	r3, .L537+20
 5869 00b0 0122     		movs	r2, #1
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 207


 5870 00b2 1A60     		str	r2, [r3]
 5871 00b4 C8E7     		b	.L529
 5872              	.L538:
 5873 00b6 00BF     		.align	2
 5874              	.L537:
 5875 00b8 00000000 		.word	.LANCHOR16
 5876 00bc 00000000 		.word	.LANCHOR13
 5877 00c0 00000000 		.word	.LANCHOR4
 5878 00c4 00000000 		.word	.LANCHOR10
 5879 00c8 00000000 		.word	.LANCHOR1
 5880 00cc 00000000 		.word	.LANCHOR20
 5881              		.cfi_endproc
 5882              	.LFE60:
 5884              		.section	.text.xTaskNotifyStateClear,"ax",%progbits
 5885              		.align	1
 5886              		.global	xTaskNotifyStateClear
 5887              		.syntax unified
 5888              		.thumb
 5889              		.thumb_func
 5890              		.fpu fpv4-sp-d16
 5892              	xTaskNotifyStateClear:
 5893              	.LFB61:
4883:Src/RTOS/tasks.c **** 	TCB_t *pxTCB;
 5894              		.loc 1 4883 0
 5895              		.cfi_startproc
 5896              		@ args = 0, pretend = 0, frame = 0
 5897              		@ frame_needed = 0, uses_anonymous_args = 0
 5898              	.LVL501:
 5899 0000 10B5     		push	{r4, lr}
 5900              	.LCFI55:
 5901              		.cfi_def_cfa_offset 8
 5902              		.cfi_offset 4, -8
 5903              		.cfi_offset 14, -4
4889:Src/RTOS/tasks.c **** 
 5904              		.loc 1 4889 0
 5905 0002 0446     		mov	r4, r0
 5906 0004 58B1     		cbz	r0, .L544
 5907              	.LVL502:
 5908              	.L540:
4891:Src/RTOS/tasks.c **** 		{
 5909              		.loc 1 4891 0 discriminator 4
 5910 0006 FFF7FEFF 		bl	vPortEnterCritical
 5911              	.LVL503:
4893:Src/RTOS/tasks.c **** 			{
 5912              		.loc 1 4893 0 discriminator 4
 5913 000a 94F85430 		ldrb	r3, [r4, #84]	@ zero_extendqisi2
 5914 000e DBB2     		uxtb	r3, r3
 5915 0010 022B     		cmp	r3, #2
 5916 0012 07D0     		beq	.L545
4900:Src/RTOS/tasks.c **** 			}
 5917              		.loc 1 4900 0
 5918 0014 0024     		movs	r4, #0
 5919              	.LVL504:
 5920              	.L541:
4903:Src/RTOS/tasks.c **** 
 5921              		.loc 1 4903 0
 5922 0016 FFF7FEFF 		bl	vPortExitCritical
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 208


 5923              	.LVL505:
4906:Src/RTOS/tasks.c **** 
 5924              		.loc 1 4906 0
 5925 001a 2046     		mov	r0, r4
 5926 001c 10BD     		pop	{r4, pc}
 5927              	.LVL506:
 5928              	.L544:
4889:Src/RTOS/tasks.c **** 
 5929              		.loc 1 4889 0 discriminator 1
 5930 001e 044B     		ldr	r3, .L546
 5931 0020 1C68     		ldr	r4, [r3]
 5932              	.LVL507:
 5933 0022 F0E7     		b	.L540
 5934              	.LVL508:
 5935              	.L545:
4895:Src/RTOS/tasks.c **** 				xReturn = pdPASS;
 5936              		.loc 1 4895 0
 5937 0024 0023     		movs	r3, #0
 5938 0026 84F85430 		strb	r3, [r4, #84]
 5939              	.LVL509:
4896:Src/RTOS/tasks.c **** 			}
 5940              		.loc 1 4896 0
 5941 002a 0124     		movs	r4, #1
 5942              	.LVL510:
 5943 002c F3E7     		b	.L541
 5944              	.L547:
 5945 002e 00BF     		.align	2
 5946              	.L546:
 5947 0030 00000000 		.word	.LANCHOR10
 5948              		.cfi_endproc
 5949              	.LFE61:
 5951              		.global	pxCurrentTCB
 5952              		.section	.bss.pxCurrentTCB,"aw",%nobits
 5953              		.align	2
 5954              		.set	.LANCHOR10,. + 0
 5957              	pxCurrentTCB:
 5958 0000 00000000 		.space	4
 5959              		.section	.bss.pxDelayedTaskList,"aw",%nobits
 5960              		.align	2
 5961              		.set	.LANCHOR2,. + 0
 5964              	pxDelayedTaskList:
 5965 0000 00000000 		.space	4
 5966              		.section	.bss.pxOverflowDelayedTaskList,"aw",%nobits
 5967              		.align	2
 5968              		.set	.LANCHOR8,. + 0
 5971              	pxOverflowDelayedTaskList:
 5972 0000 00000000 		.space	4
 5973              		.section	.bss.pxReadyTasksLists,"aw",%nobits
 5974              		.align	2
 5975              		.set	.LANCHOR4,. + 0
 5978              	pxReadyTasksLists:
 5979 0000 00000000 		.space	100
 5979      00000000 
 5979      00000000 
 5979      00000000 
 5979      00000000 
 5980              		.section	.bss.uxCurrentNumberOfTasks,"aw",%nobits
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 209


 5981              		.align	2
 5982              		.set	.LANCHOR9,. + 0
 5985              	uxCurrentNumberOfTasks:
 5986 0000 00000000 		.space	4
 5987              		.section	.bss.uxDeletedTasksWaitingCleanUp,"aw",%nobits
 5988              		.align	2
 5989              		.set	.LANCHOR14,. + 0
 5992              	uxDeletedTasksWaitingCleanUp:
 5993 0000 00000000 		.space	4
 5994              		.section	.bss.uxPendedTicks,"aw",%nobits
 5995              		.align	2
 5996              		.set	.LANCHOR19,. + 0
 5999              	uxPendedTicks:
 6000 0000 00000000 		.space	4
 6001              		.section	.bss.uxSchedulerSuspended,"aw",%nobits
 6002              		.align	2
 6003              		.set	.LANCHOR16,. + 0
 6006              	uxSchedulerSuspended:
 6007 0000 00000000 		.space	4
 6008              		.section	.bss.uxTaskNumber,"aw",%nobits
 6009              		.align	2
 6010              		.set	.LANCHOR12,. + 0
 6013              	uxTaskNumber:
 6014 0000 00000000 		.space	4
 6015              		.section	.bss.uxTopReadyPriority,"aw",%nobits
 6016              		.align	2
 6017              		.set	.LANCHOR13,. + 0
 6020              	uxTopReadyPriority:
 6021 0000 00000000 		.space	4
 6022              		.section	.bss.xDelayedTaskList1,"aw",%nobits
 6023              		.align	2
 6024              		.set	.LANCHOR5,. + 0
 6027              	xDelayedTaskList1:
 6028 0000 00000000 		.space	20
 6028      00000000 
 6028      00000000 
 6028      00000000 
 6028      00000000 
 6029              		.section	.bss.xDelayedTaskList2,"aw",%nobits
 6030              		.align	2
 6031              		.set	.LANCHOR6,. + 0
 6034              	xDelayedTaskList2:
 6035 0000 00000000 		.space	20
 6035      00000000 
 6035      00000000 
 6035      00000000 
 6035      00000000 
 6036              		.section	.bss.xIdleTaskHandle,"aw",%nobits
 6037              		.align	2
 6038              		.set	.LANCHOR17,. + 0
 6041              	xIdleTaskHandle:
 6042 0000 00000000 		.space	4
 6043              		.section	.bss.xNextTaskUnblockTime,"aw",%nobits
 6044              		.align	2
 6045              		.set	.LANCHOR3,. + 0
 6048              	xNextTaskUnblockTime:
 6049 0000 00000000 		.space	4
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 210


 6050              		.section	.bss.xNumOfOverflows,"aw",%nobits
 6051              		.align	2
 6052              		.set	.LANCHOR18,. + 0
 6055              	xNumOfOverflows:
 6056 0000 00000000 		.space	4
 6057              		.section	.bss.xPendingReadyList,"aw",%nobits
 6058              		.align	2
 6059              		.set	.LANCHOR1,. + 0
 6062              	xPendingReadyList:
 6063 0000 00000000 		.space	20
 6063      00000000 
 6063      00000000 
 6063      00000000 
 6063      00000000 
 6064              		.section	.bss.xSchedulerRunning,"aw",%nobits
 6065              		.align	2
 6066              		.set	.LANCHOR11,. + 0
 6069              	xSchedulerRunning:
 6070 0000 00000000 		.space	4
 6071              		.section	.bss.xSuspendedTaskList,"aw",%nobits
 6072              		.align	2
 6073              		.set	.LANCHOR0,. + 0
 6076              	xSuspendedTaskList:
 6077 0000 00000000 		.space	20
 6077      00000000 
 6077      00000000 
 6077      00000000 
 6077      00000000 
 6078              		.section	.bss.xTasksWaitingTermination,"aw",%nobits
 6079              		.align	2
 6080              		.set	.LANCHOR7,. + 0
 6083              	xTasksWaitingTermination:
 6084 0000 00000000 		.space	20
 6084      00000000 
 6084      00000000 
 6084      00000000 
 6084      00000000 
 6085              		.section	.bss.xTickCount,"aw",%nobits
 6086              		.align	2
 6087              		.set	.LANCHOR15,. + 0
 6090              	xTickCount:
 6091 0000 00000000 		.space	4
 6092              		.section	.bss.xYieldPending,"aw",%nobits
 6093              		.align	2
 6094              		.set	.LANCHOR20,. + 0
 6097              	xYieldPending:
 6098 0000 00000000 		.space	4
 6099              		.section	.rodata.vTaskStartScheduler.str1.4,"aMS",%progbits,1
 6100              		.align	2
 6101              	.LC0:
 6102 0000 49444C45 		.ascii	"IDLE\000"
 6102      00
 6103              		.text
 6104              	.Letext0:
 6105              		.file 3 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\lib\\gcc\\arm-none-eab
 6106              		.file 4 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 6107              		.file 5 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 211


 6108              		.file 6 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 6109              		.file 7 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 6110              		.file 8 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 6111              		.file 9 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\include
 6112              		.file 10 "Src/RTOS/Inc/projdefs.h"
 6113              		.file 11 "Src/RTOS/Inc/list.h"
 6114              		.file 12 "Src/RTOS/Inc/task.h"
 6115              		.file 13 "Src/RTOS/Inc/portable.h"
 6116              		.file 14 "Src/RTOS/Inc/timers.h"
 6117              		.file 15 "c:\\program files (x86)\\gnu tools arm embedded\\7 2018-q2-update\\arm-none-eabi\\includ
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 212


DEFINED SYMBOLS
                            *ABS*:00000000 tasks.c
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:18     .text.prvTaskIsTaskSuspended:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:24     .text.prvTaskIsTaskSuspended:00000000 prvTaskIsTaskSuspended
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:92     .text.prvTaskIsTaskSuspended:00000038 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:98     .text.prvTaskCheckFreeStackSpace:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:104    .text.prvTaskCheckFreeStackSpace:00000000 prvTaskCheckFreeStackSpace
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:138    .text.prvResetNextTaskUnblockTime:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:144    .text.prvResetNextTaskUnblockTime:00000000 prvResetNextTaskUnblockTime
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:178    .text.prvResetNextTaskUnblockTime:00000024 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:184    .text.prvDeleteTCB:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:190    .text.prvDeleteTCB:00000000 prvDeleteTCB
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:218    .text.prvInitialiseNewTask:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:224    .text.prvInitialiseNewTask:00000000 prvInitialiseNewTask
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:344    .text.prvInitialiseTaskLists:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:350    .text.prvInitialiseTaskLists:00000000 prvInitialiseTaskLists
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:417    .text.prvInitialiseTaskLists:00000048 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:429    .text.prvAddNewTaskToReadyList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:435    .text.prvAddNewTaskToReadyList:00000000 prvAddNewTaskToReadyList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:545    .text.prvAddNewTaskToReadyList:00000090 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:556    .text.prvCheckTasksWaitingTermination:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:562    .text.prvCheckTasksWaitingTermination:00000000 prvCheckTasksWaitingTermination
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:629    .text.prvCheckTasksWaitingTermination:00000040 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:636    .text.prvIdleTask:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:642    .text.prvIdleTask:00000000 prvIdleTask
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:682    .text.prvIdleTask:00000020 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:688    .text.prvAddCurrentTaskToDelayedList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:694    .text.prvAddCurrentTaskToDelayedList:00000000 prvAddCurrentTaskToDelayedList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:795    .text.prvAddCurrentTaskToDelayedList:0000007c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:806    .text.xTaskCreate:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:813    .text.xTaskCreate:00000000 xTaskCreate
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:918    .text.vTaskDelete:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:925    .text.vTaskDelete:00000000 vTaskDelete
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1077   .text.vTaskDelete:000000b8 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1091   .text.eTaskGetState:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1098   .text.eTaskGetState:00000000 eTaskGetState
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1212   .text.eTaskGetState:0000006c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1221   .text.uxTaskPriorityGet:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1228   .text.uxTaskPriorityGet:00000000 uxTaskPriorityGet
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1267   .text.uxTaskPriorityGet:0000001c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1272   .text.uxTaskPriorityGetFromISR:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1279   .text.uxTaskPriorityGetFromISR:00000000 uxTaskPriorityGetFromISR
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1342   .text.uxTaskPriorityGetFromISR:0000002c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1347   .text.vTaskPrioritySet:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1354   .text.vTaskPrioritySet:00000000 vTaskPrioritySet
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1532   .text.vTaskPrioritySet:000000cc $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1540   .text.vTaskResume:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1547   .text.vTaskResume:00000000 vTaskResume
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1650   .text.vTaskResume:00000074 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1658   .text.xTaskResumeFromISR:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1665   .text.xTaskResumeFromISR:00000000 xTaskResumeFromISR
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1798   .text.xTaskResumeFromISR:00000090 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1807   .text.vTaskStartScheduler:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1814   .text.vTaskStartScheduler:00000000 vTaskStartScheduler
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1917   .text.vTaskStartScheduler:0000006c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1929   .text.vTaskEndScheduler:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1936   .text.vTaskEndScheduler:00000000 vTaskEndScheduler
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 213


C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1974   .text.vTaskEndScheduler:00000020 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1979   .text.vTaskSuspendAll:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:1986   .text.vTaskSuspendAll:00000000 vTaskSuspendAll
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2003   .text.vTaskSuspendAll:0000000c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2008   .text.xTaskGetTickCount:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2015   .text.xTaskGetTickCount:00000000 xTaskGetTickCount
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2031   .text.xTaskGetTickCount:00000008 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2036   .text.xTaskGetTickCountFromISR:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2043   .text.xTaskGetTickCountFromISR:00000000 xTaskGetTickCountFromISR
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2066   .text.xTaskGetTickCountFromISR:0000000c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2071   .text.uxTaskGetNumberOfTasks:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2078   .text.uxTaskGetNumberOfTasks:00000000 uxTaskGetNumberOfTasks
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2093   .text.uxTaskGetNumberOfTasks:00000008 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2098   .text.pcTaskGetName:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2105   .text.pcTaskGetName:00000000 pcTaskGetName
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2151   .text.pcTaskGetName:00000024 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2158   .text.xTaskIncrementTick:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2165   .text.xTaskIncrementTick:00000000 xTaskIncrementTick
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2369   .text.xTaskIncrementTick:000000ec $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2384   .text.xTaskResumeAll:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2391   .text.xTaskResumeAll:00000000 xTaskResumeAll
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2575   .text.xTaskResumeAll:000000d0 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2588   .text.vTaskDelayUntil:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2595   .text.vTaskDelayUntil:00000000 vTaskDelayUntil
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2760   .text.vTaskDelayUntil:00000098 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2768   .text.vTaskDelay:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2775   .text.vTaskDelay:00000000 vTaskDelay
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2848   .text.vTaskDelay:00000044 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2854   .text.vTaskSwitchContext:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2861   .text.vTaskSwitchContext:00000000 vTaskSwitchContext
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2988   .text.vTaskSwitchContext:00000084 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:2999   .text.vTaskSuspend:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3006   .text.vTaskSuspend:00000000 vTaskSuspend
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3172   .text.vTaskSuspend:000000cc $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3184   .text.vTaskPlaceOnEventList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3191   .text.vTaskPlaceOnEventList:00000000 vTaskPlaceOnEventList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3244   .text.vTaskPlaceOnEventList:0000002c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3249   .text.vTaskPlaceOnUnorderedEventList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3256   .text.vTaskPlaceOnUnorderedEventList:00000000 vTaskPlaceOnUnorderedEventList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3344   .text.vTaskPlaceOnUnorderedEventList:00000054 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3350   .text.vTaskPlaceOnEventListRestricted:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3357   .text.vTaskPlaceOnEventListRestricted:00000000 vTaskPlaceOnEventListRestricted
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3419   .text.vTaskPlaceOnEventListRestricted:00000034 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3424   .text.xTaskRemoveFromEventList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3431   .text.xTaskRemoveFromEventList:00000000 xTaskRemoveFromEventList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3534   .text.xTaskRemoveFromEventList:00000074 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3544   .text.vTaskRemoveFromUnorderedEventList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3551   .text.vTaskRemoveFromUnorderedEventList:00000000 vTaskRemoveFromUnorderedEventList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3655   .text.vTaskRemoveFromUnorderedEventList:00000074 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3666   .text.vTaskSetTimeOutState:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3673   .text.vTaskSetTimeOutState:00000000 vTaskSetTimeOutState
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3728   .text.vTaskSetTimeOutState:00000030 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3734   .text.vTaskInternalSetTimeOutState:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3741   .text.vTaskInternalSetTimeOutState:00000000 vTaskInternalSetTimeOutState
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3762   .text.vTaskInternalSetTimeOutState:00000010 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3768   .text.xTaskCheckForTimeOut:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3775   .text.xTaskCheckForTimeOut:00000000 xTaskCheckForTimeOut
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 214


C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3907   .text.xTaskCheckForTimeOut:00000078 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3914   .text.vTaskMissedYield:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3921   .text.vTaskMissedYield:00000000 vTaskMissedYield
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3937   .text.vTaskMissedYield:00000008 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3942   .text.uxTaskGetTaskNumber:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3949   .text.uxTaskGetTaskNumber:00000000 uxTaskGetTaskNumber
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3975   .text.vTaskSetTaskNumber:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:3982   .text.vTaskSetTaskNumber:00000000 vTaskSetTaskNumber
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4003   .text.vTaskGetInfo:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4010   .text.vTaskGetInfo:00000000 vTaskGetInfo
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4123   .text.vTaskGetInfo:00000074 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4128   .text.prvListTasksWithinSingleList:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4134   .text.prvListTasksWithinSingleList:00000000 prvListTasksWithinSingleList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4235   .text.uxTaskGetSystemState:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4242   .text.uxTaskGetSystemState:00000000 uxTaskGetSystemState
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4358   .text.uxTaskGetSystemState:00000098 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4368   .text.xTaskGetCurrentTaskHandle:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4375   .text.xTaskGetCurrentTaskHandle:00000000 xTaskGetCurrentTaskHandle
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4391   .text.xTaskGetCurrentTaskHandle:00000008 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4396   .text.xTaskGetSchedulerState:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4403   .text.xTaskGetSchedulerState:00000000 xTaskGetSchedulerState
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4435   .text.xTaskGetSchedulerState:00000018 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4441   .text.xTaskPriorityInherit:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4448   .text.xTaskPriorityInherit:00000000 xTaskPriorityInherit
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4586   .text.xTaskPriorityInherit:000000ac $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4593   .text.xTaskPriorityDisinherit:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4600   .text.xTaskPriorityDisinherit:00000000 xTaskPriorityDisinherit
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4754   .text.xTaskPriorityDisinherit:000000a4 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4761   .text.vTaskPriorityDisinheritAfterTimeout:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4768   .text.vTaskPriorityDisinheritAfterTimeout:00000000 vTaskPriorityDisinheritAfterTimeout
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4927   .text.vTaskPriorityDisinheritAfterTimeout:000000b4 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4934   .text.uxTaskResetEventItemValue:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4941   .text.uxTaskResetEventItemValue:00000000 uxTaskResetEventItemValue
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4964   .text.uxTaskResetEventItemValue:00000014 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4969   .text.pvTaskIncrementMutexHeldCount:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:4976   .text.pvTaskIncrementMutexHeldCount:00000000 pvTaskIncrementMutexHeldCount
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5002   .text.pvTaskIncrementMutexHeldCount:00000018 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5007   .text.ulTaskNotifyTake:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5014   .text.ulTaskNotifyTake:00000000 ulTaskNotifyTake
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5110   .text.ulTaskNotifyTake:00000070 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5116   .text.xTaskNotifyWait:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5123   .text.xTaskNotifyWait:00000000 xTaskNotifyWait
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5239   .text.xTaskNotifyWait:00000090 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5245   .text.xTaskGenericNotify:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5252   .text.xTaskGenericNotify:00000000 xTaskGenericNotify
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5318   .text.xTaskGenericNotify:0000003e $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5322   .text.xTaskGenericNotify:00000042 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5444   .text.xTaskGenericNotify:000000d0 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5452   .text.xTaskGenericNotifyFromISR:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5459   .text.xTaskGenericNotifyFromISR:00000000 xTaskGenericNotifyFromISR
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5544   .text.xTaskGenericNotifyFromISR:0000005c $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5548   .text.xTaskGenericNotifyFromISR:00000060 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5692   .text.xTaskGenericNotifyFromISR:00000108 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5702   .text.vTaskNotifyGiveFromISR:00000000 $t
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5709   .text.vTaskNotifyGiveFromISR:00000000 vTaskNotifyGiveFromISR
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5875   .text.vTaskNotifyGiveFromISR:000000b8 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5885   .text.xTaskNotifyStateClear:00000000 $t
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 215


C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5892   .text.xTaskNotifyStateClear:00000000 xTaskNotifyStateClear
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5947   .text.xTaskNotifyStateClear:00000030 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5957   .bss.pxCurrentTCB:00000000 pxCurrentTCB
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5953   .bss.pxCurrentTCB:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5960   .bss.pxDelayedTaskList:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5964   .bss.pxDelayedTaskList:00000000 pxDelayedTaskList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5967   .bss.pxOverflowDelayedTaskList:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5971   .bss.pxOverflowDelayedTaskList:00000000 pxOverflowDelayedTaskList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5974   .bss.pxReadyTasksLists:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5978   .bss.pxReadyTasksLists:00000000 pxReadyTasksLists
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5981   .bss.uxCurrentNumberOfTasks:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5985   .bss.uxCurrentNumberOfTasks:00000000 uxCurrentNumberOfTasks
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5988   .bss.uxDeletedTasksWaitingCleanUp:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5992   .bss.uxDeletedTasksWaitingCleanUp:00000000 uxDeletedTasksWaitingCleanUp
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5995   .bss.uxPendedTicks:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:5999   .bss.uxPendedTicks:00000000 uxPendedTicks
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6002   .bss.uxSchedulerSuspended:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6006   .bss.uxSchedulerSuspended:00000000 uxSchedulerSuspended
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6009   .bss.uxTaskNumber:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6013   .bss.uxTaskNumber:00000000 uxTaskNumber
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6016   .bss.uxTopReadyPriority:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6020   .bss.uxTopReadyPriority:00000000 uxTopReadyPriority
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6023   .bss.xDelayedTaskList1:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6027   .bss.xDelayedTaskList1:00000000 xDelayedTaskList1
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6030   .bss.xDelayedTaskList2:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6034   .bss.xDelayedTaskList2:00000000 xDelayedTaskList2
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6037   .bss.xIdleTaskHandle:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6041   .bss.xIdleTaskHandle:00000000 xIdleTaskHandle
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6044   .bss.xNextTaskUnblockTime:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6048   .bss.xNextTaskUnblockTime:00000000 xNextTaskUnblockTime
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6051   .bss.xNumOfOverflows:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6055   .bss.xNumOfOverflows:00000000 xNumOfOverflows
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6058   .bss.xPendingReadyList:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6062   .bss.xPendingReadyList:00000000 xPendingReadyList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6065   .bss.xSchedulerRunning:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6069   .bss.xSchedulerRunning:00000000 xSchedulerRunning
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6072   .bss.xSuspendedTaskList:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6076   .bss.xSuspendedTaskList:00000000 xSuspendedTaskList
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6079   .bss.xTasksWaitingTermination:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6083   .bss.xTasksWaitingTermination:00000000 xTasksWaitingTermination
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6086   .bss.xTickCount:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6090   .bss.xTickCount:00000000 xTickCount
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6093   .bss.xYieldPending:00000000 $d
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6097   .bss.xYieldPending:00000000 xYieldPending
C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s:6100   .rodata.vTaskStartScheduler.str1.4:00000000 $d

UNDEFINED SYMBOLS
vPortFree
memset
vListInitialiseItem
pxPortInitialiseStack
vListInitialise
vPortEnterCritical
vListInsertEnd
vPortExitCritical
uxListRemove
vListInsert
ARM GAS  C:\Users\RodrigWi\AppData\Local\Temp\ccACZOKe.s 			page 216


pvPortMalloc
vPortValidateInterruptPriority
xTimerCreateTimerTask
xPortStartScheduler
vPortEndScheduler
